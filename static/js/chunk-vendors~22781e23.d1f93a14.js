(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~22781e23"],{"0a88":function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var a=r("1a5d"),n=r("61ad"),i=r("c937"),s=r("e2a6"),o=r("48c1"),c=r("dc50"),u=r("816c");function p(e){e=Object(a["a"])(e,a["a"].EMPTY_OBJECT);const t=e.schema,r=e.resource,c=e.cacheKey;if(Object(i["a"])(t)===Object(i["a"])(r))throw new s["a"]("One of options.schema and options.resource must be defined.");this._schema=Object(i["a"])(t)?new o["a"](t):void 0,this._resource=r,this._cacheKey=c,this._state=u["a"].UNLOADED,this._promise=Object(n["a"])()}function f(e){const t=e._resource;e._state=u["a"].LOADING,t.fetchJson().then((function(t){e.isDestroyed()||(e._schema=new o["a"](t),e._state=u["a"].READY,e._promise.resolve(e))})).catch((function(r){if(e.isDestroyed())return;e._state=u["a"].FAILED;const a="Failed to load schema: "+t.url;e._promise.reject(e.getError(a,r))}))}Object(i["a"])(Object.create)&&(p.prototype=Object.create(c["a"].prototype),p.prototype.constructor=p),Object.defineProperties(p.prototype,{promise:{get:function(){return this._promise.promise}},cacheKey:{get:function(){return this._cacheKey}},schema:{get:function(){return this._schema}}}),p.prototype.load=function(){Object(i["a"])(this._schema)?this._promise.resolve(this):f(this)},p.prototype.unload=function(){this._schema=void 0}},"111b":function(e,t,r){"use strict";var a=r("85b2"),n=r("dde0"),i=r("6b82"),s=r("ae9b"),o=r("1a5d"),c=r("c937"),u=r("e2a6"),p=r("d70f"),f=r("d767"),l=r("722e"),h=r("179a"),y=r("b28f");function m(e){e=Object(o["a"])(e,o["a"].EMPTY_OBJECT);const t=e.id,r=e.property;s["a"].typeOf.string("options.id",t),s["a"].typeOf.object("options.property",r),s["a"].typeOf.string("options.property.type",r.type);const a=d(r),n=_(r,e.enums),i=n.componentType,u=Object(c["a"])(i)&&y["a"].isIntegerType(i)&&Object(o["a"])(r.normalized,!1);this._id=t,this._name=r.name,this._description=r.description,this._semantic=r.semantic,this._isLegacyExtension=a,this._type=n.type,this._componentType=i,this._enumType=n.enumType,this._valueType=n.valueType,this._isArray=n.isArray,this._isVariableLengthArray=n.isVariableLengthArray,this._arrayLength=n.arrayLength,this._min=r.min,this._max=r.max,this._normalized=u;let p=r.offset,f=r.scale;const l=Object(c["a"])(p)||Object(c["a"])(f),h=!0;let m;Object(c["a"])(p)||(p=this.expandConstant(0,h)),Object(c["a"])(f)||(f=this.expandConstant(1,h)),this._offset=p,this._scale=f,this._hasValueTransform=l,this._noData=r.noData,this._default=r.default,m=!!Object(c["a"])(a)&&(a?!Object(c["a"])(r.optional)||!r.optional:Object(o["a"])(r.required,!1)),this._required=m,this._extras=r.extras,this._extensions=r.extensions}function d(e){if("ARRAY"===e.type)return!0;const t=e.type;return t!==h["a"].SCALAR&&!h["a"].isMatrixType(t)&&!h["a"].isVectorType(t)&&(!!y["a"].isNumericType(t)||!(Object(c["a"])(e.noData)||Object(c["a"])(e.scale)||Object(c["a"])(e.offset)||Object(c["a"])(e.required)||Object(c["a"])(e.count)||Object(c["a"])(e.array))&&(!Object(c["a"])(e.optional)&&void 0))}function _(e,t){const r=e.type,a=e.componentType,n="ARRAY"===r;let i,s,o,p;if(n?(i=!0,s=e.componentCount,o=!Object(c["a"])(s)):e.array?(i=!0,s=e.count,o=!Object(c["a"])(e.count)):(i=!1,s=void 0,o=!1),Object(c["a"])(e.enumType)&&(p=t[e.enumType]),r===h["a"].ENUM)return{type:r,componentType:void 0,enumType:p,valueType:p.valueType,isArray:i,isVariableLengthArray:o,arrayLength:s};if(n&&a===h["a"].ENUM)return{type:a,componentType:void 0,enumType:p,valueType:p.valueType,isArray:i,isVariableLengthArray:o,arrayLength:s};if(r===h["a"].SCALAR||h["a"].isMatrixType(r)||h["a"].isVectorType(r))return{type:r,componentType:a,enumType:void 0,valueType:a,isArray:i,isVariableLengthArray:o,arrayLength:s};if(r===h["a"].BOOLEAN||r===h["a"].STRING)return{type:r,componentType:void 0,enumType:void 0,valueType:void 0,isArray:i,isVariableLengthArray:o,arrayLength:s};if(n&&(a===h["a"].BOOLEAN||a===h["a"].STRING))return{type:a,componentType:void 0,enumType:void 0,valueType:void 0,isArray:i,isVariableLengthArray:o,arrayLength:s};if(Object(c["a"])(a)&&y["a"].isNumericType(a))return{type:h["a"].SCALAR,componentType:a,enumType:void 0,valueType:a,isArray:i,isVariableLengthArray:o,arrayLength:s};if(y["a"].isNumericType(r))return{type:h["a"].SCALAR,componentType:r,enumType:void 0,valueType:r,isArray:i,isVariableLengthArray:o,arrayLength:s};throw new u["a"](`unknown metadata type {type: ${r}, componentType: ${a})`)}function g(e,t){if(!Array.isArray(e))return e===t;if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!g(e[r],t[r]))return!1;return!0}function T(e,t){if(!Array.isArray(t))return`value ${t} must be an array`;const r=t.length;if(!e._isVariableLengthArray&&r!==e._arrayLength)return"Array length does not match property.arrayLength";for(let a=0;a<r;a++){const r=b(e,t[a]);if(Object(c["a"])(r))return r}}function b(e,t){const r=e._type,a=e._componentType,n=e._enumType,i=e._normalized;return h["a"].isVectorType(r)?O(t,r,a):h["a"].isMatrixType(r)?I(t,r,a):r===h["a"].STRING?v(t):r===h["a"].BOOLEAN?w(t):r===h["a"].ENUM?N(t,n):j(t,a,i)}function O(e,t,r){return y["a"].isVectorCompatible(r)?t!==h["a"].VEC2||e instanceof a["a"]?t!==h["a"].VEC3||e instanceof n["a"]?t!==h["a"].VEC4||e instanceof i["a"]?void 0:`vector value ${e} must be a Cartesian4`:`vector value ${e} must be a Cartesian3`:`vector value ${e} must be a Cartesian2`:`componentType ${r} is incompatible with vector type ${t}`}function I(e,t,r){return y["a"].isVectorCompatible(r)?t!==h["a"].MAT2||e instanceof p["a"]?t!==h["a"].MAT3||e instanceof f["a"]?t!==h["a"].MAT4||e instanceof l["a"]?void 0:`matrix value ${e} must be a Matrix4`:`matrix value ${e} must be a Matrix3`:`matrix value ${e} must be a Matrix2`:`componentType ${r} is incompatible with matrix type ${t}`}function v(e){if("string"!==typeof e)return A(e,h["a"].STRING)}function w(e){if("boolean"!==typeof e)return A(e,h["a"].BOOLEAN)}function N(e,t){const r=typeof e;if(Object(c["a"])(t))return"string"===r&&Object(c["a"])(t.valuesByName[e])?void 0:`value ${e} is not a valid enum name for ${t.id}`}function j(e,t,r){const a=typeof e;switch(t){case y["a"].INT8:case y["a"].UINT8:case y["a"].INT16:case y["a"].UINT16:case y["a"].INT32:case y["a"].UINT32:case y["a"].FLOAT32:case y["a"].FLOAT64:return"number"!==a?A(e,t):isFinite(e)?M(e,t,r):x(e,t);case y["a"].INT64:case y["a"].UINT64:return"number"!==a&&"bigint"!==a?A(e,t):"number"!==a||isFinite(e)?M(e,t,r):x(e,t)}}function A(e,t){return`value ${e} does not match type ${t}`}function C(e,t,r){let a=`value ${e} is out of range for type ${t}`;return r&&(a+=" (normalized)"),a}function M(e,t,r){if(r){const a=y["a"].isUnsignedIntegerType(t)?0:-1,n=1;return e<a||e>n?C(e,t,r):void 0}if(e<y["a"].getMinimum(t)||e>y["a"].getMaximum(t))return C(e,t,r)}function x(e,t){return`value ${e} of type ${t} must be finite`}function P(e,t,r){if(!Array.isArray(e))return r(e,t);for(let a=0;a<e.length;a++)e[a]=P(e[a],t,r);return e}Object.defineProperties(m.prototype,{id:{get:function(){return this._id}},name:{get:function(){return this._name}},description:{get:function(){return this._description}},type:{get:function(){return this._type}},enumType:{get:function(){return this._enumType}},componentType:{get:function(){return this._componentType}},valueType:{get:function(){return this._valueType}},isArray:{get:function(){return this._isArray}},isVariableLengthArray:{get:function(){return this._isVariableLengthArray}},arrayLength:{get:function(){return this._arrayLength}},normalized:{get:function(){return this._normalized}},max:{get:function(){return this._max}},min:{get:function(){return this._min}},noData:{get:function(){return this._noData}},default:{get:function(){return this._default}},required:{get:function(){return this._required}},semantic:{get:function(){return this._semantic}},hasValueTransform:{get:function(){return this._hasValueTransform}},offset:{get:function(){return this._offset}},scale:{get:function(){return this._scale}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),m.prototype.normalize=function(e){return this._normalized?P(e,this._valueType,y["a"].normalize):e},m.prototype.unnormalize=function(e){return this._normalized?P(e,this._valueType,y["a"].unnormalize):e},m.prototype.applyValueTransform=function(e){return!this._hasValueTransform||this._isVariableLengthArray?e:m.valueTransformInPlace(e,this._offset,this._scale,y["a"].applyValueTransform)},m.prototype.unapplyValueTransform=function(e){return!this._hasValueTransform||this._isVariableLengthArray?e:m.valueTransformInPlace(e,this._offset,this._scale,y["a"].unapplyValueTransform)},m.prototype.expandConstant=function(e,t){t=Object(o["a"])(t,!1);const r=this._isArray,a=this._arrayLength,n=h["a"].getComponentCount(this._type),i=r&&n>1;if(!r&&1===n)return e;if(!r)return new Array(n).fill(e);if(!i)return new Array(a).fill(e);if(!t)return new Array(this._arrayLength*n).fill(e);const s=new Array(n).fill(e);return new Array(this._arrayLength).fill(s)},m.prototype.handleNoData=function(e){const t=this._noData;return Object(c["a"])(t)&&g(e,t)?void 0:e},m.prototype.unpackVectorAndMatrixTypes=function(e,t){t=Object(o["a"])(t,!1);const r=h["a"].getMathType(this._type),a=this._isArray,n=h["a"].getComponentCount(this._type),i=a&&n>1;return Object(c["a"])(r)?t&&i?e.map((function(e){return r.unpack(e)})):a?r.unpackArray(e):r.unpack(e):e},m.prototype.packVectorAndMatrixTypes=function(e,t){t=Object(o["a"])(t,!1);const r=h["a"].getMathType(this._type),a=this._isArray,n=h["a"].getComponentCount(this._type),i=a&&n>1;return Object(c["a"])(r)?t&&i?e.map((function(e){return r.pack(e,[])})):a?r.packArray(e,[]):r.pack(e,[]):e},m.prototype.validate=function(e){if(Object(c["a"])(e)||!Object(c["a"])(this._default))return this._required&&!Object(c["a"])(e)?"required property must have a value":this._isArray?T(this,e):b(this,e)},m.valueTransformInPlace=function(e,t,r,a){if(!Array.isArray(e))return a(e,t,r);for(let n=0;n<e.length;n++)e[n]=m.valueTransformInPlace(e[n],t[n],r[n],a);return e},t["a"]=m},"179a":function(e,t,r){"use strict";var a=r("ae9b"),n=r("85b2"),i=r("dde0"),s=r("6b82"),o=r("e2a6"),c=r("d70f"),u=r("d767"),p=r("722e");const f={SCALAR:"SCALAR",VEC2:"VEC2",VEC3:"VEC3",VEC4:"VEC4",MAT2:"MAT2",MAT3:"MAT3",MAT4:"MAT4",BOOLEAN:"BOOLEAN",STRING:"STRING",ENUM:"ENUM",isVectorType:function(e){switch(a["a"].typeOf.string("type",e),e){case f.VEC2:case f.VEC3:case f.VEC4:return!0;default:return!1}},isMatrixType:function(e){switch(a["a"].typeOf.string("type",e),e){case f.MAT2:case f.MAT3:case f.MAT4:return!0;default:return!1}},getComponentCount:function(e){switch(a["a"].typeOf.string("type",e),e){case f.SCALAR:case f.STRING:case f.ENUM:case f.BOOLEAN:return 1;case f.VEC2:return 2;case f.VEC3:return 3;case f.VEC4:return 4;case f.MAT2:return 4;case f.MAT3:return 9;case f.MAT4:return 16;default:throw new o["a"]("Invalid metadata type "+e)}},getMathType:function(e){switch(e){case f.VEC2:return n["a"];case f.VEC3:return i["a"];case f.VEC4:return s["a"];case f.MAT2:return c["a"];case f.MAT3:return u["a"];case f.MAT4:return p["a"];default:return}}};t["a"]=Object.freeze(f)},"46bd":function(e,t,r){"use strict";var a=r("85b2"),n=r("44e9"),i=r("4051"),s=r("2fad"),o=r("0b4a"),c=r("1a5d"),u=r("c937"),p=r("21b7"),f=r("e2a6"),l=r("0dea"),h=r("d70f"),y=r("d767"),m=r("722e"),d=r("9f38"),_=r("ef87"),g=r("1a75"),T=r("6762"),b=r("aed2"),O=r("94ed"),I=r("a616"),v=r("7d62"),w=r("b04a"),N=r("279a"),j=r("61f1"),A=r("d304"),C=r("0ec3"),M=r("bc1a"),x=r("6e8e"),P=r("2217"),E=r("d7f0"),S=r("a76c"),L=r("4d68"),B=r("74ad"),V=r("ed0b"),U=r("50de"),D=r("518b"),F=r("375b");function R(e){this.type=void 0,this.shaderSource=void 0,this.materials=void 0,this.uniforms=void 0,this._uniforms=void 0,this.translucent=void 0,this._minificationFilter=Object(c["a"])(e.minificationFilter,D["a"].LINEAR),this._magnificationFilter=Object(c["a"])(e.magnificationFilter,U["a"].LINEAR),this._strict=void 0,this._template=void 0,this._count=void 0,this._texturePaths={},this._loadedImages=[],this._loadedCubeMaps=[],this._textures={},this._updateFunctions=[],this._defaultTexture=void 0,$(e,this),Object.defineProperties(this,{type:{value:this.type,writable:!1}}),Object(u["a"])(R._uniformList[this.type])||(R._uniformList[this.type]=Object.keys(this._uniforms))}function $(e,t){let r;e=Object(c["a"])(e,c["a"].EMPTY_OBJECT),t._strict=Object(c["a"])(e.strict,!1),t._count=Object(c["a"])(e.count,0),t._template=Object(n["a"])(Object(c["a"])(e.fabric,c["a"].EMPTY_OBJECT)),t._template.uniforms=Object(n["a"])(Object(c["a"])(t._template.uniforms,c["a"].EMPTY_OBJECT)),t._template.materials=Object(n["a"])(Object(c["a"])(t._template.materials,c["a"].EMPTY_OBJECT)),t.type=Object(u["a"])(t._template.type)?t._template.type:Object(o["a"])(),t.shaderSource="",t.materials={},t.uniforms={},t._uniforms={},t._translucentFunctions=[];const a=R._materialCache.getMaterial(t.type);if(Object(u["a"])(a)){const e=Object(n["a"])(a.fabric,!0);t._template=Object(s["a"])(t._template,e,!0),r=a.translucent}q(t),Object(u["a"])(a)||R._materialCache.addMaterial(t.type,t),J(t),ee(t),ae(t);const i=0===t._translucentFunctions.length||void 0;if(r=Object(c["a"])(r,i),r=Object(c["a"])(e.translucent,r),Object(u["a"])(r))if("function"===typeof r){const e=function(){return r(t)};t._translucentFunctions.push(e)}else t._translucentFunctions.push(r)}function k(e,t,r,a){if(Object(u["a"])(e))for(const n in e)if(e.hasOwnProperty(n)){const e=-1!==t.indexOf(n);(a&&!e||!a&&e)&&r(n,t)}}function G(e,t){let r=`fabric: property name '${e}' is not valid. It should be `;for(let a=0;a<t.length;a++){const e=`'${t[a]}'`;r+=a===t.length-1?`or ${e}.`:e+", "}throw new f["a"](r)}function z(e,t){const r=`fabric: uniforms and materials cannot share the same property '${e}'`;throw new f["a"](r)}R._uniformList={},R.fromType=function(e,t){if(!Object(u["a"])(R._materialCache.getMaterial(e)))throw new f["a"](`material with type '${e}' does not exist.`);const r=new R({fabric:{type:e}});if(Object(u["a"])(t))for(const a in t)t.hasOwnProperty(a)&&(r.uniforms[a]=t[a]);return r},R.prototype.isTranslucent=function(){if(Object(u["a"])(this.translucent))return"function"===typeof this.translucent?this.translucent():this.translucent;let e=!0;const t=this._translucentFunctions,r=t.length;for(let a=0;a<r;++a){const r=t[a];if(e="function"===typeof r?e&&r():e&&r,!e)break}return e},R.prototype.update=function(e){let t,r;this._defaultTexture=e.defaultTexture;const a=this._loadedImages;let n=a.length;for(t=0;t<n;++t){const n=a[t];r=n.id;let i,s=n.image;Array.isArray(s)&&(i=s.slice(1,s.length).map((function(e){return e.bufferView})),s=s[0]);const o=new L["a"]({minificationFilter:this._minificationFilter,magnificationFilter:this._magnificationFilter});let c;c=Object(u["a"])(s.internalFormat)?new g["a"]({context:e,pixelFormat:s.internalFormat,width:s.width,height:s.height,source:{arrayBufferView:s.bufferView,mipLevels:i},sampler:o}):new g["a"]({context:e,source:s,sampler:o});const p=this._textures[r];Object(u["a"])(p)&&p!==this._defaultTexture&&p.destroy(),this._textures[r]=c;const f=r+"Dimensions";if(this.uniforms.hasOwnProperty(f)){const e=this.uniforms[f];e.x=c._width,e.y=c._height}}a.length=0;const i=this._loadedCubeMaps;for(n=i.length,t=0;t<n;++t){const a=i[t];r=a.id;const n=a.images,s=new _["a"]({context:e,source:{positiveX:n[0],negativeX:n[1],positiveY:n[2],negativeY:n[3],positiveZ:n[4],negativeZ:n[5]},sampler:new L["a"]({minificationFilter:this._minificationFilter,magnificationFilter:this._magnificationFilter})});this._textures[r]=s}i.length=0;const s=this._updateFunctions;for(n=s.length,t=0;t<n;++t)s[t](this,e);const o=this.materials;for(const c in o)o.hasOwnProperty(c)&&o[c].update(e)},R.prototype.isDestroyed=function(){return!1},R.prototype.destroy=function(){const e=this._textures;for(const r in e)if(e.hasOwnProperty(r)){const t=e[r];t!==this._defaultTexture&&t.destroy()}const t=this.materials;for(const r in t)t.hasOwnProperty(r)&&t[r].destroy();return Object(p["a"])(this)};const H=["type","materials","uniforms","components","source"],Y=["diffuse","specular","shininess","normal","emission","alpha"];function q(e){const t=e._template,r=t.uniforms,a=t.materials,n=t.components;if(Object(u["a"])(n)&&Object(u["a"])(t.source))throw new f["a"]("fabric: cannot have source and components in the same template.");k(t,H,G,!0),k(n,Y,G,!0);const i=[];for(const s in a)a.hasOwnProperty(s)&&i.push(s);k(r,i,z,!1)}function X(e,t){const r=t._template.materials;for(const a in r)if(r.hasOwnProperty(a)&&e.indexOf(a)>-1)return!0;return!1}function J(e){const t=e._template.components,r=e._template.source;if(Object(u["a"])(r))e.shaderSource+=r+"\n";else{if(e.shaderSource+="czm_material czm_getMaterial(czm_materialInput materialInput)\n{\n",e.shaderSource+="czm_material material = czm_getDefaultMaterial(materialInput);\n",Object(u["a"])(t)){const r=Object.keys(e._template.materials).length>0;for(const a in t)if(t.hasOwnProperty(a))if("diffuse"===a||"emission"===a){const n=r&&X(t[a],e),i=n?t[a]:`czm_gammaCorrect(${t[a]})`;e.shaderSource+=`material.${a} = ${i}; \n`}else e.shaderSource+="alpha"===a?`material.alpha = ${t.alpha}; \n`:`material.${a} = ${t[a]};\n`}e.shaderSource+="return material;\n}\n"}}const W={mat2:h["a"],mat3:y["a"],mat4:m["a"]},Z=/\.ktx2$/i;function K(e){let t;return function(r,a){const n=r.uniforms,i=n[e],s=t!==i,o=!Object(u["a"])(i)||i===R.DefaultImageId;t=i;let c,p,f=r._textures[e];if(i instanceof HTMLVideoElement){if(i.readyState>=2){if(s&&Object(u["a"])(f)&&(f!==a.defaultTexture&&f.destroy(),f=void 0),!Object(u["a"])(f)||f===a.defaultTexture){const t=new L["a"]({minificationFilter:r._minificationFilter,magnificationFilter:r._magnificationFilter});return f=new g["a"]({context:a,source:i,sampler:t}),void(r._textures[e]=f)}f.copyFrom({source:i})}else Object(u["a"])(f)||(r._textures[e]=a.defaultTexture);return}if(i instanceof g["a"]&&i!==f){r._texturePaths[e]=void 0;const t=r._textures[e];return Object(u["a"])(t)&&t!==r._defaultTexture&&t.destroy(),r._textures[e]=i,c=e+"Dimensions",void(n.hasOwnProperty(c)&&(p=n[c],p.x=i._width,p.y=i._height))}if(s&&Object(u["a"])(f)&&o&&(f!==r._defaultTexture&&f.destroy(),f=void 0),Object(u["a"])(f)||(r._texturePaths[e]=void 0,f=r._textures[e]=r._defaultTexture,c=e+"Dimensions",n.hasOwnProperty(c)&&(p=n[c],p.x=f._width,p.y=f._height)),o)return;const h=i instanceof d["a"];if(!Object(u["a"])(r._texturePaths[e])||h&&i.url!==r._texturePaths[e].url||!h&&i!==r._texturePaths[e]){if("string"===typeof i||h){const t=h?i:d["a"].createIfNeeded(i);let a;a=Z.test(t.url)?Object(l["a"])(t.url):t.fetchImage(),Promise.resolve(a).then((function(t){r._loadedImages.push({id:e,image:t})})).catch((function(){Object(u["a"])(f)&&f!==r._defaultTexture&&f.destroy(),r._textures[e]=r._defaultTexture}))}else(i instanceof HTMLCanvasElement||i instanceof HTMLImageElement)&&r._loadedImages.push({id:e,image:i});r._texturePaths[e]=i}}}function Q(e){return function(t,r){const a=t.uniforms[e];if(a instanceof _["a"]){const r=t._textures[e];return r!==t._defaultTexture&&r.destroy(),t._texturePaths[e]=void 0,void(t._textures[e]=a)}if(Object(u["a"])(t._textures[e])||(t._texturePaths[e]=void 0,t._textures[e]=r.defaultCubeMap),a===R.DefaultCubeMapId)return;const n=a.positiveX+a.negativeX+a.positiveY+a.negativeY+a.positiveZ+a.negativeZ;if(n!==t._texturePaths[e]){const r=[d["a"].createIfNeeded(a.positiveX).fetchImage(),d["a"].createIfNeeded(a.negativeX).fetchImage(),d["a"].createIfNeeded(a.positiveY).fetchImage(),d["a"].createIfNeeded(a.negativeY).fetchImage(),d["a"].createIfNeeded(a.positiveZ).fetchImage(),d["a"].createIfNeeded(a.negativeZ).fetchImage()];Promise.all(r).then((function(r){t._loadedCubeMaps.push({id:e,images:r})})),t._texturePaths[e]=n}}}function ee(e){const t=e._template.uniforms;for(const r in t)t.hasOwnProperty(r)&&te(e,r)}function te(e,t){const r=e._strict,a=e._template.uniforms,n=a[t],i=re(n);if(!Object(u["a"])(i))throw new f["a"](`fabric: uniform '${t}' has invalid type.`);let s;if("channels"===i){if(s=ne(e,t,n,!1),0===s&&r)throw new f["a"](`strict: shader source does not use channels '${t}'.`)}else{if("sampler2D"===i){const r=t+"Dimensions";ie(e,r)>0&&(a[r]={type:"ivec3",x:1,y:1},te(e,r))}const o=new RegExp(`uniform\\s+${i}\\s+${t}\\s*;`);if(!o.test(e.shaderSource)){const r=`uniform ${i} ${t};`;e.shaderSource=r+e.shaderSource}const c=`${t}_${e._count++}`;if(s=ne(e,t,c),1===s&&r)throw new f["a"](`strict: shader source does not use uniform '${t}'.`);if(e.uniforms[t]=n,"sampler2D"===i)e._uniforms[c]=function(){return e._textures[t]},e._updateFunctions.push(K(t));else if("samplerCube"===i)e._uniforms[c]=function(){return e._textures[t]},e._updateFunctions.push(Q(t));else if(-1!==i.indexOf("mat")){const r=new W[i];e._uniforms[c]=function(){return W[i].fromColumnMajorArray(e.uniforms[t],r)}}else e._uniforms[c]=function(){return e.uniforms[t]}}}function re(e){let t=e.type;if(!Object(u["a"])(t)){const r=typeof e;if("number"===r)t="float";else if("boolean"===r)t="bool";else if("string"===r||e instanceof d["a"]||e instanceof HTMLCanvasElement||e instanceof HTMLImageElement)t=/^([rgba]){1,4}$/i.test(e)?"channels":e===R.DefaultCubeMapId?"samplerCube":"sampler2D";else if("object"===r)if(Array.isArray(e))4!==e.length&&9!==e.length&&16!==e.length||(t="mat"+Math.sqrt(e.length));else{let r=0;for(const t in e)e.hasOwnProperty(t)&&(r+=1);r>=2&&r<=4?t="vec"+r:6===r&&(t="samplerCube")}}return t}function ae(e){const t=e._strict,r=e._template.materials;for(const a in r)if(r.hasOwnProperty(a)){const n=new R({strict:t,fabric:r[a],count:e._count});e._count=n._count,e._uniforms=Object(s["a"])(e._uniforms,n._uniforms,!0),e.materials[a]=n,e._translucentFunctions=e._translucentFunctions.concat(n._translucentFunctions);const i="czm_getMaterial",o=`${i}_${e._count++}`;ne(n,i,o),e.shaderSource=n.shaderSource+e.shaderSource;const c=o+"(materialInput)",u=ne(e,a,c);if(0===u&&t)throw new f["a"](`strict: shader source does not use material '${a}'.`)}}function ne(e,t,r,a){a=Object(c["a"])(a,!0);let n=0;const i="([\\w])?",s=`([\\w${a?".":""}])?`,o=new RegExp(s+t+i,"g");return e.shaderSource=e.shaderSource.replace(o,(function(e,t,a){return t||a?e:(n+=1,r)})),n}function ie(e,t,r){return ne(e,t,t,r)}R._materialCache={_materials:{},addMaterial:function(e,t){this._materials[e]=t},getMaterial:function(e){return this._materials[e]}},R.DefaultImageId="czm_defaultImage",R.DefaultCubeMapId="czm_defaultCubeMap",R.ColorType="Color",R._materialCache.addMaterial(R.ColorType,{fabric:{type:R.ColorType,uniforms:{color:new i["a"](1,0,0,.5)},components:{diffuse:"color.rgb",alpha:"color.a"}},translucent:function(e){return e.uniforms.color.alpha<1}}),R.ImageType="Image",R._materialCache.addMaterial(R.ImageType,{fabric:{type:R.ImageType,uniforms:{image:R.DefaultImageId,repeat:new a["a"](1,1),color:new i["a"](1,1,1,1)},components:{diffuse:"texture2D(image, fract(repeat * materialInput.st)).rgb * color.rgb",alpha:"texture2D(image, fract(repeat * materialInput.st)).a * color.a"}},translucent:function(e){return e.uniforms.color.alpha<1}}),R.DiffuseMapType="DiffuseMap",R._materialCache.addMaterial(R.DiffuseMapType,{fabric:{type:R.DiffuseMapType,uniforms:{image:R.DefaultImageId,channels:"rgb",repeat:new a["a"](1,1)},components:{diffuse:"texture2D(image, fract(repeat * materialInput.st)).channels"}},translucent:!1}),R.AlphaMapType="AlphaMap",R._materialCache.addMaterial(R.AlphaMapType,{fabric:{type:R.AlphaMapType,uniforms:{image:R.DefaultImageId,channel:"a",repeat:new a["a"](1,1)},components:{alpha:"texture2D(image, fract(repeat * materialInput.st)).channel"}},translucent:!0}),R.SpecularMapType="SpecularMap",R._materialCache.addMaterial(R.SpecularMapType,{fabric:{type:R.SpecularMapType,uniforms:{image:R.DefaultImageId,channel:"r",repeat:new a["a"](1,1)},components:{specular:"texture2D(image, fract(repeat * materialInput.st)).channel"}},translucent:!1}),R.EmissionMapType="EmissionMap",R._materialCache.addMaterial(R.EmissionMapType,{fabric:{type:R.EmissionMapType,uniforms:{image:R.DefaultImageId,channels:"rgb",repeat:new a["a"](1,1)},components:{emission:"texture2D(image, fract(repeat * materialInput.st)).channels"}},translucent:!1}),R.BumpMapType="BumpMap",R._materialCache.addMaterial(R.BumpMapType,{fabric:{type:R.BumpMapType,uniforms:{image:R.DefaultImageId,channel:"r",strength:.8,repeat:new a["a"](1,1)},source:b["a"]},translucent:!1}),R.NormalMapType="NormalMap",R._materialCache.addMaterial(R.NormalMapType,{fabric:{type:R.NormalMapType,uniforms:{image:R.DefaultImageId,channels:"rgb",strength:.8,repeat:new a["a"](1,1)},source:C["a"]},translucent:!1}),R.GridType="Grid",R._materialCache.addMaterial(R.GridType,{fabric:{type:R.GridType,uniforms:{color:new i["a"](0,1,0,1),cellAlpha:.1,lineCount:new a["a"](8,8),lineThickness:new a["a"](1,1),lineOffset:new a["a"](0,0)},source:A["a"]},translucent:function(e){const t=e.uniforms;return t.color.alpha<1||t.cellAlpha<1}}),R.StripeType="Stripe",R._materialCache.addMaterial(R.StripeType,{fabric:{type:R.StripeType,uniforms:{horizontal:!0,evenColor:new i["a"](1,1,1,.5),oddColor:new i["a"](0,0,1,.5),offset:0,repeat:5},source:V["a"]},translucent:function(e){const t=e.uniforms;return t.evenColor.alpha<1||t.oddColor.alpha<1}}),R.CheckerboardType="Checkerboard",R._materialCache.addMaterial(R.CheckerboardType,{fabric:{type:R.CheckerboardType,uniforms:{lightColor:new i["a"](1,1,1,.5),darkColor:new i["a"](0,0,0,.5),repeat:new a["a"](5,5)},source:O["a"]},translucent:function(e){const t=e.uniforms;return t.lightColor.alpha<1||t.darkColor.alpha<1}}),R.DotType="Dot",R._materialCache.addMaterial(R.DotType,{fabric:{type:R.DotType,uniforms:{lightColor:new i["a"](1,1,0,.75),darkColor:new i["a"](0,1,1,.75),repeat:new a["a"](5,5)},source:I["a"]},translucent:function(e){const t=e.uniforms;return t.lightColor.alpha<1||t.darkColor.alpha<1}}),R.WaterType="Water",R._materialCache.addMaterial(R.WaterType,{fabric:{type:R.WaterType,uniforms:{baseWaterColor:new i["a"](.2,.3,.6,1),blendColor:new i["a"](0,1,.699,1),specularMap:R.DefaultImageId,normalMap:R.DefaultImageId,frequency:10,animationSpeed:.01,amplitude:1,specularIntensity:.5,fadeFactor:1},source:F["a"]},translucent:function(e){const t=e.uniforms;return t.baseWaterColor.alpha<1||t.blendColor.alpha<1}}),R.RimLightingType="RimLighting",R._materialCache.addMaterial(R.RimLightingType,{fabric:{type:R.RimLightingType,uniforms:{color:new i["a"](1,0,0,.7),rimColor:new i["a"](1,1,1,.4),width:.3},source:S["a"]},translucent:function(e){const t=e.uniforms;return t.color.alpha<1||t.rimColor.alpha<1}}),R.FadeType="Fade",R._materialCache.addMaterial(R.FadeType,{fabric:{type:R.FadeType,uniforms:{fadeInColor:new i["a"](1,0,0,1),fadeOutColor:new i["a"](0,0,0,0),maximumDistance:.5,repeat:!0,fadeDirection:{x:!0,y:!0},time:new a["a"](.5,.5)},source:j["a"]},translucent:function(e){const t=e.uniforms;return t.fadeInColor.alpha<1||t.fadeOutColor.alpha<1}}),R.PolylineArrowType="PolylineArrow",R._materialCache.addMaterial(R.PolylineArrowType,{fabric:{type:R.PolylineArrowType,uniforms:{color:new i["a"](1,1,1,1)},source:M["a"]},translucent:!0}),R.PolylineDashType="PolylineDash",R._materialCache.addMaterial(R.PolylineDashType,{fabric:{type:R.PolylineDashType,uniforms:{color:new i["a"](1,0,1,1),gapColor:new i["a"](0,0,0,0),dashLength:16,dashPattern:255},source:x["a"]},translucent:!0}),R.PolylineGlowType="PolylineGlow",R._materialCache.addMaterial(R.PolylineGlowType,{fabric:{type:R.PolylineGlowType,uniforms:{color:new i["a"](0,.5,1,1),glowPower:.25,taperPower:1},source:P["a"]},translucent:!0}),R.PolylineOutlineType="PolylineOutline",R._materialCache.addMaterial(R.PolylineOutlineType,{fabric:{type:R.PolylineOutlineType,uniforms:{color:new i["a"](1,1,1,1),outlineColor:new i["a"](1,0,0,1),outlineWidth:1},source:E["a"]},translucent:function(e){const t=e.uniforms;return t.color.alpha<1||t.outlineColor.alpha<1}}),R.ElevationContourType="ElevationContour",R._materialCache.addMaterial(R.ElevationContourType,{fabric:{type:R.ElevationContourType,uniforms:{spacing:100,color:new i["a"](1,0,0,1),width:1},source:w["a"]},translucent:!1}),R.ElevationRampType="ElevationRamp",R._materialCache.addMaterial(R.ElevationRampType,{fabric:{type:R.ElevationRampType,uniforms:{image:R.DefaultImageId,minimumHeight:0,maximumHeight:1e4},source:N["a"]},translucent:!1}),R.SlopeRampMaterialType="SlopeRamp",R._materialCache.addMaterial(R.SlopeRampMaterialType,{fabric:{type:R.SlopeRampMaterialType,uniforms:{image:R.DefaultImageId},source:B["a"]},translucent:!1}),R.AspectRampMaterialType="AspectRamp",R._materialCache.addMaterial(R.AspectRampMaterialType,{fabric:{type:R.AspectRampMaterialType,uniforms:{image:R.DefaultImageId},source:T["a"]},translucent:!1}),R.ElevationBandType="ElevationBand",R._materialCache.addMaterial(R.ElevationBandType,{fabric:{type:R.ElevationBandType,uniforms:{heights:R.DefaultImageId,colors:R.DefaultImageId},source:v["a"]},translucent:!0}),t["a"]=R},"48c1":function(e,t,r){"use strict";var a=r("ae9b"),n=r("c937"),i=r("aac0"),s=r("be40");function o(e){a["a"].typeOf.object("schema",e);const t={};if(Object(n["a"])(e.enums))for(const a in e.enums)e.enums.hasOwnProperty(a)&&(t[a]=new s["a"]({id:a,enum:e.enums[a]}));const r={};if(Object(n["a"])(e.classes))for(const a in e.classes)e.classes.hasOwnProperty(a)&&(r[a]=new i["a"]({id:a,class:e.classes[a],enums:t}));this._classes=r,this._enums=t,this._id=e.id,this._name=e.name,this._description=e.description,this._version=e.version,this._extras=e.extras,this._extensions=e.extensions}Object.defineProperties(o.prototype,{classes:{get:function(){return this._classes}},enums:{get:function(){return this._enums}},id:{get:function(){return this._id}},name:{get:function(){return this._name}},description:{get:function(){return this._description}},version:{get:function(){return this._version}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),t["a"]=o},"4df2":function(e,t,r){"use strict";var a=r("ae9b"),n=r("44e9"),i=r("c937"),s=r("e2a6");function o(){}Object.defineProperties(o.prototype,{class:{get:function(){s["a"].throwInstantiationError()}}}),o.prototype.hasProperty=function(e){s["a"].throwInstantiationError()},o.prototype.hasPropertyBySemantic=function(e){s["a"].throwInstantiationError()},o.prototype.getPropertyIds=function(e){s["a"].throwInstantiationError()},o.prototype.getProperty=function(e){s["a"].throwInstantiationError()},o.prototype.setProperty=function(e,t){s["a"].throwInstantiationError()},o.prototype.getPropertyBySemantic=function(e){s["a"].throwInstantiationError()},o.prototype.setPropertyBySemantic=function(e,t){s["a"].throwInstantiationError()},o.hasProperty=function(e,t,r){if(a["a"].typeOf.string("propertyId",e),a["a"].typeOf.object("properties",t),a["a"].typeOf.object("classDefinition",r),Object(i["a"])(t[e]))return!0;const n=r.properties;if(!Object(i["a"])(n))return!1;const s=n[e];return!(!Object(i["a"])(s)||!Object(i["a"])(s.default))},o.hasPropertyBySemantic=function(e,t,r){a["a"].typeOf.string("semantic",e),a["a"].typeOf.object("properties",t),a["a"].typeOf.object("classDefinition",r);const n=r.propertiesBySemantic;if(!Object(i["a"])(n))return!1;const s=n[e];return Object(i["a"])(s)},o.getPropertyIds=function(e,t,r){a["a"].typeOf.object("properties",e),a["a"].typeOf.object("classDefinition",t),r=Object(i["a"])(r)?r:[],r.length=0;for(const a in e)e.hasOwnProperty(a)&&Object(i["a"])(e[a])&&r.push(a);const n=t.properties;if(Object(i["a"])(n))for(const a in n)n.hasOwnProperty(a)&&!Object(i["a"])(e[a])&&Object(i["a"])(n[a].default)&&r.push(a);return r},o.getProperty=function(e,t,r){if(a["a"].typeOf.string("propertyId",e),a["a"].typeOf.object("properties",t),a["a"].typeOf.object("classDefinition",r),!Object(i["a"])(r.properties[e]))throw new s["a"]("Class definition missing property "+e);const o=r.properties[e];let c=t[e];Array.isArray(c)&&(c=c.slice());const u=!0;return c=o.handleNoData(c),!Object(i["a"])(c)&&Object(i["a"])(o.default)?(c=Object(n["a"])(o.default,!0),o.unpackVectorAndMatrixTypes(c,u)):Object(i["a"])(c)?(c=o.normalize(c),c=o.applyValueTransform(c),o.unpackVectorAndMatrixTypes(c,u)):void 0},o.setProperty=function(e,t,r,n){if(a["a"].typeOf.string("propertyId",e),a["a"].defined("value",t),a["a"].typeOf.object("properties",r),a["a"].typeOf.object("classDefinition",n),!Object(i["a"])(r[e]))return!1;let s;Array.isArray(t)&&(t=t.slice());const o=n.properties;Object(i["a"])(o)&&(s=o[e]);const c=!0;return Object(i["a"])(s)&&(t=s.packVectorAndMatrixTypes(t,c),t=s.unapplyValueTransform(t),t=s.unnormalize(t)),r[e]=t,!0},o.getPropertyBySemantic=function(e,t,r){a["a"].typeOf.string("semantic",e),a["a"].typeOf.object("properties",t),a["a"].typeOf.object("classDefinition",r);const n=r.propertiesBySemantic;if(!Object(i["a"])(n))return;const s=n[e];return Object(i["a"])(s)?o.getProperty(s.id,t,r):void 0},o.setPropertyBySemantic=function(e,t,r,n){a["a"].typeOf.string("semantic",e),a["a"].defined("value",t),a["a"].typeOf.object("properties",r),a["a"].typeOf.object("classDefinition",n);const s=n.propertiesBySemantic;if(!Object(i["a"])(s))return!1;const c=n.propertiesBySemantic[e];return!!Object(i["a"])(c)&&o.setProperty(c.id,t,r,n)},t["a"]=o},"72f3":function(e,t,r){"use strict";var a=r("1a5d"),n=r("c937"),i=r("514d"),s=r("50e7"),o=r("453a"),c=r("c79c"),u=r("cfec"),p=r("410a"),f=r("64b4"),l=r("50f2"),h=r("46bd");function y(e){e=Object(a["a"])(e,a["a"].EMPTY_OBJECT);const t=Object(a["a"])(e.translucent,!0),r=Object(a["a"])(e.closed,!1),i=Object(a["a"])(e.materialSupport,y.MaterialSupport.TEXTURED);this.material=Object(n["a"])(e.material)?e.material:h["a"].fromType(h["a"].ColorType),this.translucent=t,this._vertexShaderSource=Object(a["a"])(e.vertexShaderSource,i.vertexShaderSource),this._fragmentShaderSource=Object(a["a"])(e.fragmentShaderSource,i.fragmentShaderSource),this._renderState=l["a"].getDefaultRenderState(t,r,e.renderState),this._closed=r,this._materialSupport=i,this._vertexFormat=i.vertexFormat,this._flat=Object(a["a"])(e.flat,!1),this._faceForward=Object(a["a"])(e.faceForward,!r)}Object.defineProperties(y.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},materialSupport:{get:function(){return this._materialSupport}},vertexFormat:{get:function(){return this._vertexFormat}},flat:{get:function(){return this._flat}},faceForward:{get:function(){return this._faceForward}}}),y.prototype.getFragmentShaderSource=l["a"].prototype.getFragmentShaderSource,y.prototype.isTranslucent=l["a"].prototype.isTranslucent,y.prototype.getRenderState=l["a"].prototype.getRenderState,y.MaterialSupport={BASIC:Object.freeze({vertexFormat:i["a"].POSITION_AND_NORMAL,vertexShaderSource:u["a"],fragmentShaderSource:c["a"]}),TEXTURED:Object.freeze({vertexFormat:i["a"].POSITION_NORMAL_AND_ST,vertexShaderSource:f["a"],fragmentShaderSource:p["a"]}),ALL:Object.freeze({vertexFormat:i["a"].ALL,vertexShaderSource:o["a"],fragmentShaderSource:s["a"]})},t["a"]=y},"980f":function(e,t,r){"use strict";var a=r("ae9b"),n=r("44e9"),i=r("cbf0"),s=r("1a5d"),o=r("c937"),c=r("e2a6"),u=r("8e1f"),p=r("ac4e"),f=r("e47d"),l=r("b28f"),h=r("111b"),y=r("179a");function m(e){e=Object(s["a"])(e,s["a"].EMPTY_OBJECT);const t=e.count,r=e.property,n=e.classProperty,i=e.bufferViews;a["a"].typeOf.number.greaterThan("options.count",t,0),a["a"].typeOf.object("options.property",r),a["a"].typeOf.object("options.classProperty",n),a["a"].typeOf.object("options.bufferViews",i);const c=n.type,u=n.isArray,p=n.isVariableLengthArray;let f=n.valueType;const h=n.enumType,m=c===y["a"].STRING,_=c===y["a"].BOOLEAN;let g;if(p){let e=Object(s["a"])(r.arrayOffsetType,r.offsetType);e=Object(s["a"])(l["a"][e],l["a"].UINT32);const a=Object(s["a"])(r.arrayOffsets,r.arrayOffsetBufferView);g=new B(i[a],e,t+1)}const T=y["a"].getComponentCount(c);let b;b=p?g.get(t)-g.get(0):u?t*n.arrayLength:t;const w=T*b;let N,j;if(m){let e=Object(s["a"])(r.stringOffsetType,r.offsetType);e=Object(s["a"])(l["a"][e],l["a"].UINT32);const t=Object(s["a"])(r.stringOffsets,r.stringOffsetBufferView);N=new B(i[t],e,w+1)}(m||_)&&(f=l["a"].UINT8),j=m?N.get(w)-N.get(0):_?Math.ceil(w/8):w;const A=Object(s["a"])(r.values,r.bufferView),C=new B(i[A],f,j);let M=r.offset,x=r.scale;const P=n.hasValueTransform||Object(o["a"])(M)||Object(o["a"])(x);let E,S;M=Object(s["a"])(M,n.offset),x=Object(s["a"])(x,n.scale),M=d(M),x=d(x);const L=this;m?E=function(e){return O(e,L._values,L._stringOffsets)}:_?(E=function(e){return I(e,L._values)},S=function(e,t){v(e,L._values,t)}):Object(o["a"])(h)?(E=function(e){const t=L._values.get(e);return h.namesByValue[t]},S=function(e,t){const r=h.valuesByName[t];L._values.set(e,r)}):(E=function(e){return L._values.get(e)},S=function(e,t){L._values.set(e,t)}),this._arrayOffsets=g,this._stringOffsets=N,this._values=C,this._classProperty=n,this._count=t,this._vectorComponentCount=T,this._min=r.min,this._max=r.max,this._offset=M,this._scale=x,this._hasValueTransform=P,this._getValue=E,this._setValue=S,this._unpackedValues=void 0,this._extras=r.extras,this._extensions=r.extensions}function d(e){if(!Array.isArray(e))return e;const t=[];for(let r=0;r<e.length;r++){const a=e[r];Array.isArray(a)?t.push.apply(t,a):t.push(a)}return t}function _(e,t){const r=e._count;if(!Object(o["a"])(t)||t<0||t>=r){const e=r-1;throw new c["a"]("index is required and between zero and count - 1. Actual value: "+e)}}function g(e,t){M(e)&&P(e);const r=e._classProperty,a=r.isArray,i=r.type,s=y["a"].getComponentCount(i);if(Object(o["a"])(e._unpackedValues)){const r=e._unpackedValues[t];return a?Object(n["a"])(r,!0):r}return a||1!==s?T(e,r,t):e._getValue(t)}function T(e,t,r){let a,n;if(t.isVariableLengthArray){a=e._arrayOffsets.get(r),n=e._arrayOffsets.get(r+1)-a;const i=y["a"].getComponentCount(t.type);a*=i,n*=i}else{const i=Object(s["a"])(t.arrayLength,1),o=i*e._vectorComponentCount;a=r*o,n=o}const i=new Array(n);for(let s=0;s<n;s++)i[s]=e._getValue(a+s);return i}function b(e,t,r){x(e,t,r)&&P(e);const a=e._classProperty,i=a.isArray,c=a.type,u=y["a"].getComponentCount(c);if(Object(o["a"])(e._unpackedValues))return a.isArray&&(r=Object(n["a"])(r,!0)),void(e._unpackedValues[t]=r);if(!i&&1===u)return void e._setValue(t,r);let p,f;if(a.isVariableLengthArray)p=e._arrayOffsets.get(t),f=e._arrayOffsets.get(t+1)-p;else{const r=Object(s["a"])(a.arrayLength,1),n=r*e._vectorComponentCount;p=t*n,f=n}for(let n=0;n<f;++n)e._setValue(p+n,r[n])}function O(e,t,r){const a=r.get(e),n=r.get(e+1)-a;return Object(p["a"])(t.typedArray,a,n)}function I(e,t){const r=e>>3,a=e%8;return 1===(t.typedArray[r]>>a&1)}function v(e,t,r){const a=e>>3,n=e%8;r?t.typedArray[a]|=1<<n:t.typedArray[a]&=~(1<<n)}function w(e,t){const r=t.dataView,a=8*e;let n=0;const i=(128&r.getUint8(a+7))>0;let s=!0;for(let o=0;o<8;++o){let e=r.getUint8(a+o);i&&(s?0!==e&&(e=255&~(e-1),s=!1):e=255&~e),n+=e*Math.pow(256,o)}return i&&(n=-n),n}function N(e,t){const r=t.dataView,a=8*e;let n=BigInt(0);const i=(128&r.getUint8(a+7))>0;let s=!0;for(let o=0;o<8;++o){let e=r.getUint8(a+o);i&&(s?0!==e&&(e=255&~(e-1),s=!1):e=255&~e),n+=BigInt(e)*(BigInt(1)<<BigInt(8*o))}return i&&(n=-n),n}function j(e,t){const r=t.dataView,a=8*e,n=r.getUint32(a,!0),i=r.getUint32(a+4,!0),s=n+4294967296*i;return s}function A(e,t){const r=t.dataView,a=8*e,n=BigInt(r.getUint32(a,!0)),i=BigInt(r.getUint32(a+4,!0)),s=n+BigInt(4294967296)*i;return s}function C(e){switch(e){case l["a"].INT8:return i["a"].BYTE;case l["a"].UINT8:return i["a"].UNSIGNED_BYTE;case l["a"].INT16:return i["a"].SHORT;case l["a"].UINT16:return i["a"].UNSIGNED_SHORT;case l["a"].INT32:return i["a"].INT;case l["a"].UINT32:return i["a"].UNSIGNED_INT;case l["a"].FLOAT32:return i["a"].FLOAT;case l["a"].FLOAT64:return i["a"].DOUBLE}}function M(e){if(Object(o["a"])(e._unpackedValues))return!1;const t=e._classProperty,r=t.type,a=t.valueType;return r===y["a"].STRING||(a===l["a"].INT64&&!u["a"].supportsBigInt64Array()||a===l["a"].UINT64&&!u["a"].supportsBigUint64Array())}function x(e,t,r){if(M(e))return!0;const a=e._arrayOffsets;if(Object(o["a"])(a)){const e=a.get(t+1)-a.get(t),n=r.length;if(e!==n)return!0}return!1}function P(e){e._unpackedValues=E(e),e._arrayOffsets=void 0,e._stringOffsets=void 0,e._values=void 0}function E(e){const t=e._count,r=new Array(t),a=e._classProperty,n=a.isArray,i=a.type,s=y["a"].getComponentCount(i);if(!n&&1===s){for(let a=0;a<t;++a)r[a]=e._getValue(a);return r}for(let o=0;o<t;o++)r[o]=T(e,a,o);return r}function S(e,t){const r=e._classProperty,a=r.isVariableLengthArray;return!e._hasValueTransform||a?t:h["a"].valueTransformInPlace(t,e._offset,e._scale,l["a"].applyValueTransform)}function L(e,t){const r=e._classProperty,a=r.isVariableLengthArray;return!e._hasValueTransform||a?t:h["a"].valueTransformInPlace(t,e._offset,e._scale,l["a"].unapplyValueTransform)}function B(e,t,r){const a=this;let n,s,c;if(t===l["a"].INT64)u["a"].supportsBigInt()?u["a"].supportsBigInt64Array()?(n=new BigInt64Array(e.buffer,e.byteOffset,r),c=function(e,t){a.typedArray[e]=BigInt(t)}):(n=new Uint8Array(e.buffer,e.byteOffset,8*r),s=function(e){return N(e,a)}):(Object(f["a"])("INT64 type is not fully supported on this platform. Values greater than 2^53 - 1 or less than -(2^53 - 1) may lose precision when read."),n=new Uint8Array(e.buffer,e.byteOffset,8*r),s=function(e){return w(e,a)});else if(t===l["a"].UINT64)u["a"].supportsBigInt()?u["a"].supportsBigUint64Array()?(n=new BigUint64Array(e.buffer,e.byteOffset,r),c=function(e,t){a.typedArray[e]=BigInt(t)}):(n=new Uint8Array(e.buffer,e.byteOffset,8*r),s=function(e){return A(e,a)}):(Object(f["a"])("UINT64 type is not fully supported on this platform. Values greater than 2^53 - 1 may lose precision when read."),n=new Uint8Array(e.buffer,e.byteOffset,8*r),s=function(e){return j(e,a)});else{const s=C(t);n=i["a"].createArrayBufferView(s,e.buffer,e.byteOffset,r),c=function(e,t){a.typedArray[e]=t}}Object(o["a"])(s)||(s=function(e){return a.typedArray[e]}),this.typedArray=n,this.dataView=new DataView(n.buffer,n.byteOffset),this.get=s,this.set=c,this._componentType=t}Object.defineProperties(m.prototype,{hasValueTransform:{get:function(){return this._hasValueTransform}},offset:{get:function(){return this._offset}},scale:{get:function(){return this._scale}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),m.prototype.get=function(e){_(this,e);let t=g(this,e);return t=this._classProperty.handleNoData(t),Object(o["a"])(t)?(t=this._classProperty.normalize(t),t=S(this,t),this._classProperty.unpackVectorAndMatrixTypes(t)):(t=this._classProperty.default,this._classProperty.unpackVectorAndMatrixTypes(t))},m.prototype.set=function(e,t){const r=this._classProperty;a["a"].defined("value",t),_(this,e);const n=r.validate(t);if(Object(o["a"])(n))throw new c["a"](n);t=r.packVectorAndMatrixTypes(t),t=L(this,t),t=r.unnormalize(t),b(this,e,t)},m.prototype.getTypedArray=function(){if(Object(o["a"])(this._values))return this._values.typedArray},t["a"]=m},"9f11":function(e,t,r){"use strict";var a=r("3736"),n=r("1a5d"),i=r("c937"),s=r("e2a6"),o=r("9f38"),c=r("7d99");const u=/\/$/,p=new a["a"]('&copy; <a href="https://www.mapbox.com/about/maps/">Mapbox</a> &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/">Improve this map</a></strong>');function f(e){e=Object(n["a"])(e,n["a"].EMPTY_OBJECT);const t=e.styleId;if(!Object(i["a"])(t))throw new s["a"]("options.styleId is required.");const r=e.accessToken;if(!Object(i["a"])(r))throw new s["a"]("options.accessToken is required.");this.defaultAlpha=void 0,this.defaultNightAlpha=void 0,this.defaultDayAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0;const f=o["a"].createIfNeeded(Object(n["a"])(e.url,"https://api.mapbox.com/styles/v1/"));this._styleId=t,this._accessToken=r;const l=Object(n["a"])(e.tilesize,512);this._tilesize=l;const h=Object(n["a"])(e.username,"mapbox");this._username=h;const y=Object(i["a"])(e.scaleFactor)?"@2x":"";let m,d=f.getUrlComponent();u.test(d)||(d+="/"),d+=`${this._username}/${t}/tiles/${this._tilesize}/{z}/{x}/{y}${y}`,f.url=d,f.setQueryParameters({access_token:r}),Object(i["a"])(e.credit)?(m=e.credit,"string"===typeof m&&(m=new a["a"](m))):m=p,this._resource=f,this._imageryProvider=new c["a"]({url:f,credit:m,ellipsoid:e.ellipsoid,minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,rectangle:e.rectangle})}Object.defineProperties(f.prototype,{url:{get:function(){return this._imageryProvider.url}},ready:{get:function(){return this._imageryProvider.ready}},readyPromise:{get:function(){return this._imageryProvider.readyPromise}},rectangle:{get:function(){return this._imageryProvider.rectangle}},tileWidth:{get:function(){return this._imageryProvider.tileWidth}},tileHeight:{get:function(){return this._imageryProvider.tileHeight}},maximumLevel:{get:function(){return this._imageryProvider.maximumLevel}},minimumLevel:{get:function(){return this._imageryProvider.minimumLevel}},tilingScheme:{get:function(){return this._imageryProvider.tilingScheme}},tileDiscardPolicy:{get:function(){return this._imageryProvider.tileDiscardPolicy}},errorEvent:{get:function(){return this._imageryProvider.errorEvent}},credit:{get:function(){return this._imageryProvider.credit}},proxy:{get:function(){return this._imageryProvider.proxy}},hasAlphaChannel:{get:function(){return this._imageryProvider.hasAlphaChannel}}}),f.prototype.getTileCredits=function(e,t,r){},f.prototype.requestImage=function(e,t,r,a){return this._imageryProvider.requestImage(e,t,r,a)},f.prototype.pickFeatures=function(e,t,r,a,n){return this._imageryProvider.pickFeatures(e,t,r,a,n)},f._defaultCredit=p},a6fb:function(e,t,r){"use strict";var a=r("3736"),n=r("1a5d"),i=r("c937"),s=r("e2a6"),o=r("9f38"),c=r("7d99");const u=/\/$/,p=new a["a"]('&copy; <a href="https://www.mapbox.com/about/maps/">Mapbox</a> &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/">Improve this map</a></strong>');function f(e){e=Object(n["a"])(e,n["a"].EMPTY_OBJECT);const t=e.mapId;if(!Object(i["a"])(t))throw new s["a"]("options.mapId is required.");const r=e.accessToken;if(!Object(i["a"])(r))throw new s["a"]("options.accessToken is required.");this.defaultAlpha=void 0,this.defaultNightAlpha=void 0,this.defaultDayAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0;const f=o["a"].createIfNeeded(Object(n["a"])(e.url,"https://{s}.tiles.mapbox.com/v4/"));this._mapId=t,this._accessToken=r;let l=Object(n["a"])(e.format,"png");/\./.test(l)||(l="."+l),this._format=l;let h,y=f.getUrlComponent();u.test(y)||(y+="/"),y+=`${t}/{z}/{x}/{y}${this._format}`,f.url=y,f.setQueryParameters({access_token:r}),Object(i["a"])(e.credit)?(h=e.credit,"string"===typeof h&&(h=new a["a"](h))):h=p,this._resource=f,this._imageryProvider=new c["a"]({url:f,credit:h,ellipsoid:e.ellipsoid,minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,rectangle:e.rectangle})}Object.defineProperties(f.prototype,{url:{get:function(){return this._imageryProvider.url}},ready:{get:function(){return this._imageryProvider.ready}},readyPromise:{get:function(){return this._imageryProvider.readyPromise}},rectangle:{get:function(){return this._imageryProvider.rectangle}},tileWidth:{get:function(){return this._imageryProvider.tileWidth}},tileHeight:{get:function(){return this._imageryProvider.tileHeight}},maximumLevel:{get:function(){return this._imageryProvider.maximumLevel}},minimumLevel:{get:function(){return this._imageryProvider.minimumLevel}},tilingScheme:{get:function(){return this._imageryProvider.tilingScheme}},tileDiscardPolicy:{get:function(){return this._imageryProvider.tileDiscardPolicy}},errorEvent:{get:function(){return this._imageryProvider.errorEvent}},credit:{get:function(){return this._imageryProvider.credit}},proxy:{get:function(){return this._imageryProvider.proxy}},hasAlphaChannel:{get:function(){return this._imageryProvider.hasAlphaChannel}}}),f.prototype.getTileCredits=function(e,t,r){},f.prototype.requestImage=function(e,t,r,a){return this._imageryProvider.requestImage(e,t,r,a)},f.prototype.pickFeatures=function(e,t,r,a,n){return this._imageryProvider.pickFeatures(e,t,r,a,n)},f._defaultCredit=p,t["a"]=f},aac0:function(e,t,r){"use strict";var a=r("ae9b"),n=r("1a5d"),i=r("c937"),s=r("111b");function o(e){e=Object(n["a"])(e,n["a"].EMPTY_OBJECT);const t=e.id,r=e.class;a["a"].typeOf.string("options.id",t),a["a"].typeOf.object("options.class",r);const o={},c={};for(const a in r.properties)if(r.properties.hasOwnProperty(a)){const t=new s["a"]({id:a,property:r.properties[a],enums:e.enums});o[a]=t,Object(i["a"])(t.semantic)&&(c[t.semantic]=t)}this._properties=o,this._propertiesBySemantic=c,this._id=t,this._name=r.name,this._description=r.description,this._extras=r.extras,this._extensions=r.extensions}Object.defineProperties(o.prototype,{properties:{get:function(){return this._properties}},propertiesBySemantic:{get:function(){return this._propertiesBySemantic}},id:{get:function(){return this._id}},name:{get:function(){return this._name}},description:{get:function(){return this._description}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),o.BATCH_TABLE_CLASS_NAME="_batchTable",t["a"]=o},b28f:function(e,t,r){"use strict";var a=r("b8b5"),n=r("ae9b"),i=r("e2a6"),s=r("8e1f");const o={INT8:"INT8",UINT8:"UINT8",INT16:"INT16",UINT16:"UINT16",INT32:"INT32",UINT32:"UINT32",INT64:"INT64",UINT64:"UINT64",FLOAT32:"FLOAT32",FLOAT64:"FLOAT64",getMinimum:function(e){if(!o.isNumericType(e))throw new i["a"]("type must be a numeric type");switch(e){case o.INT8:return-128;case o.UINT8:return 0;case o.INT16:return-32768;case o.UINT16:return 0;case o.INT32:return-2147483648;case o.UINT32:return 0;case o.INT64:return s["a"].supportsBigInt()?BigInt("-9223372036854775808"):-Math.pow(2,63);case o.UINT64:return s["a"].supportsBigInt()?BigInt(0):0;case o.FLOAT32:return-34028234663852886e22;case o.FLOAT64:return-Number.MAX_VALUE}},getMaximum:function(e){if(!o.isNumericType(e))throw new i["a"]("type must be a numeric type");switch(e){case o.INT8:return 127;case o.UINT8:return 255;case o.INT16:return 32767;case o.UINT16:return 65535;case o.INT32:return 2147483647;case o.UINT32:return 4294967295;case o.INT64:return s["a"].supportsBigInt()?BigInt("9223372036854775807"):Math.pow(2,63)-1;case o.UINT64:return s["a"].supportsBigInt()?BigInt("18446744073709551615"):Math.pow(2,64)-1;case o.FLOAT32:return 34028234663852886e22;case o.FLOAT64:return Number.MAX_VALUE}},isNumericType:function(e){switch(n["a"].typeOf.string("type",e),e){case o.INT8:case o.UINT8:case o.INT16:case o.UINT16:case o.INT32:case o.UINT32:case o.INT64:case o.UINT64:case o.FLOAT32:case o.FLOAT64:return!0;default:return!1}},isIntegerType:function(e){switch(n["a"].typeOf.string("type",e),e){case o.INT8:case o.UINT8:case o.INT16:case o.UINT16:case o.INT32:case o.UINT32:case o.INT64:case o.UINT64:return!0;default:return!1}},isUnsignedIntegerType:function(e){switch(n["a"].typeOf.string("type",e),e){case o.UINT8:case o.UINT16:case o.UINT32:case o.UINT64:return!0;default:return!1}},isVectorCompatible:function(e){switch(n["a"].typeOf.string("type",e),e){case o.INT8:case o.UINT8:case o.INT16:case o.UINT16:case o.INT32:case o.UINT32:case o.FLOAT32:case o.FLOAT64:return!0;default:return!1}},normalize:function(e,t){if("number"!==typeof e&&"bigint"!==typeof e)throw new i["a"]("value must be a number or a BigInt");if(!o.isIntegerType(t))throw new i["a"]("type must be an integer type");return Math.max(Number(e)/Number(o.getMaximum(t)),-1)},unnormalize:function(e,t){if(n["a"].typeOf.number("value",e),!o.isIntegerType(t))throw new i["a"]("type must be an integer type");const r=o.getMaximum(t),c=o.isUnsignedIntegerType(t)?0:-r;return e=a["a"].sign(e)*Math.round(Math.abs(e)*Number(r)),t!==o.INT64&&t!==o.UINT64||!s["a"].supportsBigInt()||(e=BigInt(e)),e>r?r:e<c?c:e},applyValueTransform:function(e,t,r){return r*e+t},unapplyValueTransform:function(e,t,r){return 0===r?0:(e-t)/r},getSizeInBytes:function(e){if(!o.isNumericType(e))throw new i["a"]("type must be a numeric type");switch(e){case o.INT8:case o.UINT8:return 1;case o.INT16:case o.UINT16:return 2;case o.INT32:case o.UINT32:return 4;case o.INT64:case o.UINT64:return 8;case o.FLOAT32:return 4;case o.FLOAT64:return 8}}};t["a"]=Object.freeze(o)},bd9e:function(e,t,r){"use strict";var a=r("ae9b");function n(e){a["a"].typeOf.object("value",e),this._value=e.value,this._name=e.name,this._description=e.description,this._extras=e.extras,this._extensions=e.extensions}Object.defineProperties(n.prototype,{value:{get:function(){return this._value}},name:{get:function(){return this._name}},description:{get:function(){return this._description}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),t["a"]=n},be40:function(e,t,r){"use strict";var a=r("ae9b"),n=r("1a5d"),i=r("bd9e"),s=r("b28f");function o(e){e=Object(n["a"])(e,n["a"].EMPTY_OBJECT);const t=e.id,r=e.enum;a["a"].typeOf.string("options.id",t),a["a"].typeOf.object("options.enum",r);const o={},c={},u=r.values.map((function(e){return o[e.value]=e.name,c[e.name]=e.value,new i["a"](e)})),p=Object(n["a"])(s["a"][r.valueType],s["a"].UINT16);this._values=u,this._namesByValue=o,this._valuesByName=c,this._valueType=p,this._id=t,this._name=r.name,this._description=r.description,this._extras=r.extras,this._extensions=r.extensions}Object.defineProperties(o.prototype,{values:{get:function(){return this._values}},namesByValue:{get:function(){return this._namesByValue}},valuesByName:{get:function(){return this._valuesByName}},valueType:{get:function(){return this._valueType}},id:{get:function(){return this._id}},name:{get:function(){return this._name}},description:{get:function(){return this._description}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),t["a"]=o},c134:function(e,t,r){"use strict";var a=r("ae9b"),n=r("44e9"),i=r("1a5d"),s=r("c937"),o=r("4df2"),c=r("980f");function u(e){e=Object(i["a"])(e,i["a"].EMPTY_OBJECT);const t=e.count,r=e.class;a["a"].typeOf.number.greaterThan("options.count",t,0),a["a"].typeOf.object("options.class",r);const n={};if(Object(s["a"])(e.properties))for(const a in e.properties)e.properties.hasOwnProperty(a)&&(n[a]=new c["a"]({count:t,property:e.properties[a],classProperty:r.properties[a],bufferViews:e.bufferViews}));this._count=t,this._class=r,this._properties=n}function p(e,t){const r=e.properties;if(!Object(s["a"])(r))return;const a=r[t];if(Object(s["a"])(a)&&Object(s["a"])(a.default)){let e=a.default;return a.isArray&&(e=Object(n["a"])(e,!0)),e=a.normalize(e),a.unpackVectorAndMatrixTypes(e)}}Object.defineProperties(u.prototype,{count:{get:function(){return this._count}},class:{get:function(){return this._class}}}),u.prototype.hasProperty=function(e){return o["a"].hasProperty(e,this._properties,this._class)},u.prototype.hasPropertyBySemantic=function(e){return o["a"].hasPropertyBySemantic(e,this._properties,this._class)},u.prototype.getPropertyIds=function(e){return o["a"].getPropertyIds(this._properties,this._class,e)},u.prototype.getProperty=function(e,t){a["a"].typeOf.string("propertyId",t);const r=this._properties[t];let n;return n=Object(s["a"])(r)?r.get(e):p(this._class,t),n},u.prototype.setProperty=function(e,t,r){a["a"].typeOf.string("propertyId",t);const n=this._properties[t];return!!Object(s["a"])(n)&&(n.set(e,r),!0)},u.prototype.getPropertyBySemantic=function(e,t){let r;a["a"].typeOf.string("semantic",t);const n=this._class.propertiesBySemantic;if(Object(s["a"])(n)&&(r=n[t]),Object(s["a"])(r))return this.getProperty(e,r.id)},u.prototype.setPropertyBySemantic=function(e,t,r){let n;a["a"].typeOf.string("semantic",t);const i=this._class.propertiesBySemantic;return Object(s["a"])(i)&&(n=i[t]),!!Object(s["a"])(n)&&this.setProperty(e,n.id,r)},u.prototype.getPropertyTypedArray=function(e){a["a"].typeOf.string("propertyId",e);const t=this._properties[e];if(Object(s["a"])(t))return t.getTypedArray()},u.prototype.getPropertyTypedArrayBySemantic=function(e){let t;a["a"].typeOf.string("semantic",e);const r=this._class.propertiesBySemantic;if(Object(s["a"])(r)&&(t=r[e]),Object(s["a"])(t))return this.getPropertyTypedArray(t.id)},t["a"]=u},d58e:function(e,t,r){"use strict";const a={ROTATE:0,INFINITE_SCROLL:1};t["a"]=Object.freeze(a)},e0be:function(e,t,r){"use strict";const a={ID:"ID",NAME:"NAME",DESCRIPTION:"DESCRIPTION",TILE_BOUNDING_BOX:"TILE_BOUNDING_BOX",TILE_BOUNDING_REGION:"TILE_BOUNDING_REGION",TILE_BOUNDING_SPHERE:"TILE_BOUNDING_SPHERE",TILE_MINIMUM_HEIGHT:"TILE_MINIMUM_HEIGHT",TILE_MAXIMUM_HEIGHT:"TILE_MAXIMUM_HEIGHT",TILE_HORIZON_OCCLUSION_POINT:"TILE_HORIZON_OCCLUSION_POINT",TILE_GEOMETRIC_ERROR:"TILE_GEOMETRIC_ERROR",CONTENT_BOUNDING_BOX:"CONTENT_BOUNDING_BOX",CONTENT_BOUNDING_REGION:"CONTENT_BOUNDING_REGION",CONTENT_BOUNDING_SPHERE:"CONTENT_BOUNDING_SPHERE",CONTENT_MINIMUM_HEIGHT:"CONTENT_MINIMUM_HEIGHT",CONTENT_MAXIMUM_HEIGHT:"CONTENT_MAXIMUM_HEIGHT",CONTENT_HORIZON_OCCLUSION_POINT:"CONTENT_HORIZON_OCCLUSION_POINT"};t["a"]=Object.freeze(a)}}]);