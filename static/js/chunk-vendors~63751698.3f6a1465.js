(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~63751698"],{"5a89":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n("61ad"),o=n("c937"),s=n("21b7"),i=n("e2a6"),c=n("035e"),a=n("d828"),u=n("06d8"),l=n("bb9e"),h=n("e2aa"),f=n("1a92"),_=n("67bc"),p=n("8131"),d=n("bbab"),y=n("08a9"),g=n("46b0");function m(t,e,n,s){this._tileset=t,this._tile=e,this._tilesetResource=n,this._contents=[];const i=Object(o["a"])(s.contents)?s.contents:s.content;this._innerContentHeaders=i,this._requestsInFlight=0,this._cancelCount=0;const c=this._innerContentHeaders.length;this._arrayFetchPromises=new Array(c),this._requests=new Array(c),this._innerContentResources=new Array(c),this._serverKeys=new Array(c);for(let r=0;r<c;r++){const t=n.getDerivedResource({url:i[r].uri}),e=a["a"].getServerKey(t.getUrlComponent());this._innerContentResources[r]=t,this._serverKeys[r]=e}this._contentsFetchedPromise=void 0,this._readyPromise=Object(r["a"])()}function b(t,e){t._requestsInFlight+=e,t.tileset.statistics.numberOfPendingRequests+=e}function P(t,e){t._cancelCount++,t._tile._contentState=e,t.tileset.statistics.numberOfPendingRequests-=t._requestsInFlight,t._requestsInFlight=0;const n=t._innerContentHeaders.length;t._arrayFetchPromises=new Array(n)}function C(t){const e={};for(let n=0;n<t.length;n++){const r=t[n];Object(o["a"])(e[r])?e[r]++:e[r]=1}for(const n in e)if(e.hasOwnProperty(n)&&!a["a"].serverHasOpenSlots(n,e[n]))return!1;return a["a"].heapHasOpenSlots(t.length)}function O(t,e,n,r){const o=t._innerContentResources[e].clone(),s=t.tile,i=function(){return s._priority},a=t._serverKeys[e],h=new c["a"]({throttle:!0,throttleByServer:!0,type:l["a"].TILES3D,priorityFunction:i,serverKey:a});return o.request=h,t._requests[e]=h,o.fetchArrayBuffer().then((function(e){if(!(n<t._cancelCount))return b(t,-1),e})).catch((function(s){n<t._cancelCount||(o.request.state!==u["a"].CANCELLED?(b(t,-1),w(t,e,s)):P(t,r))}))}function F(t){const e=t._cancelCount;Promise.all(t._arrayFetchPromises).then((function(n){if(!(e<t._cancelCount))return n.map((function(e,n){if(Object(o["a"])(e))try{return j(t,e,n)}catch(r){return void w(t,n,r)}}))})).then((function(e){Object(o["a"])(e)?(t._contents=e.filter(o["a"]),v(t),Object(o["a"])(t._contentsFetchedPromise)&&t._contentsFetchedPromise.resolve()):Object(o["a"])(t._contentsFetchedPromise)&&(t._contentsFetchedPromise.resolve(),t._contentsFetchedPromise=void 0)})).catch((function(e){Object(o["a"])(t._contentsFetchedPromise)&&t._contentsFetchedPromise.reject(e)}))}function j(t,e,n){const r=Object(g["a"])(e);if(r.contentType===_["a"].EXTERNAL_TILESET)throw new h["a"]("External tilesets are disallowed inside multiple contents");t._disableSkipLevelOfDetail=t._disableSkipLevelOfDetail||r.contentType===_["a"].GEOMETRY||r.contentType===_["a"].VECTOR;const s=t._tileset,i=t._innerContentResources[n],c=t._tile;let a;const u=p["a"][r.contentType];a=Object(o["a"])(r.binaryPayload)?u(s,c,i,r.binaryPayload.buffer,0):u(s,c,i,r.jsonPayload);const l=t._innerContentHeaders[n];if(c.hasImplicitContentMetadata){const t=c.implicitSubtree,e=c.implicitCoordinates;a.metadata=t.getContentMetadataView(e,n)}else c.hasImplicitContent||(a.metadata=Object(d["a"])(s,l));const m=Object(y["a"])(s,l);return Object(o["a"])(m)&&(a.group=new f["a"]({metadata:m})),a}function v(t){const e=t._contents.map((function(t){return t.readyPromise}));Promise.all(e).then((function(){t._readyPromise.resolve(t)})).catch((function(e){t._readyPromise.reject(e)}))}function w(t,e,n){const r=t._tileset,s=t._innerContentResources[e].url,i=Object(o["a"])(n.message)?n.message:n.toString();r.tileFailed.numberOfListeners>0?r.tileFailed.raiseEvent({url:s,message:i}):(console.log("A content failed to load: "+s),console.log("Error: "+i))}Object.defineProperties(m.prototype,{featurePropertiesDirty:{get:function(){const t=this._contents,e=t.length;for(let n=0;n<e;++n)if(t[n].featurePropertiesDirty)return!0;return!1},set:function(t){const e=this._contents,n=e.length;for(let r=0;r<n;++r)e[r].featurePropertiesDirty=t}},featuresLength:{get:function(){return 0}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){return 0}},geometryByteLength:{get:function(){return 0}},texturesByteLength:{get:function(){return 0}},batchTableByteLength:{get:function(){return 0}},innerContents:{get:function(){return this._contents}},readyPromise:{get:function(){return this._readyPromise.promise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){}},metadata:{get:function(){},set:function(){throw new i["a"]("Multiple3DTileContent cannot have metadata")}},batchTable:{get:function(){}},group:{get:function(){},set:function(){throw new i["a"]("Multiple3DTileContent cannot have group metadata")}},innerContentUrls:{get:function(){return this._innerContentHeaders.map((function(t){return t.uri}))}},contentsFetchedPromise:{get:function(){if(Object(o["a"])(this._contentsFetchedPromise))return this._contentsFetchedPromise.promise}}}),m.prototype.requestInnerContents=function(){if(!C(this._serverKeys))return this._serverKeys.length;const t=this._innerContentHeaders;b(this,t.length);for(let e=0;e<t.length;e++)this._arrayFetchPromises[e]=O(this,e,this._cancelCount,this._tile._contentState);return Object(o["a"])(this._contentsFetchedPromise)||(this._contentsFetchedPromise=Object(r["a"])()),F(this),0},m.prototype.cancelRequests=function(){for(let t=0;t<this._requests.length;t++){const e=this._requests[t];Object(o["a"])(e)&&e.cancel()}},m.prototype.hasProperty=function(t,e){return!1},m.prototype.getFeature=function(t){},m.prototype.applyDebugSettings=function(t,e){const n=this._contents,r=n.length;for(let o=0;o<r;++o)n[o].applyDebugSettings(t,e)},m.prototype.applyStyle=function(t){const e=this._contents,n=e.length;for(let r=0;r<n;++r)e[r].applyStyle(t)},m.prototype.update=function(t,e){const n=this._contents,r=n.length;for(let o=0;o<r;++o)n[o].update(t,e)},m.prototype.isDestroyed=function(){return!1},m.prototype.destroy=function(){const t=this._contents,e=t.length;for(let n=0;n<e;++n)t[n].destroy();return Object(s["a"])(this)}},"9ec9":function(t,e,n){"use strict";function r(t){}r.prototype.isReady=function(){return!0},r.prototype.shouldDiscardImage=function(t){return!1}}}]);