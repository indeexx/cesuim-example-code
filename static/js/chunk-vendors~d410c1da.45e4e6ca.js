(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~d410c1da"],{"01c8":function(e,t,i){"use strict";var n=i("408d"),a=i("85b2"),o=i("dde0"),s=i("4051"),r=i("c937"),c=i("61ad"),d=i("21b7"),l=i("aecc"),h=i("e107"),u=i("d05a"),_=i("4a63"),f=i("86a0"),p=i("a3ad"),b=i("5ae5"),m=i("2a50"),g=i("8a01"),y=i("be66"),O=i("fabb"),v=i("c9db");function I(e){this._positions=e.positions,this._batchTable=e.batchTable,this._batchIds=e.batchIds,this._rectangle=e.rectangle,this._minHeight=e.minimumHeight,this._maxHeight=e.maximumHeight,this._billboardCollection=void 0,this._labelCollection=void 0,this._polylineCollection=void 0,this._verticesPromise=void 0,this._packedBuffer=void 0,this._ready=!1,this._readyPromise=Object(c["a"])(),this._resolvedPromise=!1}function T(e,t){const i=e._rectangle,n=e._minHeight,a=e._maxHeight,o=2+_["a"].packedLength+h["a"].packedLength,s=new Float64Array(o);let r=0;return s[r++]=n,s[r++]=a,_["a"].pack(i,s,r),r+=_["a"].packedLength,h["a"].pack(t,s,r),s}Object.defineProperties(I.prototype,{pointsLength:{get:function(){return this._billboardCollection.length}},texturesByteLength:{get:function(){const e=this._billboardCollection.textureAtlas.texture.sizeInBytes,t=this._labelCollection._textureAtlas.texture.sizeInBytes;return e+t}},readyPromise:{get:function(){return this._readyPromise.promise}}});const C=new f["a"]("createVectorTilePoints",5),w=new o["a"];function S(e,t){if(Object(r["a"])(e._billboardCollection))return;let i;if(!Object(r["a"])(e._verticesPromise)){i=e._positions;let a=e._packedBuffer;Object(r["a"])(a)||(i=e._positions=Object(n["a"])(i),e._batchIds=Object(n["a"])(e._batchIds),a=e._packedBuffer=T(e,t));const o=[i.buffer,a.buffer],s={positions:i.buffer,packedBuffer:a.buffer},c=e._verticesPromise=C.scheduleTask(s,o);if(!Object(r["a"])(c))return;c.then((function(t){e._positions=new Float64Array(t.positions),e._ready=!0}))}if(e._ready&&!Object(r["a"])(e._billboardCollection)){i=e._positions;const t=e._batchTable,n=e._batchIds,a=e._billboardCollection=new p["a"]({batchTable:t}),s=e._labelCollection=new g["a"]({batchTable:t}),r=e._polylineCollection=new O["a"];r._useHighlightColor=!0;const c=i.length/3;for(let e=0;e<c;++e){const t=n[e],c=o["a"].unpack(i,3*e,w),d=a.add();d.position=c,d._batchIndex=t;const l=s.add();l.text=" ",l.position=c,l._batchIndex=t;const h=r.add();h.positions=[o["a"].clone(c),o["a"].clone(c)]}e._positions=void 0,e._packedBuffer=void 0}}function x(e,t){const i=e._batchIds,n=i.length;for(let o=0;o<n;++o){const e=i[o],n=t[e];n.show=!0,n.pointSize=b["a"].defaultPointSize,n.color=b["a"].defaultColor,n.pointOutlineColor=b["a"].defaultPointOutlineColor,n.pointOutlineWidth=b["a"].defaultPointOutlineWidth,n.labelColor=s["a"].WHITE,n.labelOutlineColor=s["a"].WHITE,n.labelOutlineWidth=1,n.font="30px sans-serif",n.labelStyle=y["a"].FILL,n.labelText=void 0,n.backgroundColor=new s["a"](.165,.165,.165,.8),n.backgroundPadding=new a["a"](7,5),n.backgroundEnabled=!1,n.scaleByDistance=void 0,n.translucencyByDistance=void 0,n.distanceDisplayCondition=void 0,n.heightOffset=0,n.anchorLineEnabled=!1,n.anchorLineColor=s["a"].WHITE,n.image=void 0,n.disableDepthTestDistance=0,n.horizontalOrigin=m["a"].CENTER,n.verticalOrigin=v["a"].CENTER,n.labelHorizontalOrigin=m["a"].RIGHT,n.labelVerticalOrigin=v["a"].BASELINE}}I.prototype.createFeatures=function(e,t){const i=this._billboardCollection,n=this._labelCollection,a=this._polylineCollection,o=this._batchIds,s=o.length;for(let r=0;r<s;++r){const s=o[r],c=i.get(r),d=n.get(r),l=a.get(r);t[s]=new b["a"](e,s,c,d,l)}},I.prototype.applyDebugSettings=function(e,t){e?(s["a"].clone(t,this._billboardCollection._highlightColor),s["a"].clone(t,this._labelCollection._highlightColor),s["a"].clone(t,this._polylineCollection._highlightColor)):(s["a"].clone(s["a"].WHITE,this._billboardCollection._highlightColor),s["a"].clone(s["a"].WHITE,this._labelCollection._highlightColor),s["a"].clone(s["a"].WHITE,this._polylineCollection._highlightColor))};const P=new s["a"],j=new s["a"],A=new s["a"],E=new s["a"],L=new s["a"],D=new s["a"],N=new u["a"],B=new u["a"],k=new l["a"];I.prototype.applyStyle=function(e,t){if(!Object(r["a"])(e))return void x(this,t);const i=this._batchIds,n=i.length;for(let a=0;a<n;++a){const n=i[a],o=t[n];if(Object(r["a"])(e.show)&&(o.show=e.show.evaluate(o)),Object(r["a"])(e.pointSize)&&(o.pointSize=e.pointSize.evaluate(o)),Object(r["a"])(e.color)&&(o.color=e.color.evaluateColor(o,P)),Object(r["a"])(e.pointOutlineColor)&&(o.pointOutlineColor=e.pointOutlineColor.evaluateColor(o,j)),Object(r["a"])(e.pointOutlineWidth)&&(o.pointOutlineWidth=e.pointOutlineWidth.evaluate(o)),Object(r["a"])(e.labelColor)&&(o.labelColor=e.labelColor.evaluateColor(o,A)),Object(r["a"])(e.labelOutlineColor)&&(o.labelOutlineColor=e.labelOutlineColor.evaluateColor(o,E)),Object(r["a"])(e.labelOutlineWidth)&&(o.labelOutlineWidth=e.labelOutlineWidth.evaluate(o)),Object(r["a"])(e.font)&&(o.font=e.font.evaluate(o)),Object(r["a"])(e.labelStyle)&&(o.labelStyle=e.labelStyle.evaluate(o)),Object(r["a"])(e.labelText)?o.labelText=e.labelText.evaluate(o):o.labelText=void 0,Object(r["a"])(e.backgroundColor)&&(o.backgroundColor=e.backgroundColor.evaluateColor(o,L)),Object(r["a"])(e.backgroundPadding)&&(o.backgroundPadding=e.backgroundPadding.evaluate(o)),Object(r["a"])(e.backgroundEnabled)&&(o.backgroundEnabled=e.backgroundEnabled.evaluate(o)),Object(r["a"])(e.scaleByDistance)){const t=e.scaleByDistance.evaluate(o);N.near=t.x,N.nearValue=t.y,N.far=t.z,N.farValue=t.w,o.scaleByDistance=N}else o.scaleByDistance=void 0;if(Object(r["a"])(e.translucencyByDistance)){const t=e.translucencyByDistance.evaluate(o);B.near=t.x,B.nearValue=t.y,B.far=t.z,B.farValue=t.w,o.translucencyByDistance=B}else o.translucencyByDistance=void 0;if(Object(r["a"])(e.distanceDisplayCondition)){const t=e.distanceDisplayCondition.evaluate(o);k.near=t.x,k.far=t.y,o.distanceDisplayCondition=k}else o.distanceDisplayCondition=void 0;Object(r["a"])(e.heightOffset)&&(o.heightOffset=e.heightOffset.evaluate(o)),Object(r["a"])(e.anchorLineEnabled)&&(o.anchorLineEnabled=e.anchorLineEnabled.evaluate(o)),Object(r["a"])(e.anchorLineColor)&&(o.anchorLineColor=e.anchorLineColor.evaluateColor(o,D)),Object(r["a"])(e.image)?o.image=e.image.evaluate(o):o.image=void 0,Object(r["a"])(e.disableDepthTestDistance)&&(o.disableDepthTestDistance=e.disableDepthTestDistance.evaluate(o)),Object(r["a"])(e.horizontalOrigin)&&(o.horizontalOrigin=e.horizontalOrigin.evaluate(o)),Object(r["a"])(e.verticalOrigin)&&(o.verticalOrigin=e.verticalOrigin.evaluate(o)),Object(r["a"])(e.labelHorizontalOrigin)&&(o.labelHorizontalOrigin=e.labelHorizontalOrigin.evaluate(o)),Object(r["a"])(e.labelVerticalOrigin)&&(o.labelVerticalOrigin=e.labelVerticalOrigin.evaluate(o))}},I.prototype.update=function(e){S(this,e.mapProjection.ellipsoid),this._ready&&(this._polylineCollection.update(e),this._billboardCollection.update(e),this._labelCollection.update(e),this._resolvedPromise||(this._readyPromise.resolve(),this._resolvedPromise=!0))},I.prototype.isDestroyed=function(){return!1},I.prototype.destroy=function(){return this._billboardCollection=this._billboardCollection&&this._billboardCollection.destroy(),this._labelCollection=this._labelCollection&&this._labelCollection.destroy(),this._polylineCollection=this._polylineCollection&&this._polylineCollection.destroy(),Object(d["a"])(this)},t["a"]=I},1776:function(e,t,i){"use strict";var n=i("408d"),a=i("dde0"),o=i("4051"),s=i("1a5d"),r=i("61ad"),c=i("c937"),d=i("21b7"),l=i("e107"),h=i("2642"),u=i("22d6"),_=i("4a63"),f=i("86a0"),p=i("4a43"),b=i("52d3"),m=i("c7d4");function g(e){this._batchTable=e.batchTable,this._batchIds=e.batchIds,this._positions=e.positions,this._counts=e.counts,this._indices=e.indices,this._indexCounts=e.indexCounts,this._indexOffsets=void 0,this._batchTableColors=void 0,this._packedBuffer=void 0,this._batchedPositions=void 0,this._transferrableBatchIds=void 0,this._vertexBatchIds=void 0,this._ellipsoid=Object(s["a"])(e.ellipsoid,l["a"].WGS84),this._minimumHeight=e.minimumHeight,this._maximumHeight=e.maximumHeight,this._polygonMinimumHeights=e.polygonMinimumHeights,this._polygonMaximumHeights=e.polygonMaximumHeights,this._center=Object(s["a"])(e.center,a["a"].ZERO),this._rectangle=e.rectangle,this._center=void 0,this._boundingVolume=e.boundingVolume,this._boundingVolumes=void 0,this._batchedIndices=void 0,this._ready=!1,this._readyPromise=Object(r["a"])(),this._verticesPromise=void 0,this._primitive=void 0,this.debugWireframe=!1,this.forceRebatch=!1,this.classificationType=p["a"].BOTH}function y(e){const t=new Float64Array(3+a["a"].packedLength+l["a"].packedLength+_["a"].packedLength);let i=0;return t[i++]=e._indices.BYTES_PER_ELEMENT,t[i++]=e._minimumHeight,t[i++]=e._maximumHeight,a["a"].pack(e._center,t,i),i+=a["a"].packedLength,l["a"].pack(e._ellipsoid,t,i),i+=l["a"].packedLength,_["a"].pack(e._rectangle,t,i),t}function O(e,t){let i=1;const n=t[i++],a=e._boundingVolumes=new Array(n);for(let o=0;o<n;++o)a[o]=u["a"].unpack(t,i),i+=u["a"].packedLength;const s=t[i++],r=e._batchedIndices=new Array(s);for(let c=0;c<s;++c){const e=o["a"].unpack(t,i);i+=o["a"].packedLength;const n=t[i++],a=t[i++],s=t[i++],d=new Array(s);for(let o=0;o<s;++o)d[o]=t[i++];r[c]=new b["a"]({color:e,offset:n,count:a,batchIds:d})}}Object.defineProperties(g.prototype,{trianglesLength:{get:function(){return Object(c["a"])(this._primitive)?this._primitive.trianglesLength:0}},geometryByteLength:{get:function(){return Object(c["a"])(this._primitive)?this._primitive.geometryByteLength:0}},readyPromise:{get:function(){return this._readyPromise.promise}}});const v=new f["a"]("createVectorTilePolygons",5),I=new o["a"];function T(e){if(!Object(c["a"])(e._primitive)){if(!Object(c["a"])(e._verticesPromise)){let t=e._positions,i=e._counts,a=e._indexCounts,o=e._indices,s=e._transferrableBatchIds,r=e._batchTableColors,d=e._packedBuffer;if(!Object(c["a"])(r)){t=e._positions=Object(n["a"])(e._positions),i=e._counts=Object(n["a"])(e._counts),a=e._indexCounts=Object(n["a"])(e._indexCounts),o=e._indices=Object(n["a"])(e._indices),e._center=e._ellipsoid.cartographicToCartesian(_["a"].center(e._rectangle)),s=e._transferrableBatchIds=new Uint32Array(e._batchIds),r=e._batchTableColors=new Uint32Array(s.length);const c=e._batchTable,l=r.length;for(let e=0;e<l;++e){const t=c.getColor(e,I);r[e]=t.toRgba()}d=e._packedBuffer=y(e)}const l=[t.buffer,i.buffer,a.buffer,o.buffer,s.buffer,r.buffer,d.buffer],u={packedBuffer:d.buffer,positions:t.buffer,counts:i.buffer,indexCounts:a.buffer,indices:o.buffer,batchIds:s.buffer,batchTableColors:r.buffer};let f=e._polygonMinimumHeights,p=e._polygonMaximumHeights;Object(c["a"])(f)&&Object(c["a"])(p)&&(f=Object(n["a"])(f),p=Object(n["a"])(p),l.push(f.buffer,p.buffer),u.minimumHeights=f,u.maximumHeights=p);const b=e._verticesPromise=v.scheduleTask(u,l);if(!Object(c["a"])(b))return;b.then((function(t){e._positions=void 0,e._counts=void 0,e._polygonMinimumHeights=void 0,e._polygonMaximumHeights=void 0;const i=new Float64Array(t.packedBuffer),n=i[0];O(e,i),e._indices=2===h["a"].getSizeInBytes(n)?new Uint16Array(t.indices):new Uint32Array(t.indices),e._indexOffsets=new Uint32Array(t.indexOffsets),e._indexCounts=new Uint32Array(t.indexCounts),e._batchedPositions=new Float32Array(t.positions),e._vertexBatchIds=new Uint16Array(t.batchIds),e._ready=!0}))}e._ready&&!Object(c["a"])(e._primitive)&&(e._primitive=new m["a"]({batchTable:e._batchTable,positions:e._batchedPositions,batchIds:e._batchIds,vertexBatchIds:e._vertexBatchIds,indices:e._indices,indexOffsets:e._indexOffsets,indexCounts:e._indexCounts,batchedIndices:e._batchedIndices,boundingVolume:e._boundingVolume,boundingVolumes:e._boundingVolumes,center:e._center}),e._batchTable=void 0,e._batchIds=void 0,e._positions=void 0,e._counts=void 0,e._indices=void 0,e._indexCounts=void 0,e._indexOffsets=void 0,e._batchTableColors=void 0,e._packedBuffer=void 0,e._batchedPositions=void 0,e._transferrableBatchIds=void 0,e._vertexBatchIds=void 0,e._ellipsoid=void 0,e._minimumHeight=void 0,e._maximumHeight=void 0,e._polygonMinimumHeights=void 0,e._polygonMaximumHeights=void 0,e._center=void 0,e._rectangle=void 0,e._boundingVolume=void 0,e._boundingVolumes=void 0,e._batchedIndices=void 0,e._verticesPromise=void 0,e._readyPromise.resolve())}}g.prototype.createFeatures=function(e,t){this._primitive.createFeatures(e,t)},g.prototype.applyDebugSettings=function(e,t){this._primitive.applyDebugSettings(e,t)},g.prototype.applyStyle=function(e,t){this._primitive.applyStyle(e,t)},g.prototype.updateCommands=function(e,t){this._primitive.updateCommands(e,t)},g.prototype.update=function(e){T(this),this._ready&&(this._primitive.debugWireframe=this.debugWireframe,this._primitive.forceRebatch=this.forceRebatch,this._primitive.classificationType=this.classificationType,this._primitive.update(e))},g.prototype.isDestroyed=function(){return!1},g.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),Object(d["a"])(this)},t["a"]=g},"52d3":function(e,t,i){"use strict";function n(e){this.offset=e.offset,this.count=e.count,this.color=e.color,this.batchIds=e.batchIds}t["a"]=n},"5f79":function(e,t,i){"use strict";var n=i("ae9b"),a=i("c937"),o=i("e2a6");const s={POSITION:"POSITION",NORMAL:"NORMAL",TANGENT:"TANGENT",TEXCOORD:"TEXCOORD",COLOR:"COLOR",JOINTS:"JOINTS",WEIGHTS:"WEIGHTS",FEATURE_ID:"_FEATURE_ID"};function r(e){switch(e){case s.POSITION:return"positionMC";case s.NORMAL:return"normalMC";case s.TANGENT:return"tangentMC";case s.TEXCOORD:return"texCoord";case s.COLOR:return"color";case s.JOINTS:return"joints";case s.WEIGHTS:return"weights";case s.FEATURE_ID:return"featureId";default:throw new o["a"]("semantic is not a valid value.")}}s.hasSetIndex=function(e){switch(n["a"].typeOf.string("semantic",e),e){case s.POSITION:case s.NORMAL:case s.TANGENT:return!1;case s.TEXCOORD:case s.COLOR:case s.JOINTS:case s.WEIGHTS:case s.FEATURE_ID:return!0;default:throw new o["a"]("semantic is not a valid value.")}},s.fromGltfSemantic=function(e){n["a"].typeOf.string("gltfSemantic",e);let t=e;const i=/^(\w+)_\d+$/,a=i.exec(e);switch(null!==a&&(t=a[1]),t){case"POSITION":return s.POSITION;case"NORMAL":return s.NORMAL;case"TANGENT":return s.TANGENT;case"TEXCOORD":return s.TEXCOORD;case"COLOR":return s.COLOR;case"JOINTS":return s.JOINTS;case"WEIGHTS":return s.WEIGHTS;case"_FEATURE_ID":return s.FEATURE_ID}},s.fromPntsSemantic=function(e){switch(n["a"].typeOf.string("pntsSemantic",e),e){case"POSITION":case"POSITION_QUANTIZED":return s.POSITION;case"RGBA":case"RGB":case"RGB565":return s.COLOR;case"NORMAL":case"NORMAL_OCT16P":return s.NORMAL;case"BATCH_ID":return s.FEATURE_ID;default:throw new o["a"]("pntsSemantic is not a valid value.")}},s.getGlslType=function(e){switch(n["a"].typeOf.string("semantic",e),e){case s.POSITION:case s.NORMAL:case s.TANGENT:return"vec3";case s.TEXCOORD:return"vec2";case s.COLOR:return"vec4";case s.JOINTS:return"ivec4";case s.WEIGHTS:return"vec4";case s.FEATURE_ID:return"int";default:throw new o["a"]("semantic is not a valid value.")}},s.getVariableName=function(e,t){n["a"].typeOf.string("semantic",e);let i=r(e);return Object(a["a"])(t)&&(i+="_"+t),i},t["a"]=Object.freeze(s)},"7d99":function(e,t,i){"use strict";var n=i("85b2"),a=i("dde0"),o=i("8d54"),s=i("2fad"),r=i("3736"),c=i("1a5d"),d=i("c937"),l=i("e2a6"),h=i("f7b5"),u=i("1f02"),_=i("b8b5"),f=i("4a63"),p=i("9f38"),b=i("c7de"),m=i("e956");const g=/{[^}]+}/g,y={x:L,y:N,z:F,s:R,reverseX:D,reverseY:B,reverseZ:k,westDegrees:M,southDegrees:U,eastDegrees:V,northDegrees:W,westProjected:z,southProjected:Y,eastProjected:q,northProjected:Z,width:K,height:X},O=Object(s["a"])(y,{i:J,j:Q,reverseI:$,reverseJ:ee,longitudeDegrees:ae,latitudeDegrees:oe,longitudeProjected:se,latitudeProjected:re,format:le});function v(e){if(!Object(d["a"])(e))throw new l["a"]("options is required.");if(!Object(d["a"])(e.then)&&!Object(d["a"])(e.url))throw new l["a"]("options is required.");this._errorEvent=new h["a"],this._resource=void 0,this._urlSchemeZeroPadding=void 0,this._pickFeaturesResource=void 0,this._tileWidth=void 0,this._tileHeight=void 0,this._maximumLevel=void 0,this._minimumLevel=void 0,this._tilingScheme=void 0,this._rectangle=void 0,this._tileDiscardPolicy=void 0,this._credit=void 0,this._hasAlphaChannel=void 0,this._readyPromise=void 0,this._tags=void 0,this._pickFeaturesTags=void 0,this.defaultAlpha=void 0,this.defaultNightAlpha=void 0,this.defaultDayAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0,this.enablePickFeatures=!0,this.reinitialize(e)}Object.defineProperties(v.prototype,{url:{get:function(){return this._resource.url}},urlSchemeZeroPadding:{get:function(){return this._urlSchemeZeroPadding}},pickFeaturesUrl:{get:function(){return this._pickFeaturesResource.url}},proxy:{get:function(){return this._resource.proxy}},tileWidth:{get:function(){if(!this.ready)throw new l["a"]("tileWidth must not be called before the imagery provider is ready.");return this._tileWidth}},tileHeight:{get:function(){if(!this.ready)throw new l["a"]("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},maximumLevel:{get:function(){if(!this.ready)throw new l["a"]("maximumLevel must not be called before the imagery provider is ready.");return this._maximumLevel}},minimumLevel:{get:function(){if(!this.ready)throw new l["a"]("minimumLevel must not be called before the imagery provider is ready.");return this._minimumLevel}},tilingScheme:{get:function(){if(!this.ready)throw new l["a"]("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},rectangle:{get:function(){if(!this.ready)throw new l["a"]("rectangle must not be called before the imagery provider is ready.");return this._rectangle}},tileDiscardPolicy:{get:function(){if(!this.ready)throw new l["a"]("tileDiscardPolicy must not be called before the imagery provider is ready.");return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return Object(d["a"])(this._resource)}},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){if(!this.ready)throw new l["a"]("credit must not be called before the imagery provider is ready.");return this._credit}},hasAlphaChannel:{get:function(){if(!this.ready)throw new l["a"]("hasAlphaChannel must not be called before the imagery provider is ready.");return this._hasAlphaChannel}}}),v.prototype.reinitialize=function(e){const t=this;t._readyPromise=Promise.resolve(e).then((function(e){if(!Object(d["a"])(e))throw new l["a"]("options is required.");if(!Object(d["a"])(e.url))throw new l["a"]("options.url is required.");const i=e.customTags,n=Object(s["a"])(y,i),a=Object(s["a"])(O,i),o=p["a"].createIfNeeded(e.url),h=p["a"].createIfNeeded(e.pickFeaturesUrl);t.enablePickFeatures=Object(c["a"])(e.enablePickFeatures,t.enablePickFeatures),t._urlSchemeZeroPadding=Object(c["a"])(e.urlSchemeZeroPadding,t.urlSchemeZeroPadding),t._tileDiscardPolicy=e.tileDiscardPolicy,t._getFeatureInfoFormats=e.getFeatureInfoFormats,t._subdomains=e.subdomains,Array.isArray(t._subdomains)?t._subdomains=t._subdomains.slice():Object(d["a"])(t._subdomains)&&t._subdomains.length>0?t._subdomains=t._subdomains.split(""):t._subdomains=["a","b","c"],t._tileWidth=Object(c["a"])(e.tileWidth,256),t._tileHeight=Object(c["a"])(e.tileHeight,256),t._minimumLevel=Object(c["a"])(e.minimumLevel,0),t._maximumLevel=e.maximumLevel,t._tilingScheme=Object(c["a"])(e.tilingScheme,new b["a"]({ellipsoid:e.ellipsoid})),t._rectangle=Object(c["a"])(e.rectangle,t._tilingScheme.rectangle),t._rectangle=f["a"].intersection(t._rectangle,t._tilingScheme.rectangle),t._hasAlphaChannel=Object(c["a"])(e.hasAlphaChannel,!0);let u=e.credit;return"string"===typeof u&&(u=new r["a"](u)),t._credit=u,t._resource=o,t._tags=n,t._pickFeaturesResource=h,t._pickFeaturesTags=a,!0}))},v.prototype.getTileCredits=function(e,t,i){if(!this.ready)throw new l["a"]("getTileCredits must not be called before the imagery provider is ready.")},v.prototype.requestImage=function(e,t,i,n){if(!this.ready)throw new l["a"]("requestImage must not be called before the imagery provider is ready.");return m["a"].loadImage(this,S(this,e,t,i,n))},v.prototype.pickFeatures=function(e,t,i,n,a){if(!this.ready)throw new l["a"]("pickFeatures must not be called before the imagery provider is ready.");if(!this.enablePickFeatures||!Object(d["a"])(this._pickFeaturesResource)||0===this._getFeatureInfoFormats.length)return;let o=0;const s=this;function r(e,t){return e.callback(t)}function c(){if(o>=s._getFeatureInfoFormats.length)return Promise.resolve([]);const d=s._getFeatureInfoFormats[o],l=A(s,e,t,i,n,a,d.format);return++o,"json"===d.type?l.fetchJson().then(d.callback).catch(c):"xml"===d.type?l.fetchXML().then(d.callback).catch(c):"text"===d.type||"html"===d.type?l.fetchText().then(d.callback).catch(c):l.fetch({responseType:d.format}).then(r.bind(void 0,d)).catch(c)}return c()};let I=!1;const T=new f["a"];let C=!1;const w=new f["a"];function S(e,t,i,n,a){I=!1,C=!1;const o=e._resource,s=o.getUrlComponent(!0),r=e._tags,c={},l=s.match(g);return Object(d["a"])(l)&&l.forEach((function(a){const o=a.substring(1,a.length-1);Object(d["a"])(r[o])&&(c[o]=r[o](e,t,i,n))})),o.getDerivedResource({request:a,templateValues:c})}let x=!1;const P=new n["a"];let j=!1;function A(e,t,i,n,a,o,s){I=!1,C=!1,x=!1,j=!1;const r=e._pickFeaturesResource,c=r.getUrlComponent(!0),l=e._pickFeaturesTags,h={},u=c.match(g);return Object(d["a"])(u)&&u.forEach((function(r){const c=r.substring(1,r.length-1);Object(d["a"])(l[c])&&(h[c]=l[c](e,t,i,n,a,o,s))})),r.getDerivedResource({templateValues:h})}function E(e,t,i){if(e&&e.urlSchemeZeroPadding&&e.urlSchemeZeroPadding.hasOwnProperty(t)){const n=e.urlSchemeZeroPadding[t];if("string"===typeof n){const e=n.length;e>1&&(i=i.length>=e?i:new Array(e-i.toString().length+1).join("0")+i)}}return i}function L(e,t,i,n){return E(e,"{x}",t)}function D(e,t,i,n){const a=e.tilingScheme.getNumberOfXTilesAtLevel(n)-t-1;return E(e,"{reverseX}",a)}function N(e,t,i,n){return E(e,"{y}",i)}function B(e,t,i,n){const a=e.tilingScheme.getNumberOfYTilesAtLevel(n)-i-1;return E(e,"{reverseY}",a)}function k(e,t,i,n){const a=e.maximumLevel,o=Object(d["a"])(a)&&n<a?a-n-1:n;return E(e,"{reverseZ}",o)}function F(e,t,i,n){return E(e,"{z}",n)}function R(e,t,i,n){const a=(t+i+n)%e._subdomains.length;return e._subdomains[a]}function H(e,t,i,n){I||(e.tilingScheme.tileXYToRectangle(t,i,n,T),T.west=_["a"].toDegrees(T.west),T.south=_["a"].toDegrees(T.south),T.east=_["a"].toDegrees(T.east),T.north=_["a"].toDegrees(T.north),I=!0)}function M(e,t,i,n){return H(e,t,i,n),T.west}function U(e,t,i,n){return H(e,t,i,n),T.south}function V(e,t,i,n){return H(e,t,i,n),T.east}function W(e,t,i,n){return H(e,t,i,n),T.north}function G(e,t,i,n){C||(e.tilingScheme.tileXYToNativeRectangle(t,i,n,w),C=!0)}function z(e,t,i,n){return G(e,t,i,n),w.west}function Y(e,t,i,n){return G(e,t,i,n),w.south}function q(e,t,i,n){return G(e,t,i,n),w.east}function Z(e,t,i,n){return G(e,t,i,n),w.north}function K(e,t,i,n){return e.tileWidth}function X(e,t,i,n){return e.tileHeight}function J(e,t,i,n,a,o,s){return ne(e,t,i,n,a,o),P.x}function Q(e,t,i,n,a,o,s){return ne(e,t,i,n,a,o),P.y}function $(e,t,i,n,a,o,s){return ne(e,t,i,n,a,o),e.tileWidth-P.x-1}function ee(e,t,i,n,a,o,s){return ne(e,t,i,n,a,o),e.tileHeight-P.y-1}const te=new f["a"],ie=new a["a"];function ne(e,t,i,n,a,o,s){if(x)return;de(e,t,i,n,a,o);const r=ie,c=e.tilingScheme.tileXYToNativeRectangle(t,i,n,te);P.x=e.tileWidth*(r.x-c.west)/c.width|0,P.y=e.tileHeight*(c.north-r.y)/c.height|0,x=!0}function ae(e,t,i,n,a,o,s){return _["a"].toDegrees(a)}function oe(e,t,i,n,a,o,s){return _["a"].toDegrees(o)}function se(e,t,i,n,a,o,s){return de(e,t,i,n,a,o),ie.x}function re(e,t,i,n,a,o,s){return de(e,t,i,n,a,o),ie.y}const ce=new o["a"];function de(e,t,i,n,a,o,s){if(!j){if(e.tilingScheme.projection instanceof u["a"])ie.x=_["a"].toDegrees(a),ie.y=_["a"].toDegrees(o);else{const t=ce;t.longitude=a,t.latitude=o,e.tilingScheme.projection.project(t,ie)}j=!0}}function le(e,t,i,n,a,o,s){return s}t["a"]=v},"7e50":function(e,t,i){"use strict";var n=i("408d"),a=i("8656"),o=i("dde0"),s=i("4051"),r=i("1a5d"),c=i("61ad"),d=i("c937"),l=i("21b7"),h=i("722e"),u=i("86a0"),_=i("4a43"),f=i("52d3"),p=i("c7d4");function b(e){this._boxes=e.boxes,this._boxBatchIds=e.boxBatchIds,this._cylinders=e.cylinders,this._cylinderBatchIds=e.cylinderBatchIds,this._ellipsoids=e.ellipsoids,this._ellipsoidBatchIds=e.ellipsoidBatchIds,this._spheres=e.spheres,this._sphereBatchIds=e.sphereBatchIds,this._modelMatrix=e.modelMatrix,this._batchTable=e.batchTable,this._boundingVolume=e.boundingVolume,this._center=e.center,Object(d["a"])(this._center)||(Object(d["a"])(this._boundingVolume)?this._center=o["a"].clone(this._boundingVolume.center):this._center=o["a"].clone(o["a"].ZERO)),this._boundingVolumes=void 0,this._batchedIndices=void 0,this._indices=void 0,this._indexOffsets=void 0,this._indexCounts=void 0,this._positions=void 0,this._vertexBatchIds=void 0,this._batchIds=void 0,this._batchTableColors=void 0,this._packedBuffer=void 0,this._ready=!1,this._readyPromise=Object(c["a"])(),this._verticesPromise=void 0,this._primitive=void 0,this.debugWireframe=!1,this.forceRebatch=!1,this.classificationType=_["a"].BOTH}function m(e){const t=new Float64Array(h["a"].packedLength+o["a"].packedLength);let i=0;return o["a"].pack(e._center,t,i),i+=o["a"].packedLength,h["a"].pack(e._modelMatrix,t,i),t}function g(e,t){let i=0;const n=t[i++],o=t[i++],r=e._boundingVolumes=new Array(o);for(let s=0;s<o;++s)r[s]=a["a"].unpack(t,i),i+=a["a"].packedLength;const c=t[i++],d=e._batchedIndices=new Array(c);for(let a=0;a<c;++a){const e=s["a"].unpack(t,i);i+=s["a"].packedLength;const n=t[i++],o=t[i++],r=t[i++],c=new Array(r);for(let a=0;a<r;++a)c[a]=t[i++];d[a]=new f["a"]({color:e,offset:n,count:o,batchIds:c})}return n}Object.defineProperties(b.prototype,{trianglesLength:{get:function(){return Object(d["a"])(this._primitive)?this._primitive.trianglesLength:0}},geometryByteLength:{get:function(){return Object(d["a"])(this._primitive)?this._primitive.geometryByteLength:0}},readyPromise:{get:function(){return this._readyPromise.promise}}}),b.packedBoxLength=h["a"].packedLength+o["a"].packedLength,b.packedCylinderLength=h["a"].packedLength+2,b.packedEllipsoidLength=h["a"].packedLength+o["a"].packedLength,b.packedSphereLength=o["a"].packedLength+1;const y=new u["a"]("createVectorTileGeometries",5),O=new s["a"];function v(e){if(!Object(d["a"])(e._primitive)){if(!Object(d["a"])(e._verticesPromise)){let t=e._boxes,i=e._boxBatchIds,a=e._cylinders,o=e._cylinderBatchIds,s=e._ellipsoids,r=e._ellipsoidBatchIds,c=e._spheres,l=e._sphereBatchIds,h=e._batchTableColors,u=e._packedBuffer;if(!Object(d["a"])(h)){let _=0;Object(d["a"])(e._boxes)&&(t=e._boxes=Object(n["a"])(t),i=e._boxBatchIds=Object(n["a"])(i),_+=i.length),Object(d["a"])(e._cylinders)&&(a=e._cylinders=Object(n["a"])(a),o=e._cylinderBatchIds=Object(n["a"])(o),_+=o.length),Object(d["a"])(e._ellipsoids)&&(s=e._ellipsoids=Object(n["a"])(s),r=e._ellipsoidBatchIds=Object(n["a"])(r),_+=r.length),Object(d["a"])(e._spheres)&&(c=e._sphere=Object(n["a"])(c),l=e._sphereBatchIds=Object(n["a"])(l),_+=l.length),h=e._batchTableColors=new Uint32Array(_);const f=e._batchTable;for(let e=0;e<_;++e){const t=f.getColor(e,O);h[e]=t.toRgba()}u=e._packedBuffer=m(e)}const _=[];Object(d["a"])(t)&&_.push(t.buffer,i.buffer),Object(d["a"])(a)&&_.push(a.buffer,o.buffer),Object(d["a"])(s)&&_.push(s.buffer,r.buffer),Object(d["a"])(c)&&_.push(c.buffer,l.buffer),_.push(h.buffer,u.buffer);const f={boxes:Object(d["a"])(t)?t.buffer:void 0,boxBatchIds:Object(d["a"])(t)?i.buffer:void 0,cylinders:Object(d["a"])(a)?a.buffer:void 0,cylinderBatchIds:Object(d["a"])(a)?o.buffer:void 0,ellipsoids:Object(d["a"])(s)?s.buffer:void 0,ellipsoidBatchIds:Object(d["a"])(s)?r.buffer:void 0,spheres:Object(d["a"])(c)?c.buffer:void 0,sphereBatchIds:Object(d["a"])(c)?l.buffer:void 0,batchTableColors:h.buffer,packedBuffer:u.buffer},p=e._verticesPromise=y.scheduleTask(f,_);if(!Object(d["a"])(p))return;p.then((function(t){const i=new Float64Array(t.packedBuffer),n=g(e,i);e._indices=2===n?new Uint16Array(t.indices):new Uint32Array(t.indices),e._indexOffsets=new Uint32Array(t.indexOffsets),e._indexCounts=new Uint32Array(t.indexCounts),e._positions=new Float32Array(t.positions),e._vertexBatchIds=new Uint16Array(t.vertexBatchIds),e._batchIds=new Uint16Array(t.batchIds),e._ready=!0}))}e._ready&&!Object(d["a"])(e._primitive)&&(e._primitive=new p["a"]({batchTable:e._batchTable,positions:e._positions,batchIds:e._batchIds,vertexBatchIds:e._vertexBatchIds,indices:e._indices,indexOffsets:e._indexOffsets,indexCounts:e._indexCounts,batchedIndices:e._batchedIndices,boundingVolume:e._boundingVolume,boundingVolumes:e._boundingVolumes,center:e._center,pickObject:Object(r["a"])(e._pickObject,e)}),e._boxes=void 0,e._boxBatchIds=void 0,e._cylinders=void 0,e._cylinderBatchIds=void 0,e._ellipsoids=void 0,e._ellipsoidBatchIds=void 0,e._spheres=void 0,e._sphereBatchIds=void 0,e._center=void 0,e._modelMatrix=void 0,e._batchTable=void 0,e._boundingVolume=void 0,e._boundingVolumes=void 0,e._batchedIndices=void 0,e._indices=void 0,e._indexOffsets=void 0,e._indexCounts=void 0,e._positions=void 0,e._vertexBatchIds=void 0,e._batchIds=void 0,e._batchTableColors=void 0,e._packedBuffer=void 0,e._verticesPromise=void 0,e._readyPromise.resolve())}}b.prototype.createFeatures=function(e,t){this._primitive.createFeatures(e,t)},b.prototype.applyDebugSettings=function(e,t){this._primitive.applyDebugSettings(e,t)},b.prototype.applyStyle=function(e,t){this._primitive.applyStyle(e,t)},b.prototype.updateCommands=function(e,t){this._primitive.updateCommands(e,t)},b.prototype.update=function(e){v(this),this._ready&&(this._primitive.debugWireframe=this.debugWireframe,this._primitive.forceRebatch=this.forceRebatch,this._primitive.classificationType=this.classificationType,this._primitive.update(e))},b.prototype.isDestroyed=function(){return!1},b.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),Object(l["a"])(this)},t["a"]=b},"7fbb":function(e,t,i){"use strict";var n=i("5c8a"),a=i("408d"),o=i("85b2"),s=i("dde0"),r=i("4051"),c=i("cbf0"),d=i("1a5d"),l=i("61ad"),h=i("c937"),u=i("21b7"),_=i("e107"),f=i("8e1f"),p=i("2642"),b=i("22d6"),m=i("722e"),g=i("4a63"),y=i("86a0"),O=i("6f54"),v=i("6ba7"),I=i("d5cf"),T=i("51f2"),C=i("5027"),w=i("8f7d"),S=i("b3ce"),x=i("dc15"),P=i("d3ce"),j=i("6fa8"),A=i("f6b9"),E=i("da23"),L=i("0b24"),D=i("4a43"),N=i("ddd8"),B=i("8d2f"),k=i("79a2"),F=i("20f8"),R=i("e7ea");function H(e){this._positions=e.positions,this._widths=e.widths,this._counts=e.counts,this._batchIds=e.batchIds,this._ellipsoid=Object(d["a"])(e.ellipsoid,_["a"].WGS84),this._minimumHeight=e.minimumHeight,this._maximumHeight=e.maximumHeight,this._center=e.center,this._rectangle=e.rectangle,this._batchTable=e.batchTable,this._va=void 0,this._sp=void 0,this._rs=void 0,this._uniformMap=void 0,this._command=void 0,this._transferrableBatchIds=void 0,this._packedBuffer=void 0,this._minimumMaximumVectorHeights=new o["a"](n["a"]._defaultMinTerrainHeight,n["a"]._defaultMaxTerrainHeight),this._boundingVolume=b["a"].fromRectangle(e.rectangle,n["a"]._defaultMinTerrainHeight,n["a"]._defaultMaxTerrainHeight,this._ellipsoid),this._classificationType=e.classificationType,this._keepDecodedPositions=e.keepDecodedPositions,this._decodedPositions=void 0,this._decodedPositionOffsets=void 0,this._startEllipsoidNormals=void 0,this._endEllipsoidNormals=void 0,this._startPositionAndHeights=void 0,this._startFaceNormalAndVertexCornerIds=void 0,this._endPositionAndHeights=void 0,this._endFaceNormalAndHalfWidths=void 0,this._vertexBatchIds=void 0,this._indices=void 0,this._constantColor=r["a"].clone(r["a"].WHITE),this._highlightColor=this._constantColor,this._trianglesLength=0,this._geometryByteLength=0,this._ready=!1,this._readyPromise=Object(l["a"])(),this._verticesPromise=void 0;const t=this;n["a"].initialize().then((function(){M(t,t._rectangle,t._ellipsoid)})).catch((function(e){this._readyPromise.reject(e)}))}function M(e,t,i){const a=n["a"].getMinimumMaximumHeights(t,i),o=a.minimumTerrainHeight,s=a.maximumTerrainHeight,r=e._minimumMaximumVectorHeights;r.x=o,r.y=s;const c=e._boundingVolume,d=e._rectangle;b["a"].fromRectangle(d,o,s,i,c)}function U(e){const t=e._rectangle,i=e._minimumHeight,n=e._maximumHeight,a=e._ellipsoid,o=e._center,r=2+g["a"].packedLength+_["a"].packedLength+s["a"].packedLength,c=new Float64Array(r);let d=0;return c[d++]=i,c[d++]=n,g["a"].pack(t,c,d),d+=g["a"].packedLength,_["a"].pack(a,c,d),d+=_["a"].packedLength,s["a"].pack(o,c,d),c}Object.defineProperties(H.prototype,{trianglesLength:{get:function(){return this._trianglesLength}},geometryByteLength:{get:function(){return this._geometryByteLength}},readyPromise:{get:function(){return this._readyPromise.promise}}});const V=new y["a"]("createVectorTileClampedPolylines"),W={startEllipsoidNormal:0,endEllipsoidNormal:1,startPositionAndHeight:2,endPositionAndHeight:3,startFaceNormalAndVertexCorner:4,endFaceNormalAndHalfWidth:5,a_batchId:6};function G(e,t){if(!Object(h["a"])(e._va)){if(!Object(h["a"])(e._verticesPromise)){let t=e._positions,i=e._widths,n=e._counts,o=e._transferrableBatchIds,s=e._packedBuffer;Object(h["a"])(s)||(t=e._positions=Object(a["a"])(t),i=e._widths=Object(a["a"])(i),n=e._counts=Object(a["a"])(n),o=e._transferrableBatchIds=Object(a["a"])(e._batchIds),s=e._packedBuffer=U(e));const r=[t.buffer,i.buffer,n.buffer,o.buffer,s.buffer],c={positions:t.buffer,widths:i.buffer,counts:n.buffer,batchIds:o.buffer,packedBuffer:s.buffer,keepDecodedPositions:e._keepDecodedPositions},d=e._verticesPromise=V.scheduleTask(c,r);if(!Object(h["a"])(d))return;Promise.resolve(d).then((function(t){e._keepDecodedPositions&&(e._decodedPositions=new Float64Array(t.decodedPositions),e._decodedPositionOffsets=new Uint32Array(t.decodedPositionOffsets)),e._startEllipsoidNormals=new Float32Array(t.startEllipsoidNormals),e._endEllipsoidNormals=new Float32Array(t.endEllipsoidNormals),e._startPositionAndHeights=new Float32Array(t.startPositionAndHeights),e._startFaceNormalAndVertexCornerIds=new Float32Array(t.startFaceNormalAndVertexCornerIds),e._endPositionAndHeights=new Float32Array(t.endPositionAndHeights),e._endFaceNormalAndHalfWidths=new Float32Array(t.endFaceNormalAndHalfWidths),e._vertexBatchIds=new Uint16Array(t.vertexBatchIds);const i=t.indexDatatype;e._indices=i===p["a"].UNSIGNED_SHORT?new Uint16Array(t.indices):new Uint32Array(t.indices),e._ready=!0})).catch((function(t){e._readyPromise.reject(t)}))}if(e._ready&&!Object(h["a"])(e._va)){const i=e._startEllipsoidNormals,n=e._endEllipsoidNormals,a=e._startPositionAndHeights,o=e._endPositionAndHeights,s=e._startFaceNormalAndVertexCornerIds,r=e._endFaceNormalAndHalfWidths,d=e._vertexBatchIds,l=e._indices;let h=i.byteLength+n.byteLength;h+=a.byteLength+o.byteLength,h+=s.byteLength+r.byteLength,h+=d.byteLength+l.byteLength,e._trianglesLength=l.length/3,e._geometryByteLength=h;const u=O["a"].createVertexBuffer({context:t,typedArray:i,usage:v["a"].STATIC_DRAW}),_=O["a"].createVertexBuffer({context:t,typedArray:n,usage:v["a"].STATIC_DRAW}),f=O["a"].createVertexBuffer({context:t,typedArray:a,usage:v["a"].STATIC_DRAW}),b=O["a"].createVertexBuffer({context:t,typedArray:o,usage:v["a"].STATIC_DRAW}),m=O["a"].createVertexBuffer({context:t,typedArray:s,usage:v["a"].STATIC_DRAW}),g=O["a"].createVertexBuffer({context:t,typedArray:r,usage:v["a"].STATIC_DRAW}),y=O["a"].createVertexBuffer({context:t,typedArray:d,usage:v["a"].STATIC_DRAW}),I=O["a"].createIndexBuffer({context:t,typedArray:l,usage:v["a"].STATIC_DRAW,indexDatatype:2===l.BYTES_PER_ELEMENT?p["a"].UNSIGNED_SHORT:p["a"].UNSIGNED_INT}),T=[{index:W.startEllipsoidNormal,vertexBuffer:u,componentDatatype:c["a"].FLOAT,componentsPerAttribute:3},{index:W.endEllipsoidNormal,vertexBuffer:_,componentDatatype:c["a"].FLOAT,componentsPerAttribute:3},{index:W.startPositionAndHeight,vertexBuffer:f,componentDatatype:c["a"].FLOAT,componentsPerAttribute:4},{index:W.endPositionAndHeight,vertexBuffer:b,componentDatatype:c["a"].FLOAT,componentsPerAttribute:4},{index:W.startFaceNormalAndVertexCorner,vertexBuffer:m,componentDatatype:c["a"].FLOAT,componentsPerAttribute:4},{index:W.endFaceNormalAndHalfWidth,vertexBuffer:g,componentDatatype:c["a"].FLOAT,componentsPerAttribute:4},{index:W.a_batchId,vertexBuffer:y,componentDatatype:c["a"].UNSIGNED_SHORT,componentsPerAttribute:1}];e._va=new x["a"]({context:t,attributes:T,indexBuffer:I}),e._positions=void 0,e._widths=void 0,e._counts=void 0,e._ellipsoid=void 0,e._minimumHeight=void 0,e._maximumHeight=void 0,e._rectangle=void 0,e._transferrableBatchIds=void 0,e._packedBuffer=void 0,e._startEllipsoidNormals=void 0,e._endEllipsoidNormals=void 0,e._startPositionAndHeights=void 0,e._startFaceNormalAndVertexCornerIds=void 0,e._endPositionAndHeights=void 0,e._endFaceNormalAndHalfWidths=void 0,e._vertexBatchIds=void 0,e._indices=void 0,e._readyPromise.resolve()}}}const z=new m["a"],Y=new s["a"];function q(e,t){Object(h["a"])(e._uniformMap)||(e._uniformMap={u_modifiedModelView:function(){const i=t.uniformState.view;return m["a"].clone(i,z),m["a"].multiplyByPoint(z,e._center,Y),m["a"].setTranslation(z,Y,z),z},u_highlightColor:function(){return e._highlightColor},u_minimumMaximumVectorHeights:function(){return e._minimumMaximumVectorHeights}})}function Z(e){return C["a"].fromCache({cull:{enabled:!0,face:N["a"].FRONT},blending:E["a"].PRE_MULTIPLIED_ALPHA_BLEND,depthMask:!1,stencilTest:{enabled:e,frontFunction:k["a"].EQUAL,frontOperation:{fail:F["a"].KEEP,zFail:F["a"].KEEP,zPass:F["a"].KEEP},backFunction:k["a"].EQUAL,backOperation:{fail:F["a"].KEEP,zFail:F["a"].KEEP,zPass:F["a"].KEEP},reference:B["a"].CESIUM_3D_TILE_MASK,mask:B["a"].CESIUM_3D_TILE_MASK}})}function K(e){Object(h["a"])(e._rs)||(e._rs=Z(!1),e._rs3DTiles=Z(!0))}function X(e,t){if(Object(h["a"])(e._sp))return;const i=e._batchTable,n=i.getVertexShaderCallback(!1,"a_batchId",void 0)(j["a"]),a=i.getFragmentShaderCallback(!1,void 0,!0)(A["a"]),o=new S["a"]({defines:["VECTOR_TILE",f["a"].isInternetExplorer()?"":"CLIP_POLYLINE"],sources:[P["a"],n]}),s=new S["a"]({defines:["VECTOR_TILE"],sources:[a]});e._sp=w["a"].fromCache({context:t,vertexShaderSource:o,fragmentShaderSource:s,attributeLocations:W})}function J(e,t){let i=e._command;if(!Object(h["a"])(e._command)){const t=e._batchTable.getUniformMapCallback()(e._uniformMap);i=e._command=new I["a"]({owner:e,vertexArray:e._va,renderState:e._rs,shaderProgram:e._sp,uniformMap:t,boundingVolume:e._boundingVolume,pass:T["a"].TERRAIN_CLASSIFICATION,pickId:e._batchTable.getPickId()});const n=I["a"].shallowClone(i,i.derivedCommands.tileset);n.renderState=e._rs3DTiles,n.pass=T["a"].CESIUM_3D_TILE_CLASSIFICATION,i.derivedCommands.tileset=n}const n=e._classificationType;n!==D["a"].TERRAIN&&n!==D["a"].BOTH||t.commandList.push(i),n!==D["a"].CESIUM_3D_TILE&&n!==D["a"].BOTH||t.commandList.push(i.derivedCommands.tileset)}function Q(e,t){const i=e._batchIds,n=i.length;for(let a=0;a<n;++a){const e=i[a],n=t[e];n.show=!0,n.color=r["a"].WHITE}}H.prototype.getPositions=function(e){return R["a"].getPolylinePositions(this,e)},H.prototype.createFeatures=function(e,t){const i=this._batchIds,n=i.length;for(let a=0;a<n;++a){const n=i[a];t[n]=new L["a"](e,n)}},H.prototype.applyDebugSettings=function(e,t){this._highlightColor=e?t:this._constantColor};const $=new r["a"],ee=r["a"].WHITE,te=!0;H.prototype.applyStyle=function(e,t){if(!Object(h["a"])(e))return void Q(this,t);const i=this._batchIds,n=i.length;for(let a=0;a<n;++a){const n=i[a],o=t[n];o.color=Object(h["a"])(e.color)?e.color.evaluateColor(o,$):ee,o.show=Object(h["a"])(e.show)?e.show.evaluate(o):te}},H.prototype.update=function(e){const t=e.context;if(G(this,t),q(this,t),X(this,t),K(this),!this._ready)return;const i=e.passes;(i.render||i.pick)&&J(this,e)},H.prototype.isDestroyed=function(){return!1},H.prototype.destroy=function(){return this._va=this._va&&this._va.destroy(),this._sp=this._sp&&this._sp.destroy(),Object(u["a"])(this)},t["a"]=H},"8ea8":function(e,t,i){"use strict";var n=i("6af0"),a=i("4051"),o=i("c937"),s=i("21b7"),r=i("0238"),c=i("a3c8"),d=i("d5cf"),l=i("66fd"),h=i("51f2"),u=i("1494"),_=i("5027"),f=i("4d68"),p=i("b3ce"),b=i("1a75"),m=i("d1db"),g=i("7229"),y=i("da23"),O=i("8d2f"),v=i("79a2");const I=!1;function T(e){this._drawClassificationFBO=new l["a"]({createDepthAttachments:!1}),this._accumulationFBO=new l["a"]({createDepthAttachments:!1}),this._packFBO=new l["a"],this._opaqueDepthStencilTexture=void 0,this._textureToComposite=void 0,this._translucentDepthStencilTexture=void 0,this._packDepthCommand=void 0,this._accumulateCommand=void 0,this._compositeCommand=void 0,this._copyCommand=void 0,this._clearColorCommand=new c["a"]({color:new a["a"](0,0,0,0),owner:this}),this._clearDepthStencilCommand=new c["a"]({depth:1,stencil:0,owner:this}),this._supported=e.depthTexture,this._viewport=new n["a"],this._rsDepth=void 0,this._rsAccumulate=void 0,this._rsComp=void 0,this._useScissorTest=void 0,this._scissorRectangle=void 0,this._hasTranslucentDepth=!1,this._frustumsDrawn=0}function C(e){e._textureToComposite=void 0,e._translucentDepthStencilTexture=e._translucentDepthStencilTexture&&!e._translucentDepthStencilTexture.isDestroyed()&&e._translucentDepthStencilTexture.destroy()}function w(e){e._drawClassificationFBO.destroy(),e._accumulationFBO.destroy(),e._packFBO.destroy()}function S(e,t,i,n){C(e),e._translucentDepthStencilTexture=new b["a"]({context:t,width:i,height:n,pixelFormat:r["a"].DEPTH_STENCIL,pixelDatatype:u["a"].UNSIGNED_INT_24_8,sampler:f["a"].NEAREST})}function x(e,t,i,n){w(e),e._drawClassificationFBO.setDepthStencilTexture(e._translucentDepthStencilTexture),e._drawClassificationFBO.update(t,i,n),e._accumulationFBO.setDepthStencilTexture(e._translucentDepthStencilTexture),e._accumulationFBO.update(t,i,n),e._packFBO.update(t,i,n)}function P(e,t,i,a){if(!e.isSupported())return;e._opaqueDepthStencilTexture=a;const s=e._opaqueDepthStencilTexture.width,r=e._opaqueDepthStencilTexture.height;let c,l;if(e._drawClassificationFBO.isDirty(s,r)&&(S(e,t,s,r),x(e,t,s,r)),Object(o["a"])(e._packDepthCommand)||(c=new p["a"]({sources:[m["a"]]}),l={u_opaqueDepthTexture:function(){return e._opaqueDepthStencilTexture},u_translucentDepthTexture:function(){return e._translucentDepthStencilTexture}},e._packDepthCommand=t.createViewportQuadCommand(c,{uniformMap:l,owner:e})),!Object(o["a"])(e._compositeCommand)){c=new p["a"]({sources:[g["a"]]}),l={colorTexture:function(){return e._textureToComposite}},I&&(c.defines=["DEBUG_SHOW_DEPTH"],l.u_packedTranslucentDepth=function(){return e._packFBO.getColorTexture()}),e._compositeCommand=t.createViewportQuadCommand(c,{uniformMap:l,owner:e});const i=e._compositeCommand,n=i.shaderProgram,a=t.shaderCache.createDerivedShaderProgram(n,"pick",{vertexShaderSource:n.vertexShaderSource,fragmentShaderSource:new p["a"]({sources:c.sources,defines:["PICK"]}),attributeLocations:n._attributeLocations}),o=d["a"].shallowClone(i);o.shaderProgram=a,i.derivedCommands.pick=o}Object(o["a"])(e._copyCommand)||(c=new p["a"]({sources:[g["a"]]}),l={colorTexture:function(){return e._drawClassificationFBO.getColorTexture()}},e._copyCommand=t.createViewportQuadCommand(c,{uniformMap:l,owner:e})),Object(o["a"])(e._accumulateCommand)||(c=new p["a"]({sources:[g["a"]]}),l={colorTexture:function(){return e._drawClassificationFBO.getColorTexture()}},e._accumulateCommand=t.createViewportQuadCommand(c,{uniformMap:l,owner:e})),e._viewport.width=s,e._viewport.height=r;const h=!n["a"].equals(e._viewport,i.viewport);let u=h!==e._useScissorTest;e._useScissorTest=h,n["a"].equals(e._scissorRectangle,i.viewport)||(e._scissorRectangle=n["a"].clone(i.viewport,e._scissorRectangle),u=!0),Object(o["a"])(e._rsDepth)&&n["a"].equals(e._viewport,e._rsDepth.viewport)&&!u||(e._rsDepth=_["a"].fromCache({viewport:e._viewport,scissorTest:{enabled:e._useScissorTest,rectangle:e._scissorRectangle}})),Object(o["a"])(e._packDepthCommand)&&(e._packDepthCommand.renderState=e._rsDepth),Object(o["a"])(e._rsAccumulate)&&n["a"].equals(e._viewport,e._rsAccumulate.viewport)&&!u||(e._rsAccumulate=_["a"].fromCache({viewport:e._viewport,scissorTest:{enabled:e._useScissorTest,rectangle:e._scissorRectangle},stencilTest:{enabled:!0,frontFunction:v["a"].EQUAL,reference:O["a"].CESIUM_3D_TILE_MASK}})),Object(o["a"])(e._accumulateCommand)&&(e._accumulateCommand.renderState=e._rsAccumulate),Object(o["a"])(e._rsComp)&&n["a"].equals(e._viewport,e._rsComp.viewport)&&!u||(e._rsComp=_["a"].fromCache({viewport:e._viewport,scissorTest:{enabled:e._useScissorTest,rectangle:e._scissorRectangle},blending:y["a"].ALPHA_BLEND})),Object(o["a"])(e._compositeCommand)&&(e._compositeCommand.renderState=e._rsComp,e._compositeCommand.derivedCommands.pick.renderState=e._rsComp)}function j(e,t,i){if(!e._hasTranslucentDepth)return;const n=i.framebuffer;i.framebuffer=e._drawClassificationFBO.framebuffer,e._clearColorCommand.execute(t._context,i),i.framebuffer=n,e._frustumsDrawn>1&&(i.framebuffer=e._accumulationFBO.framebuffer,e._clearColorCommand.execute(t._context,i)),e._hasTranslucentDepth=!1,e._frustumsDrawn=0}Object.defineProperties(T.prototype,{hasTranslucentDepth:{get:function(){return this._hasTranslucentDepth}}}),T.prototype.executeTranslucentCommands=function(e,t,i,n,a){const o=n.length;let s,r;const c=e.frameState.useLogDepth,d=e.context,l=i.framebuffer;for(r=0;r<o;++r)if(s=n[r],s=c?s.derivedCommands.logDepth.command:s,s.depthForTranslucentClassification){this._hasTranslucentDepth=!0;break}if(this._hasTranslucentDepth){for(P(this,d,i,a),i.framebuffer=this._drawClassificationFBO.framebuffer,this._clearDepthStencilCommand.execute(d,i),r=0;r<o;++r){if(s=n[r],s=c?s.derivedCommands.logDepth.command:s,!s.depthForTranslucentClassification)continue;const a=s.derivedCommands.depth.depthOnlyCommand;t(a,e,d,i)}this._frustumsDrawn+=this._hasTranslucentDepth?1:0,this._hasTranslucentDepth&&(i.framebuffer=this._packFBO.framebuffer,this._packDepthCommand.execute(d,i)),i.framebuffer=l}},T.prototype.executeClassificationCommands=function(e,t,i,n){if(!this._hasTranslucentDepth)return;const a=e.context,o=a.uniformState,s=i.framebuffer;2===this._frustumsDrawn&&(i.framebuffer=this._accumulationFBO.framebuffer,this._copyCommand.execute(a,i)),i.framebuffer=this._drawClassificationFBO.framebuffer,this._frustumsDrawn>1&&this._clearColorCommand.execute(a,i),o.updatePass(h["a"].CESIUM_3D_TILE_CLASSIFICATION);const r=o.globeDepthTexture;o.globeDepthTexture=this._packFBO.getColorTexture();const c=n.commands[h["a"].CESIUM_3D_TILE_CLASSIFICATION],d=n.indices[h["a"].CESIUM_3D_TILE_CLASSIFICATION];for(let l=0;l<d;++l)t(c[l],e,a,i);o.globeDepthTexture=r,i.framebuffer=s,1!==this._frustumsDrawn&&(i.framebuffer=this._accumulationFBO.framebuffer,this._accumulateCommand.execute(a,i),i.framebuffer=s)},T.prototype.execute=function(e,t){if(!this._hasTranslucentDepth)return;1===this._frustumsDrawn?this._textureToComposite=this._drawClassificationFBO.getColorTexture():this._textureToComposite=this._accumulationFBO.getColorTexture();const i=e.frameState.passes.pick?this._compositeCommand.derivedCommands.pick:this._compositeCommand;i.execute(e.context,t),j(this,e,t)},T.prototype.isSupported=function(){return this._supported},T.prototype.isDestroyed=function(){return!1},T.prototype.destroy=function(){return C(this),w(this),Object(o["a"])(this._compositeCommand)&&(this._compositeCommand.shaderProgram=this._compositeCommand.shaderProgram&&this._compositeCommand.shaderProgram.destroy()),Object(o["a"])(this._packDepthCommand)&&(this._packDepthCommand.shaderProgram=this._packDepthCommand.shaderProgram&&this._packDepthCommand.shaderProgram.destroy()),Object(s["a"])(this)},t["a"]=T},ac0d:function(e,t,i){"use strict";var n=i("dde0"),a=i("1a5d"),o=i("61ad"),s=i("c937"),r=i("21b7"),c=i("e2a6"),d=i("e107"),l=i("7526"),h=i("cbf0"),u=i("b8b5"),_=i("722e"),f=i("4a63"),p=i("e2aa"),b=i("8fcb"),m=i("666e"),g=i("01c8"),y=i("1776"),O=i("e7ea"),v=i("7fbb"),I=i("0588");function T(e,t,i,n,a){this._tileset=e,this._tile=t,this._resource=i,this._polygons=void 0,this._polylines=void 0,this._points=void 0,this._contentReadyPromise=void 0,this._readyPromise=Object(o["a"])(),this._metadata=void 0,this._batchTable=void 0,this._features=void 0,this.featurePropertiesDirty=!1,this._group=void 0,j(this,n,a)}function C(e){return function(t,i){Object(s["a"])(e._polygons)&&e._polygons.updateCommands(t,i)}}function w(e,t){let i,n,o,r;const c=Object(a["a"])(e.POLYGONS_LENGTH,0),d=Object(a["a"])(e.POLYLINES_LENGTH,0),l=Object(a["a"])(e.POINTS_LENGTH,0);if(c>0&&Object(s["a"])(e.POLYGON_BATCH_IDS)){const n=t.byteOffset+e.POLYGON_BATCH_IDS.byteOffset;i=new Uint16Array(t.buffer,n,c)}if(d>0&&Object(s["a"])(e.POLYLINE_BATCH_IDS)){const i=t.byteOffset+e.POLYLINE_BATCH_IDS.byteOffset;n=new Uint16Array(t.buffer,i,d)}if(l>0&&Object(s["a"])(e.POINT_BATCH_IDS)){const i=t.byteOffset+e.POINT_BATCH_IDS.byteOffset;o=new Uint16Array(t.buffer,i,l)}const h=Object(s["a"])(i)||Object(s["a"])(n)||Object(s["a"])(o),u=c>0&&!Object(s["a"])(i)||d>0&&!Object(s["a"])(n)||l>0&&!Object(s["a"])(o);if(h&&u)throw new p["a"]("If one group of batch ids is defined, then all batch ids must be defined.");const _=!Object(s["a"])(i)&&!Object(s["a"])(n)&&!Object(s["a"])(o);if(_){let e=0;if(!Object(s["a"])(i)&&c>0)for(i=new Uint16Array(c),r=0;r<c;++r)i[r]=e++;if(!Object(s["a"])(n)&&d>0)for(n=new Uint16Array(d),r=0;r<d;++r)n[r]=e++;if(!Object(s["a"])(o)&&l>0)for(o=new Uint16Array(l),r=0;r<l;++r)o[r]=e++}return{polygons:i,polylines:n,points:o}}Object.defineProperties(T.prototype,{featuresLength:{get:function(){return Object(s["a"])(this._batchTable)?this._batchTable.featuresLength:0}},pointsLength:{get:function(){return Object(s["a"])(this._points)?this._points.pointsLength:0}},trianglesLength:{get:function(){let e=0;return Object(s["a"])(this._polygons)&&(e+=this._polygons.trianglesLength),Object(s["a"])(this._polylines)&&(e+=this._polylines.trianglesLength),e}},geometryByteLength:{get:function(){let e=0;return Object(s["a"])(this._polygons)&&(e+=this._polygons.geometryByteLength),Object(s["a"])(this._polylines)&&(e+=this._polylines.geometryByteLength),e}},texturesByteLength:{get:function(){return Object(s["a"])(this._points)?this._points.texturesByteLength:0}},batchTableByteLength:{get:function(){return Object(s["a"])(this._batchTable)?this._batchTable.memorySizeInBytes:0}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._readyPromise.promise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},metadata:{get:function(){return this._metadata},set:function(e){this._metadata=e}},batchTable:{get:function(){return this._batchTable}},group:{get:function(){return this._group},set:function(e){this._group=e}}});const S=Uint32Array.BYTES_PER_ELEMENT;function x(e){return new O["a"](e)}function P(e){return new v["a"](e)}function j(e,t,i){i=Object(a["a"])(i,0);const o=new Uint8Array(t),r=new DataView(t);i+=S;const c=r.getUint32(i,!0);if(1!==c)throw new p["a"](`Only Vector tile version 1 is supported.  Version ${c} is not.`);i+=S;const O=r.getUint32(i,!0);if(i+=S,0===O)return void e._readyPromise.resolve(e);const v=r.getUint32(i,!0);if(i+=S,0===v)throw new p["a"]("Feature table must have a byte length greater than zero");const T=r.getUint32(i,!0);i+=S;const j=r.getUint32(i,!0);i+=S;const A=r.getUint32(i,!0);i+=S;const L=r.getUint32(i,!0);i+=S;const D=r.getUint32(i,!0);i+=S;const N=r.getUint32(i,!0);i+=S;const B=r.getUint32(i,!0);i+=S;const k=Object(l["a"])(o,i,v);i+=v;const F=new Uint8Array(t,i,T);let R,H;i+=T,j>0&&(R=Object(l["a"])(o,i,j),i+=j,A>0&&(H=new Uint8Array(t,i,A),H=new Uint8Array(H),i+=A));const M=Object(a["a"])(k.POLYGONS_LENGTH,0),U=Object(a["a"])(k.POLYLINES_LENGTH,0),V=Object(a["a"])(k.POINTS_LENGTH,0),W=M+U+V,G=new b["a"](e,W,R,H,C(e));if(e._batchTable=G,0===W)return;const z=new m["a"](k,F),Y=z.getGlobalProperty("REGION");if(!Object(s["a"])(Y))throw new p["a"]("Feature table global property: REGION must be defined");const q=f["a"].unpack(Y),Z=Y[4],K=Y[5],X=e._tile.computedTransform;let J=z.getGlobalProperty("RTC_CENTER",h["a"].FLOAT,3);Object(s["a"])(J)?(J=n["a"].unpack(J),_["a"].multiplyByPoint(X,J,J)):(J=f["a"].center(q),J.height=u["a"].lerp(Z,K,.5),J=d["a"].WGS84.cartographicToCartesian(J));const Q=w(k,F);if(i+=(4-i%4)%4,M>0){z.featuresLength=M;const n=Object(a["a"])(z.getPropertyArray("POLYGON_COUNTS",h["a"].UNSIGNED_INT,1),z.getPropertyArray("POLYGON_COUNT",h["a"].UNSIGNED_INT,1));if(!Object(s["a"])(n))throw new p["a"]("Feature table property: POLYGON_COUNTS must be defined when POLYGONS_LENGTH is greater than 0");const o=Object(a["a"])(z.getPropertyArray("POLYGON_INDEX_COUNTS",h["a"].UNSIGNED_INT,1),z.getPropertyArray("POLYGON_INDEX_COUNT",h["a"].UNSIGNED_INT,1));if(!Object(s["a"])(o))throw new p["a"]("Feature table property: POLYGON_INDEX_COUNTS must be defined when POLYGONS_LENGTH is greater than 0");const r=n.reduce((function(e,t){return e+2*t}),0),c=o.reduce((function(e,t){return e+t}),0),d=new Uint32Array(t,i,c);i+=L;const l=new Uint16Array(t,i,r);let u,_;i+=D,Object(s["a"])(k.POLYGON_MINIMUM_HEIGHTS)&&Object(s["a"])(k.POLYGON_MAXIMUM_HEIGHTS)&&(u=z.getPropertyArray("POLYGON_MINIMUM_HEIGHTS",h["a"].FLOAT,1),_=z.getPropertyArray("POLYGON_MAXIMUM_HEIGHTS",h["a"].FLOAT,1)),e._polygons=new y["a"]({positions:l,counts:n,indexCounts:o,indices:d,minimumHeight:Z,maximumHeight:K,polygonMinimumHeights:u,polygonMaximumHeights:_,center:J,rectangle:q,boundingVolume:e.tile.boundingVolume.boundingVolume,batchTable:G,batchIds:Q.polygons,modelMatrix:X})}if(U>0){z.featuresLength=U;const n=Object(a["a"])(z.getPropertyArray("POLYLINE_COUNTS",h["a"].UNSIGNED_INT,1),z.getPropertyArray("POLYLINE_COUNT",h["a"].UNSIGNED_INT,1));if(!Object(s["a"])(n))throw new p["a"]("Feature table property: POLYLINE_COUNTS must be defined when POLYLINES_LENGTH is greater than 0");let o=z.getPropertyArray("POLYLINE_WIDTHS",h["a"].UNSIGNED_SHORT,1);if(!Object(s["a"])(o)){o=new Uint16Array(U);for(let e=0;e<U;++e)o[e]=2}const r=n.reduce((function(e,t){return e+3*t}),0),c=new Uint16Array(t,i,r);i+=N;const l=e._tileset,u=l.examineVectorLinesFunction;if(Object(s["a"])(u)){const t=Object(I["a"])(new Uint16Array(c),q,Z,K,d["a"].WGS84);E(t,n,Q.polylines,G,e.url,u)}let _=x;Object(s["a"])(l.classificationType)&&(_=P),e._polylines=_({positions:c,widths:o,counts:n,batchIds:Q.polylines,minimumHeight:Z,maximumHeight:K,center:J,rectangle:q,boundingVolume:e.tile.boundingVolume.boundingVolume,batchTable:G,classificationType:l.classificationType,keepDecodedPositions:l.vectorKeepDecodedPositions})}if(V>0){const n=new Uint16Array(t,i,3*V);i+=B,e._points=new g["a"]({positions:n,batchIds:Q.points,minimumHeight:Z,maximumHeight:K,rectangle:q,batchTable:G})}}function A(e){const t=e.featuresLength;if(!Object(s["a"])(e._features)&&t>0){const i=new Array(t);Object(s["a"])(e._polygons)&&e._polygons.createFeatures(e,i),Object(s["a"])(e._polylines)&&e._polylines.createFeatures(e,i),Object(s["a"])(e._points)&&e._points.createFeatures(e,i),e._features=i}}function E(e,t,i,n,a,o){const s=t.length;let r=0;for(let c=0;c<s;c++){const s=3*t[c],d=e.slice(r,r+s);r+=s,o(d,i[c],a,n)}}T.prototype.hasProperty=function(e,t){return this._batchTable.hasProperty(e,t)},T.prototype.getFeature=function(e){const t=this.featuresLength;if(!Object(s["a"])(e)||e<0||e>=t)throw new c["a"](`batchId is required and between zero and featuresLength - 1 (${t-1}).`);return A(this),this._features[e]},T.prototype.applyDebugSettings=function(e,t){Object(s["a"])(this._polygons)&&this._polygons.applyDebugSettings(e,t),Object(s["a"])(this._polylines)&&this._polylines.applyDebugSettings(e,t),Object(s["a"])(this._points)&&this._points.applyDebugSettings(e,t)},T.prototype.applyStyle=function(e){A(this),Object(s["a"])(this._polygons)&&this._polygons.applyStyle(e,this._features),Object(s["a"])(this._polylines)&&this._polylines.applyStyle(e,this._features),Object(s["a"])(this._points)&&this._points.applyStyle(e,this._features)},T.prototype.update=function(e,t){let i=!0;if(Object(s["a"])(this._polygons)&&(this._polygons.classificationType=this._tileset.classificationType,this._polygons.debugWireframe=this._tileset.debugWireframe,this._polygons.update(t),i=i&&this._polygons._ready),Object(s["a"])(this._polylines)&&(this._polylines.update(t),i=i&&this._polylines._ready),Object(s["a"])(this._points)&&(this._points.update(t),i=i&&this._points._ready),Object(s["a"])(this._batchTable)&&i&&this._batchTable.update(e,t),!Object(s["a"])(this._contentReadyPromise)){const e=Object(s["a"])(this._points)?this._points.readyPromise:void 0,t=Object(s["a"])(this._polygons)?this._polygons.readyPromise:void 0,i=Object(s["a"])(this._polylines)?this._polylines.readyPromise:void 0,n=this;this._contentReadyPromise=Promise.all([e,t,i]).then((function(){n._readyPromise.resolve(n)})).catch((function(e){n._readyPromise.reject(e)}))}},T.prototype.getPolylinePositions=function(e){const t=this._polylines;if(Object(s["a"])(t))return t.getPositions(e)},T.prototype.isDestroyed=function(){return!1},T.prototype.destroy=function(){return this._polygons=this._polygons&&this._polygons.destroy(),this._polylines=this._polylines&&this._polylines.destroy(),this._points=this._points&&this._points.destroy(),this._batchTable=this._batchTable&&this._batchTable.destroy(),Object(r["a"])(this)},t["a"]=T},c7d4:function(e,t,i){"use strict";var n=i("dde0"),a=i("4051"),o=i("cbf0"),s=i("1a5d"),r=i("c937"),c=i("21b7"),d=i("2642"),l=i("722e"),h=i("82ba"),u=i("6f54"),_=i("6ba7"),f=i("d5cf"),p=i("51f2"),b=i("5027"),m=i("8f7d"),g=i("b3ce"),y=i("dc15"),O=i("0b8b"),v=i("e72f"),I=i("da23"),T=i("0b24"),C=i("4a43"),w=i("0650"),S=i("e829"),x=i("8d2f"),P=i("79a2"),j=i("20f8"),A=i("52d3");function E(e){e=Object(s["a"])(e,s["a"].EMPTY_OBJECT),this._batchTable=e.batchTable,this._batchIds=e.batchIds,this._positions=e.positions,this._vertexBatchIds=e.vertexBatchIds,this._indices=e.indices,this._indexCounts=e.indexCounts,this._indexOffsets=e.indexOffsets,this._batchedIndices=e.batchedIndices,this._boundingVolume=e.boundingVolume,this._boundingVolumes=e.boundingVolumes,this._center=Object(s["a"])(e.center,n["a"].ZERO),this._va=void 0,this._sp=void 0,this._spStencil=void 0,this._spPick=void 0,this._uniformMap=void 0,this._vaSwap=void 0,this._rsStencilDepthPass=void 0,this._rsStencilDepthPass3DTiles=void 0,this._rsColorPass=void 0,this._rsPickPass=void 0,this._rsWireframe=void 0,this._commands=[],this._commandsIgnoreShow=[],this._pickCommands=[],this._constantColor=a["a"].clone(a["a"].WHITE),this._highlightColor=this._constantColor,this._batchDirty=!0,this._pickCommandsDirty=!0,this._framesSinceLastRebatch=0,this._updatingAllCommands=!1,this._trianglesLength=this._indices.length/3,this._geometryByteLength=this._indices.byteLength+this._positions.byteLength+this._vertexBatchIds.byteLength,this.debugWireframe=!1,this._debugWireframe=this.debugWireframe,this._wireframeDirty=!1,this.forceRebatch=!1,this.classificationType=Object(s["a"])(e.classificationType,C["a"].BOTH),this._vertexShaderSource=e._vertexShaderSource,this._fragmentShaderSource=e._fragmentShaderSource,this._attributeLocations=e._attributeLocations,this._uniformMap=e._uniformMap,this._pickId=e._pickId,this._modelMatrix=e._modelMatrix,this._boundingSphere=e._boundingSphere,this._batchIdLookUp={};const t=this._batchIds.length;for(let i=0;i<t;++i){const e=this._batchIds[i];this._batchIdLookUp[e]=i}}Object.defineProperties(E.prototype,{trianglesLength:{get:function(){return this._trianglesLength}},geometryByteLength:{get:function(){return this._geometryByteLength}}});const L={position:0,a_batchId:1};function D(e,t){if(Object(r["a"])(e._va))return;const i=u["a"].createVertexBuffer({context:t,typedArray:e._positions,usage:_["a"].STATIC_DRAW}),n=u["a"].createVertexBuffer({context:t,typedArray:e._vertexBatchIds,usage:_["a"].STATIC_DRAW}),a=u["a"].createIndexBuffer({context:t,typedArray:e._indices,usage:_["a"].DYNAMIC_DRAW,indexDatatype:2===e._indices.BYTES_PER_ELEMENT?d["a"].UNSIGNED_SHORT:d["a"].UNSIGNED_INT}),s=[{index:0,vertexBuffer:i,componentDatatype:o["a"].fromTypedArray(e._positions),componentsPerAttribute:3},{index:1,vertexBuffer:n,componentDatatype:o["a"].fromTypedArray(e._vertexBatchIds),componentsPerAttribute:1}];e._va=new y["a"]({context:t,attributes:s,indexBuffer:a}),t.webgl2&&(e._vaSwap=new y["a"]({context:t,attributes:s,indexBuffer:u["a"].createIndexBuffer({context:t,sizeInBytes:a.sizeInBytes,usage:_["a"].DYNAMIC_DRAW,indexDatatype:a.indexDatatype})})),e._batchedPositions=void 0,e._transferrableBatchIds=void 0,e._vertexBatchIds=void 0,e._verticesPromise=void 0}function N(e,t){if(Object(r["a"])(e._sp))return;const i=e._batchTable,n=Object(s["a"])(e._attributeLocations,L);let a=e._pickId;const o=e._vertexShaderSource;let c=e._fragmentShaderSource;if(Object(r["a"])(o))return e._sp=m["a"].fromCache({context:t,vertexShaderSource:o,fragmentShaderSource:c,attributeLocations:n}),e._spStencil=e._sp,c=g["a"].replaceMain(c,"czm_non_pick_main"),c=c+"void main() \n{ \n    czm_non_pick_main(); \n"+`    gl_FragColor = ${a}; \n} \n`,void(e._spPick=m["a"].fromCache({context:t,vertexShaderSource:o,fragmentShaderSource:c,attributeLocations:n}));const d=i.getVertexShaderCallback(!1,"a_batchId",void 0)(v["a"]);let l=i.getFragmentShaderCallback(!1,void 0,!0)(O["a"]);a=i.getPickId();let h=new g["a"]({sources:[d]}),u=new g["a"]({defines:["VECTOR_TILE"],sources:[l]});e._sp=m["a"].fromCache({context:t,vertexShaderSource:h,fragmentShaderSource:u,attributeLocations:n}),h=new g["a"]({sources:[v["a"]]}),u=new g["a"]({defines:["VECTOR_TILE"],sources:[O["a"]]}),e._spStencil=m["a"].fromCache({context:t,vertexShaderSource:h,fragmentShaderSource:u,attributeLocations:n}),l=g["a"].replaceMain(l,"czm_non_pick_main"),l=l+"\nvoid main() \n{ \n    czm_non_pick_main(); \n"+`    gl_FragColor = ${a}; \n} \n`;const _=new g["a"]({sources:[d]}),f=new g["a"]({defines:["VECTOR_TILE"],sources:[l]});e._spPick=m["a"].fromCache({context:t,vertexShaderSource:_,fragmentShaderSource:f,attributeLocations:n})}function B(e){const t=e?P["a"].EQUAL:P["a"].ALWAYS;return{colorMask:{red:!1,green:!1,blue:!1,alpha:!1},stencilTest:{enabled:!0,frontFunction:t,frontOperation:{fail:j["a"].KEEP,zFail:j["a"].DECREMENT_WRAP,zPass:j["a"].KEEP},backFunction:t,backOperation:{fail:j["a"].KEEP,zFail:j["a"].INCREMENT_WRAP,zPass:j["a"].KEEP},reference:x["a"].CESIUM_3D_TILE_MASK,mask:x["a"].CESIUM_3D_TILE_MASK},stencilMask:x["a"].CLASSIFICATION_MASK,depthTest:{enabled:!0,func:w["a"].LESS_OR_EQUAL},depthMask:!1}}const k={stencilTest:{enabled:!0,frontFunction:P["a"].NOT_EQUAL,frontOperation:{fail:j["a"].ZERO,zFail:j["a"].ZERO,zPass:j["a"].ZERO},backFunction:P["a"].NOT_EQUAL,backOperation:{fail:j["a"].ZERO,zFail:j["a"].ZERO,zPass:j["a"].ZERO},reference:0,mask:x["a"].CLASSIFICATION_MASK},stencilMask:x["a"].CLASSIFICATION_MASK,depthTest:{enabled:!1},depthMask:!1,blending:I["a"].PRE_MULTIPLIED_ALPHA_BLEND},F={stencilTest:{enabled:!0,frontFunction:P["a"].NOT_EQUAL,frontOperation:{fail:j["a"].ZERO,zFail:j["a"].ZERO,zPass:j["a"].ZERO},backFunction:P["a"].NOT_EQUAL,backOperation:{fail:j["a"].ZERO,zFail:j["a"].ZERO,zPass:j["a"].ZERO},reference:0,mask:x["a"].CLASSIFICATION_MASK},stencilMask:x["a"].CLASSIFICATION_MASK,depthTest:{enabled:!1},depthMask:!1};function R(e){Object(r["a"])(e._rsStencilDepthPass)||(e._rsStencilDepthPass=b["a"].fromCache(B(!1)),e._rsStencilDepthPass3DTiles=b["a"].fromCache(B(!0)),e._rsColorPass=b["a"].fromCache(k),e._rsPickPass=b["a"].fromCache(F))}const H=new l["a"],M=new n["a"];function U(e,t){if(Object(r["a"])(e._uniformMap))return;const i={u_modifiedModelViewProjection:function(){const i=t.uniformState.view,n=t.uniformState.projection;return l["a"].clone(i,H),l["a"].multiplyByPoint(H,e._center,M),l["a"].setTranslation(H,M,H),l["a"].multiply(n,H,H),H},u_highlightColor:function(){return e._highlightColor}};e._uniformMap=e._batchTable.getUniformMapCallback()(i)}function V(e,t,i,n,a,o,s){const r=e.constructor.BYTES_PER_ELEMENT,c=o.length;for(let d=0;d<c;++d){const c=o[d],l=s[c],h=n[l],u=a[l],_=new e.constructor(e.buffer,r*h,u);t.set(_,i),n[l]=i,i+=u}return i}function W(e,t){const i=e._indices,n=e._indexOffsets,o=e._indexCounts,s=e._batchIdLookUp,r=new i.constructor(i.length);let c=t.pop();const d=[c];let l=V(i,r,0,n,o,c.batchIds,s);c.offset=0,c.count=l;while(t.length>0){const e=t.pop();if(a["a"].equals(e.color,c.color))l=V(i,r,l,n,o,e.batchIds,s),c.batchIds=c.batchIds.concat(e.batchIds),c.count=l-c.offset;else{const t=l;l=V(i,r,l,n,o,e.batchIds,s),e.offset=t,e.count=l-t,d.push(e),c=e}}e._va.indexBuffer.copyFromArrayView(r),e._indices=r,e._batchedIndices=d}function G(e,t,i,n,a,o,s){const r=e.bytesPerIndex,c=o.length;for(let d=0;d<c;++d){const c=o[d],l=s[c],h=n[l],u=a[l];t.copyFromBuffer(e,h*r,i*r,u*r),n[l]=i,i+=u}return i}function z(e,t){const i=e._indexOffsets,n=e._indexCounts,o=e._batchIdLookUp;let s=t.pop();const r=[s],c=e._va.indexBuffer,d=e._vaSwap.indexBuffer;let l=G(c,d,0,i,n,s.batchIds,o);s.offset=0,s.count=l;while(t.length>0){const e=t.pop();if(a["a"].equals(e.color,s.color))l=G(c,d,l,i,n,e.batchIds,o),s.batchIds=s.batchIds.concat(e.batchIds),s.count=l-s.offset;else{const t=l;l=G(c,d,l,i,n,e.batchIds,o),e.offset=t,e.count=l-t,r.push(e),s=e}}const h=e._va;e._va=e._vaSwap,e._vaSwap=h,e._batchedIndices=r}function Y(e,t){return t.color.toRgba()-e.color.toRgba()}function q(e,t){if(!e._batchDirty)return!1;const i=e._batchedIndices,n=i.length;let a=!1;const o={};for(let s=0;s<n;++s){const e=i[s].color,t=e.toRgba();if(Object(r["a"])(o[t])){a=!0;break}o[t]=!0}return a?a&&!e.forceRebatch&&e._framesSinceLastRebatch<120?void++e._framesSinceLastRebatch:(i.sort(Y),t.webgl2?z(e,i):W(e,i),e._framesSinceLastRebatch=0,e._batchDirty=!1,e._pickCommandsDirty=!0,e._wireframeDirty=!0,!0):(e._batchDirty=!1,!1)}function Z(e,t){const i=q(e,t),n=e._commands,a=e._batchedIndices,o=a.length,c=2*o;if(Object(r["a"])(n)&&!i&&n.length===c)return;n.length=c;const d=e._va,h=e._sp,u=Object(s["a"])(e._modelMatrix,l["a"].IDENTITY),_=e._uniformMap,b=e._boundingVolume;for(let s=0;s<o;++s){const t=a[s].offset,i=a[s].count;let o=n[2*s];Object(r["a"])(o)||(o=n[2*s]=new f["a"]({owner:e})),o.vertexArray=d,o.modelMatrix=u,o.offset=t,o.count=i,o.renderState=e._rsStencilDepthPass,o.shaderProgram=h,o.uniformMap=_,o.boundingVolume=b,o.cull=!1,o.pass=p["a"].TERRAIN_CLASSIFICATION;const c=f["a"].shallowClone(o,o.derivedCommands.tileset);c.renderState=e._rsStencilDepthPass3DTiles,c.pass=p["a"].CESIUM_3D_TILE_CLASSIFICATION,o.derivedCommands.tileset=c;let l=n[2*s+1];Object(r["a"])(l)||(l=n[2*s+1]=new f["a"]({owner:e})),l.vertexArray=d,l.modelMatrix=u,l.offset=t,l.count=i,l.renderState=e._rsColorPass,l.shaderProgram=h,l.uniformMap=_,l.boundingVolume=b,l.cull=!1,l.pass=p["a"].TERRAIN_CLASSIFICATION;const m=f["a"].shallowClone(l,l.derivedCommands.tileset);m.pass=p["a"].CESIUM_3D_TILE_CLASSIFICATION,l.derivedCommands.tileset=m}e._commandsDirty=!0}function K(e,t){if(e.classificationType===C["a"].TERRAIN||!t.invertClassification||Object(r["a"])(e._commandsIgnoreShow)&&!e._commandsDirty)return;const i=e._commands,n=e._commandsIgnoreShow,a=e._spStencil,o=i.length,s=n.length=o/2;let c=0;for(let r=0;r<s;++r){const e=n[r]=f["a"].shallowClone(i[c],n[r]);e.shaderProgram=a,e.pass=p["a"].CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW,c+=2}e._commandsDirty=!1}function X(e){if(!e._pickCommandsDirty)return;const t=e._indexOffsets.length,i=e._pickCommands;i.length=2*t;const n=e._va,a=e._spStencil,o=e._spPick,c=Object(s["a"])(e._modelMatrix,l["a"].IDENTITY),d=e._uniformMap;for(let s=0;s<t;++s){const t=e._indexOffsets[s],l=e._indexCounts[s],h=Object(r["a"])(e._boundingVolumes)?e._boundingVolumes[s]:e.boundingVolume;let u=i[2*s];Object(r["a"])(u)||(u=i[2*s]=new f["a"]({owner:e,pickOnly:!0})),u.vertexArray=n,u.modelMatrix=c,u.offset=t,u.count=l,u.renderState=e._rsStencilDepthPass,u.shaderProgram=a,u.uniformMap=d,u.boundingVolume=h,u.pass=p["a"].TERRAIN_CLASSIFICATION;const _=f["a"].shallowClone(u,u.derivedCommands.tileset);_.renderState=e._rsStencilDepthPass3DTiles,_.pass=p["a"].CESIUM_3D_TILE_CLASSIFICATION,u.derivedCommands.tileset=_;let b=i[2*s+1];Object(r["a"])(b)||(b=i[2*s+1]=new f["a"]({owner:e,pickOnly:!0})),b.vertexArray=n,b.modelMatrix=c,b.offset=t,b.count=l,b.renderState=e._rsPickPass,b.shaderProgram=o,b.uniformMap=d,b.boundingVolume=h,b.pass=p["a"].TERRAIN_CLASSIFICATION;const m=f["a"].shallowClone(b,b.derivedCommands.tileset);m.pass=p["a"].CESIUM_3D_TILE_CLASSIFICATION,b.derivedCommands.tileset=m}e._pickCommandsDirty=!1}function J(e,t){e._updatingAllCommands=!0;const i=e._batchIds;let n,o=i.length;for(n=0;n<o;++n){const e=i[n],o=t[e];o.show=!0,o.color=a["a"].WHITE}const s=e._batchedIndices;for(o=s.length,n=0;n<o;++n)s[n].color=a["a"].clone(a["a"].WHITE);e._updatingAllCommands=!1,e._batchDirty=!0}E.prototype.createFeatures=function(e,t){const i=this._batchIds,n=i.length;for(let a=0;a<n;++a){const n=i[a];t[n]=new T["a"](e,n)}},E.prototype.applyDebugSettings=function(e,t){this._highlightColor=e?t:this._constantColor};const Q=new a["a"],$=a["a"].WHITE,ee=!0,te=/\$/;function ie(e,t,i,n){const a=e.classificationType,o=a!==C["a"].CESIUM_3D_TILE,s=a!==C["a"].TERRAIN,c=t.commandList;let d,l,h=i.length;for(l=0;l<h;++l)o&&(d=i[l],d.pass=p["a"].TERRAIN_CLASSIFICATION,c.push(d)),s&&(d=i[l].derivedCommands.tileset,d.pass=p["a"].CESIUM_3D_TILE_CLASSIFICATION,c.push(d));if(t.invertClassification&&Object(r["a"])(n))for(h=n.length,l=0;l<h;++l)c.push(n[l])}function ne(e,t){const i=e.commandList,n=t.length;for(let a=0;a<n;a+=2){const e=t[a+1];e.pass=p["a"].OPAQUE,i.push(e)}}function ae(e){let t,i,n=e.debugWireframe===e._debugWireframe;if(n=n&&!(e.debugWireframe&&e._wireframeDirty),n)return;Object(r["a"])(e._rsWireframe)||(e._rsWireframe=b["a"].fromCache({})),e.debugWireframe?(t=e._rsWireframe,i=h["a"].LINES):(t=e._rsColorPass,i=h["a"].TRIANGLES);const a=e._commands,o=a.length;for(let s=0;s<o;s+=2){const e=a[s+1];e.renderState=t,e.primitiveType=i}e._debugWireframe=e.debugWireframe,e._wireframeDirty=!1}E.prototype.applyStyle=function(e,t){if(!Object(r["a"])(e))return void J(this,t);const i=e.color,n=i instanceof S["a"]&&!te.test(i.expression);this._updatingAllCommands=n;const o=this._batchIds;let s,c=o.length;for(s=0;s<c;++s){const i=o[s],n=t[i];n.color=Object(r["a"])(e.color)?e.color.evaluateColor(n,Q):$,n.show=Object(r["a"])(e.show)?e.show.evaluate(n):ee}if(n){const e=this._batchedIndices;for(c=e.length,s=0;s<c;++s)e[s].color=a["a"].clone(a["a"].WHITE);this._updatingAllCommands=!1,this._batchDirty=!0}},E.prototype.updateCommands=function(e,t){if(this._updatingAllCommands)return;const i=this._batchIdLookUp,n=i[e];if(!Object(r["a"])(n))return;const o=this._indexOffsets,s=this._indexCounts,c=o[n],d=s[n],l=this._batchedIndices,h=l.length;let u;for(u=0;u<h;++u){const e=l[u].offset,t=l[u].count;if(c>=e&&c<e+t)break}l.push(new A["a"]({color:a["a"].clone(t),offset:c,count:d,batchIds:[e]}));const _=[],f=[],p=l[u].batchIds,b=p.length;for(let a=0;a<b;++a){const t=p[a];if(t===e)continue;const n=i[t];o[n]<c?_.push(t):f.push(t)}0!==f.length&&l.push(new A["a"]({color:a["a"].clone(l[u].color),offset:c+d,count:l[u].offset+l[u].count-(c+d),batchIds:f})),0!==_.length?(l[u].count=c-l[u].offset,l[u].batchIds=_):l.splice(u,1),this._batchDirty=!0},E.prototype.update=function(e){const t=e.context;D(this,t),N(this,t),R(this),U(this,t);const i=e.passes;i.render&&(Z(this,t),K(this,e),ae(this),this._debugWireframe?ne(e,this._commands):ie(this,e,this._commands,this._commandsIgnoreShow)),i.pick&&(X(this),ie(this,e,this._pickCommands))},E.prototype.isDestroyed=function(){return!1},E.prototype.destroy=function(){return this._va=this._va&&this._va.destroy(),this._sp=this._sp&&this._sp.destroy(),this._spPick=this._spPick&&this._spPick.destroy(),this._vaSwap=this._vaSwap&&this._vaSwap.destroy(),Object(c["a"])(this)},t["a"]=E},c9db:function(e,t,i){"use strict";const n={CENTER:0,BOTTOM:1,BASELINE:2,TOP:-1};t["a"]=Object.freeze(n)},e7ea:function(e,t,i){"use strict";var n=i("408d"),a=i("dde0"),o=i("4051"),s=i("cbf0"),r=i("1a5d"),c=i("61ad"),d=i("c937"),l=i("21b7"),h=i("e107"),u=i("8e1f"),_=i("2642"),f=i("722e"),p=i("4a63"),b=i("86a0"),m=i("6f54"),g=i("6ba7"),y=i("d5cf"),O=i("51f2"),v=i("5027"),I=i("8f7d"),T=i("b3ce"),C=i("dc15"),w=i("d3ce"),S=i("fcaa"),x=i("da23"),P=i("0b24");function j(e){this._positions=e.positions,this._widths=e.widths,this._counts=e.counts,this._batchIds=e.batchIds,this._ellipsoid=Object(r["a"])(e.ellipsoid,h["a"].WGS84),this._minimumHeight=e.minimumHeight,this._maximumHeight=e.maximumHeight,this._center=e.center,this._rectangle=e.rectangle,this._boundingVolume=e.boundingVolume,this._batchTable=e.batchTable,this._va=void 0,this._sp=void 0,this._rs=void 0,this._uniformMap=void 0,this._command=void 0,this._transferrableBatchIds=void 0,this._packedBuffer=void 0,this._keepDecodedPositions=e.keepDecodedPositions,this._decodedPositions=void 0,this._decodedPositionOffsets=void 0,this._currentPositions=void 0,this._previousPositions=void 0,this._nextPositions=void 0,this._expandAndWidth=void 0,this._vertexBatchIds=void 0,this._indices=void 0,this._constantColor=o["a"].clone(o["a"].WHITE),this._highlightColor=this._constantColor,this._trianglesLength=0,this._geometryByteLength=0,this._ready=!1,this._readyPromise=Object(c["a"])(),this._verticesPromise=void 0}function A(e){const t=e._rectangle,i=e._minimumHeight,n=e._maximumHeight,o=e._ellipsoid,s=e._center,r=2+p["a"].packedLength+h["a"].packedLength+a["a"].packedLength,c=new Float64Array(r);let d=0;return c[d++]=i,c[d++]=n,p["a"].pack(t,c,d),d+=p["a"].packedLength,h["a"].pack(o,c,d),d+=h["a"].packedLength,a["a"].pack(s,c,d),c}Object.defineProperties(j.prototype,{trianglesLength:{get:function(){return this._trianglesLength}},geometryByteLength:{get:function(){return this._geometryByteLength}},readyPromise:{get:function(){return this._readyPromise.promise}}});const E=new b["a"]("createVectorTilePolylines",5),L={previousPosition:0,currentPosition:1,nextPosition:2,expandAndWidth:3,a_batchId:4};function D(e,t){if(!Object(d["a"])(e._va)){if(!Object(d["a"])(e._verticesPromise)){let t=e._positions,i=e._widths,a=e._counts,o=e._transferrableBatchIds,s=e._packedBuffer;Object(d["a"])(s)||(t=e._positions=Object(n["a"])(t),i=e._widths=Object(n["a"])(i),a=e._counts=Object(n["a"])(a),o=e._transferrableBatchIds=Object(n["a"])(e._batchIds),s=e._packedBuffer=A(e));const r=[t.buffer,i.buffer,a.buffer,o.buffer,s.buffer],c={positions:t.buffer,widths:i.buffer,counts:a.buffer,batchIds:o.buffer,packedBuffer:s.buffer,keepDecodedPositions:e._keepDecodedPositions},l=e._verticesPromise=E.scheduleTask(c,r);if(!Object(d["a"])(l))return;l.then((function(t){e._keepDecodedPositions&&(e._decodedPositions=new Float64Array(t.decodedPositions),e._decodedPositionOffsets=new Uint32Array(t.decodedPositionOffsets)),e._currentPositions=new Float32Array(t.currentPositions),e._previousPositions=new Float32Array(t.previousPositions),e._nextPositions=new Float32Array(t.nextPositions),e._expandAndWidth=new Float32Array(t.expandAndWidth),e._vertexBatchIds=new Uint16Array(t.batchIds);const i=t.indexDatatype;e._indices=i===_["a"].UNSIGNED_SHORT?new Uint16Array(t.indices):new Uint32Array(t.indices),e._ready=!0})).catch((function(t){e._readyPromise.reject(t)}))}if(e._ready&&!Object(d["a"])(e._va)){const i=e._currentPositions,n=e._previousPositions,a=e._nextPositions,o=e._expandAndWidth,r=e._vertexBatchIds,c=e._indices;let d=n.byteLength+i.byteLength+a.byteLength;d+=o.byteLength+r.byteLength+c.byteLength,e._trianglesLength=c.length/3,e._geometryByteLength=d;const l=m["a"].createVertexBuffer({context:t,typedArray:n,usage:g["a"].STATIC_DRAW}),h=m["a"].createVertexBuffer({context:t,typedArray:i,usage:g["a"].STATIC_DRAW}),u=m["a"].createVertexBuffer({context:t,typedArray:a,usage:g["a"].STATIC_DRAW}),f=m["a"].createVertexBuffer({context:t,typedArray:o,usage:g["a"].STATIC_DRAW}),p=m["a"].createVertexBuffer({context:t,typedArray:r,usage:g["a"].STATIC_DRAW}),b=m["a"].createIndexBuffer({context:t,typedArray:c,usage:g["a"].STATIC_DRAW,indexDatatype:2===c.BYTES_PER_ELEMENT?_["a"].UNSIGNED_SHORT:_["a"].UNSIGNED_INT}),y=[{index:L.previousPosition,vertexBuffer:l,componentDatatype:s["a"].FLOAT,componentsPerAttribute:3},{index:L.currentPosition,vertexBuffer:h,componentDatatype:s["a"].FLOAT,componentsPerAttribute:3},{index:L.nextPosition,vertexBuffer:u,componentDatatype:s["a"].FLOAT,componentsPerAttribute:3},{index:L.expandAndWidth,vertexBuffer:f,componentDatatype:s["a"].FLOAT,componentsPerAttribute:2},{index:L.a_batchId,vertexBuffer:p,componentDatatype:s["a"].UNSIGNED_SHORT,componentsPerAttribute:1}];e._va=new C["a"]({context:t,attributes:y,indexBuffer:b}),e._positions=void 0,e._widths=void 0,e._counts=void 0,e._ellipsoid=void 0,e._minimumHeight=void 0,e._maximumHeight=void 0,e._rectangle=void 0,e._transferrableBatchIds=void 0,e._packedBuffer=void 0,e._currentPositions=void 0,e._previousPositions=void 0,e._nextPositions=void 0,e._expandAndWidth=void 0,e._vertexBatchIds=void 0,e._indices=void 0,e._readyPromise.resolve()}}}const N=new f["a"],B=new a["a"];function k(e,t){Object(d["a"])(e._uniformMap)||(e._uniformMap={u_modifiedModelView:function(){const i=t.uniformState.view;return f["a"].clone(i,N),f["a"].multiplyByPoint(N,e._center,B),f["a"].setTranslation(N,B,N),N},u_highlightColor:function(){return e._highlightColor}})}function F(e){if(Object(d["a"])(e._rs))return;const t={enabled:!0,factor:-5,units:-5};e._rs=v["a"].fromCache({blending:x["a"].ALPHA_BLEND,depthMask:!1,depthTest:{enabled:!0},polygonOffset:t})}const R="uniform vec4 u_highlightColor; \nvoid main()\n{\n    gl_FragColor = u_highlightColor;\n}\n";function H(e,t){if(Object(d["a"])(e._sp))return;const i=e._batchTable,n=i.getVertexShaderCallback(!1,"a_batchId",void 0)(S["a"]),a=i.getFragmentShaderCallback(!1,void 0,!1)(R),o=new T["a"]({defines:["VECTOR_TILE",u["a"].isInternetExplorer()?"":"CLIP_POLYLINE"],sources:[w["a"],n]}),s=new T["a"]({defines:["VECTOR_TILE"],sources:[a]});e._sp=I["a"].fromCache({context:t,vertexShaderSource:o,fragmentShaderSource:s,attributeLocations:L})}function M(e,t){if(!Object(d["a"])(e._command)){const t=e._batchTable.getUniformMapCallback()(e._uniformMap);e._command=new y["a"]({owner:e,vertexArray:e._va,renderState:e._rs,shaderProgram:e._sp,uniformMap:t,boundingVolume:e._boundingVolume,pass:O["a"].TRANSLUCENT,pickId:e._batchTable.getPickId()})}t.commandList.push(e._command)}function U(e,t){const i=e._batchIds,n=i.length;for(let a=0;a<n;++a){const e=i[a],n=t[e];n.show=!0,n.color=o["a"].WHITE}}j.getPolylinePositions=function(e,t){const i=e._batchIds,n=e._decodedPositions,a=e._decodedPositionOffsets;if(!Object(d["a"])(i)||!Object(d["a"])(n))return;let o,s;const r=i.length;let c=0,l=0;for(o=0;o<r;++o)i[o]===t&&(c+=a[o+1]-a[o]);if(0===c)return;const h=new Float64Array(3*c);for(o=0;o<r;++o)if(i[o]===t){const e=a[o],t=a[o+1]-e;for(s=0;s<t;++s){const t=3*(e+s);h[l++]=n[t],h[l++]=n[t+1],h[l++]=n[t+2]}}return h},j.prototype.getPositions=function(e){return j.getPolylinePositions(this,e)},j.prototype.createFeatures=function(e,t){const i=this._batchIds,n=i.length;for(let a=0;a<n;++a){const n=i[a];t[n]=new P["a"](e,n)}},j.prototype.applyDebugSettings=function(e,t){this._highlightColor=e?t:this._constantColor};const V=new o["a"],W=o["a"].WHITE,G=!0;j.prototype.applyStyle=function(e,t){if(!Object(d["a"])(e))return void U(this,t);const i=this._batchIds,n=i.length;for(let a=0;a<n;++a){const n=i[a],o=t[n];o.color=Object(d["a"])(e.color)?e.color.evaluateColor(o,V):W,o.show=Object(d["a"])(e.show)?e.show.evaluate(o):G}},j.prototype.update=function(e){const t=e.context;if(D(this,t),k(this,t),H(this,t),F(this),!this._ready)return;const i=e.passes;(i.render||i.pick)&&M(this,e)},j.prototype.isDestroyed=function(){return!1},j.prototype.destroy=function(){return this._va=this._va&&this._va.destroy(),this._sp=this._sp&&this._sp.destroy(),Object(l["a"])(this)},t["a"]=j},ef44:function(e,t,i){"use strict";var n=i("44e9"),a=i("1a5d"),o=i("c937"),s=i("e2a6"),r=i("7e67"),c=i("4b7f"),d=i("865c"),l=i("97c9");function h(e,t,i,a,o,s,r,c,d,l){this._tweens=e,this._tweenjs=t,this._startObject=Object(n["a"])(i),this._stopObject=Object(n["a"])(a),this._duration=o,this._delay=s,this._easingFunction=r,this._update=c,this._complete=d,this.cancel=l,this.needsStart=!0}function u(){this._tweens=[]}Object.defineProperties(h.prototype,{startObject:{get:function(){return this._startObject}},stopObject:{get:function(){return this._stopObject}},duration:{get:function(){return this._duration}},delay:{get:function(){return this._delay}},easingFunction:{get:function(){return this._easingFunction}},update:{get:function(){return this._update}},complete:{get:function(){return this._complete}},tweenjs:{get:function(){return this._tweenjs}}}),h.prototype.cancelTween=function(){this._tweens.remove(this)},Object.defineProperties(u.prototype,{length:{get:function(){return this._tweens.length}}}),u.prototype.add=function(e){if(e=Object(a["a"])(e,a["a"].EMPTY_OBJECT),!Object(o["a"])(e.startObject)||!Object(o["a"])(e.stopObject))throw new s["a"]("options.startObject and options.stopObject are required.");if(!Object(o["a"])(e.duration)||e.duration<0)throw new s["a"]("options.duration is required and must be positive.");if(0===e.duration)return Object(o["a"])(e.complete)&&e.complete(),new h(this);const t=e.duration/d["a"].SECONDS_PER_MILLISECOND,i=Object(a["a"])(e.delay,0),c=i/d["a"].SECONDS_PER_MILLISECOND,u=Object(a["a"])(e.easingFunction,r["a"].LINEAR_NONE),_=e.startObject,f=new l["a"].Tween(_);f.to(Object(n["a"])(e.stopObject),t),f.delay(c),f.easing(u),Object(o["a"])(e.update)&&f.onUpdate((function(){e.update(_)})),f.onComplete(Object(a["a"])(e.complete,null)),f.repeat(Object(a["a"])(e._repeat,0));const p=new h(this,f,e.startObject,e.stopObject,e.duration,i,u,e.update,e.complete,e.cancel);return this._tweens.push(p),p},u.prototype.addProperty=function(e){e=Object(a["a"])(e,a["a"].EMPTY_OBJECT);const t=e.object,i=e.property,n=e.startValue,r=e.stopValue;if(!Object(o["a"])(t)||!Object(o["a"])(e.property))throw new s["a"]("options.object and options.property are required.");if(!Object(o["a"])(t[i]))throw new s["a"]("options.object must have the specified property.");if(!Object(o["a"])(n)||!Object(o["a"])(r))throw new s["a"]("options.startValue and options.stopValue are required.");function c(e){t[i]=e.value}return this.add({startObject:{value:n},stopObject:{value:r},duration:Object(a["a"])(e.duration,3),delay:e.delay,easingFunction:e.easingFunction,update:c,complete:e.complete,cancel:e.cancel,_repeat:e._repeat})},u.prototype.addAlpha=function(e){e=Object(a["a"])(e,a["a"].EMPTY_OBJECT);const t=e.material;if(!Object(o["a"])(t))throw new s["a"]("options.material is required.");const i=[];for(const a in t.uniforms)t.uniforms.hasOwnProperty(a)&&Object(o["a"])(t.uniforms[a])&&Object(o["a"])(t.uniforms[a].alpha)&&i.push(a);if(0===i.length)throw new s["a"]("material has no properties with alpha components.");function n(e){const n=i.length;for(let a=0;a<n;++a)t.uniforms[i[a]].alpha=e.alpha}return this.add({startObject:{alpha:Object(a["a"])(e.startValue,0)},stopObject:{alpha:Object(a["a"])(e.stopValue,1)},duration:Object(a["a"])(e.duration,3),delay:e.delay,easingFunction:e.easingFunction,update:n,complete:e.complete,cancel:e.cancel})},u.prototype.addOffsetIncrement=function(e){e=Object(a["a"])(e,a["a"].EMPTY_OBJECT);const t=e.material;if(!Object(o["a"])(t))throw new s["a"]("material is required.");if(!Object(o["a"])(t.uniforms.offset))throw new s["a"]("material.uniforms must have an offset property.");const i=t.uniforms;return this.addProperty({object:i,property:"offset",startValue:i.offset,stopValue:i.offset+1,duration:e.duration,delay:e.delay,easingFunction:e.easingFunction,update:e.update,cancel:e.cancel,_repeat:1/0})},u.prototype.remove=function(e){if(!Object(o["a"])(e))return!1;const t=this._tweens.indexOf(e);return-1!==t&&(e.tweenjs.stop(),Object(o["a"])(e.cancel)&&e.cancel(),this._tweens.splice(t,1),!0)},u.prototype.removeAll=function(){const e=this._tweens;for(let t=0;t<e.length;++t){const i=e[t];i.tweenjs.stop(),Object(o["a"])(i.cancel)&&i.cancel()}e.length=0},u.prototype.contains=function(e){return Object(o["a"])(e)&&-1!==this._tweens.indexOf(e)},u.prototype.get=function(e){if(!Object(o["a"])(e))throw new s["a"]("index is required.");return this._tweens[e]},u.prototype.update=function(e){const t=this._tweens;let i=0;e=Object(o["a"])(e)?e/d["a"].SECONDS_PER_MILLISECOND:Object(c["a"])();while(i<t.length){const n=t[i],a=n.tweenjs;n.needsStart?(n.needsStart=!1,a.start(e)):a.update(e)?i++:(a.stop(),t.splice(i,1))}},t["a"]=u}}]);