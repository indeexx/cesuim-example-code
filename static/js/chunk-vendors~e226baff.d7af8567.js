(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~e226baff"],{"7aa8":function(t,e,i){"use strict";var n=i("6af0"),a=i("85b2"),o=i("dde0"),s=i("4051"),l=i("1a5d"),c=i("c937"),r=i("e2a6"),h=i("aecc"),d=i("d05a"),u=i("bbc8"),b=i("3522"),_=i("2a50"),f=i("be66"),g=i("2498"),p=i("c9db");const y={};let O=0;const T=256,w=new s["a"](.165,.165,.165,.8),D=new a["a"](7,5),x=Object.freeze({LTR:0,RTL:1,WEAK:2,BRACKETS:3});function j(t){t._rebindAllGlyphs||t._repositionAllGlyphs||t._labelCollection._labelsToUpdate.push(t),t._rebindAllGlyphs=!0}function B(t){t._rebindAllGlyphs||t._repositionAllGlyphs||t._labelCollection._labelsToUpdate.push(t),t._repositionAllGlyphs=!0}function C(t,e){return document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function m(t){let e=y[t._font];if(!Object(c["a"])(e)){const i=document.createElement("div");i.style.position="absolute",i.style.opacity=0,i.style.font=t._font,document.body.appendChild(i);let n=parseFloat(C(i,"line-height"));isNaN(n)&&(n=void 0),e={family:C(i,"font-family"),size:C(i,"font-size").replace("px",""),style:C(i,"font-style"),weight:C(i,"font-weight"),lineHeight:n},document.body.removeChild(i),O<T&&(y[t._font]=e,O++)}t._fontFamily=e.family,t._fontSize=e.size,t._fontStyle=e.style,t._fontWeight=e.weight,t._lineHeight=e.lineHeight}function v(t,e){if(t=Object(l["a"])(t,l["a"].EMPTY_OBJECT),Object(c["a"])(t.disableDepthTestDistance)&&t.disableDepthTestDistance<0)throw new r["a"]("disableDepthTestDistance must be greater than 0.0.");let i=t.translucencyByDistance,n=t.pixelOffsetScaleByDistance,u=t.scaleByDistance,g=t.distanceDisplayCondition;if(Object(c["a"])(i)){if(i.far<=i.near)throw new r["a"]("translucencyByDistance.far must be greater than translucencyByDistance.near.");i=d["a"].clone(i)}if(Object(c["a"])(n)){if(n.far<=n.near)throw new r["a"]("pixelOffsetScaleByDistance.far must be greater than pixelOffsetScaleByDistance.near.");n=d["a"].clone(n)}if(Object(c["a"])(u)){if(u.far<=u.near)throw new r["a"]("scaleByDistance.far must be greater than scaleByDistance.near.");u=d["a"].clone(u)}if(Object(c["a"])(g)){if(g.far<=g.near)throw new r["a"]("distanceDisplayCondition.far must be greater than distanceDisplayCondition.near.");g=h["a"].clone(g)}this._renderedText=void 0,this._text=void 0,this._show=Object(l["a"])(t.show,!0),this._font=Object(l["a"])(t.font,"30px sans-serif"),this._fillColor=s["a"].clone(Object(l["a"])(t.fillColor,s["a"].WHITE)),this._outlineColor=s["a"].clone(Object(l["a"])(t.outlineColor,s["a"].BLACK)),this._outlineWidth=Object(l["a"])(t.outlineWidth,1),this._showBackground=Object(l["a"])(t.showBackground,!1),this._backgroundColor=s["a"].clone(Object(l["a"])(t.backgroundColor,w)),this._backgroundPadding=a["a"].clone(Object(l["a"])(t.backgroundPadding,D)),this._style=Object(l["a"])(t.style,f["a"].FILL),this._verticalOrigin=Object(l["a"])(t.verticalOrigin,p["a"].BASELINE),this._horizontalOrigin=Object(l["a"])(t.horizontalOrigin,_["a"].LEFT),this._pixelOffset=a["a"].clone(Object(l["a"])(t.pixelOffset,a["a"].ZERO)),this._eyeOffset=o["a"].clone(Object(l["a"])(t.eyeOffset,o["a"].ZERO)),this._position=o["a"].clone(Object(l["a"])(t.position,o["a"].ZERO)),this._scale=Object(l["a"])(t.scale,1),this._id=t.id,this._translucencyByDistance=i,this._pixelOffsetScaleByDistance=n,this._scaleByDistance=u,this._heightReference=Object(l["a"])(t.heightReference,b["a"].NONE),this._distanceDisplayCondition=g,this._disableDepthTestDistance=t.disableDepthTestDistance,this._labelCollection=e,this._glyphs=[],this._backgroundBillboard=void 0,this._batchIndex=void 0,this._rebindAllGlyphs=!0,this._repositionAllGlyphs=!0,this._actualClampedPosition=void 0,this._removeCallbackFunc=void 0,this._mode=void 0,this._clusterShow=!0,this.text=Object(l["a"])(t.text,""),this._relativeSize=1,m(this),this._updateClamping()}function k(t,e){const i=/[a-zA-Z0-9]/,n=/[()[\]{}<>]/,a=[];let o="",s=x.LTR,l="";const c=t.length;for(let r=0;r<c;++r){const c=t.charAt(r);l=e.test(c)?x.RTL:i.test(c)?x.LTR:n.test(c)?x.BRACKETS:x.WEAK,0===r&&(s=l),s===l&&l!==x.BRACKETS?o+=c:(""!==o&&a.push({Type:s,Word:o}),s=l,o=c)}return a.push({Type:l,Word:o}),a}function S(t){return t.split("").reverse().join("")}function A(t,e,i){return t.slice(0,e)+i+t.slice(e)}function E(t){switch(t){case"(":return")";case")":return"(";case"[":return"]";case"]":return"[";case"{":return"}";case"}":return"{";case"<":return">";case">":return"<"}}Object.defineProperties(v.prototype,{show:{get:function(){return this._show},set:function(t){if(!Object(c["a"])(t))throw new r["a"]("value is required.");if(this._show!==t){this._show=t;const e=this._glyphs;for(let n=0,a=e.length;n<a;n++){const i=e[n].billboard;Object(c["a"])(i)&&(i.show=t)}const i=this._backgroundBillboard;Object(c["a"])(i)&&(i.show=t)}}},position:{get:function(){return this._position},set:function(t){if(!Object(c["a"])(t))throw new r["a"]("value is required.");const e=this._position;if(!o["a"].equals(e,t)){o["a"].clone(t,e);const i=this._glyphs;for(let e=0,a=i.length;e<a;e++){const n=i[e].billboard;Object(c["a"])(n)&&(n.position=t)}const n=this._backgroundBillboard;Object(c["a"])(n)&&(n.position=t),this._updateClamping()}}},heightReference:{get:function(){return this._heightReference},set:function(t){if(!Object(c["a"])(t))throw new r["a"]("value is required.");if(t!==this._heightReference){this._heightReference=t;const e=this._glyphs;for(let n=0,a=e.length;n<a;n++){const i=e[n].billboard;Object(c["a"])(i)&&(i.heightReference=t)}const i=this._backgroundBillboard;Object(c["a"])(i)&&(i.heightReference=t),B(this),this._updateClamping()}}},text:{get:function(){return this._text},set:function(t){if(!Object(c["a"])(t))throw new r["a"]("value is required.");if(this._text!==t){this._text=t;const e=t.replace(/\u00ad/g,"");this._renderedText=v.enableRightToLeftDetection?L(e):e,j(this)}}},font:{get:function(){return this._font},set:function(t){if(!Object(c["a"])(t))throw new r["a"]("value is required.");this._font!==t&&(this._font=t,j(this),m(this))}},fillColor:{get:function(){return this._fillColor},set:function(t){if(!Object(c["a"])(t))throw new r["a"]("value is required.");const e=this._fillColor;s["a"].equals(e,t)||(s["a"].clone(t,e),j(this))}},outlineColor:{get:function(){return this._outlineColor},set:function(t){if(!Object(c["a"])(t))throw new r["a"]("value is required.");const e=this._outlineColor;s["a"].equals(e,t)||(s["a"].clone(t,e),j(this))}},outlineWidth:{get:function(){return this._outlineWidth},set:function(t){if(!Object(c["a"])(t))throw new r["a"]("value is required.");this._outlineWidth!==t&&(this._outlineWidth=t,j(this))}},showBackground:{get:function(){return this._showBackground},set:function(t){if(!Object(c["a"])(t))throw new r["a"]("value is required.");this._showBackground!==t&&(this._showBackground=t,j(this))}},backgroundColor:{get:function(){return this._backgroundColor},set:function(t){if(!Object(c["a"])(t))throw new r["a"]("value is required.");const e=this._backgroundColor;if(!s["a"].equals(e,t)){s["a"].clone(t,e);const i=this._backgroundBillboard;Object(c["a"])(i)&&(i.color=e)}}},backgroundPadding:{get:function(){return this._backgroundPadding},set:function(t){if(!Object(c["a"])(t))throw new r["a"]("value is required.");const e=this._backgroundPadding;a["a"].equals(e,t)||(a["a"].clone(t,e),B(this))}},style:{get:function(){return this._style},set:function(t){if(!Object(c["a"])(t))throw new r["a"]("value is required.");this._style!==t&&(this._style=t,j(this))}},pixelOffset:{get:function(){return this._pixelOffset},set:function(t){if(!Object(c["a"])(t))throw new r["a"]("value is required.");const e=this._pixelOffset;if(!a["a"].equals(e,t)){a["a"].clone(t,e);const i=this._glyphs;for(let e=0,a=i.length;e<a;e++){const n=i[e];Object(c["a"])(n.billboard)&&(n.billboard.pixelOffset=t)}const n=this._backgroundBillboard;Object(c["a"])(n)&&(n.pixelOffset=t)}}},translucencyByDistance:{get:function(){return this._translucencyByDistance},set:function(t){if(Object(c["a"])(t)&&t.far<=t.near)throw new r["a"]("far distance must be greater than near distance.");const e=this._translucencyByDistance;if(!d["a"].equals(e,t)){this._translucencyByDistance=d["a"].clone(t,e);const i=this._glyphs;for(let e=0,a=i.length;e<a;e++){const n=i[e];Object(c["a"])(n.billboard)&&(n.billboard.translucencyByDistance=t)}const n=this._backgroundBillboard;Object(c["a"])(n)&&(n.translucencyByDistance=t)}}},pixelOffsetScaleByDistance:{get:function(){return this._pixelOffsetScaleByDistance},set:function(t){if(Object(c["a"])(t)&&t.far<=t.near)throw new r["a"]("far distance must be greater than near distance.");const e=this._pixelOffsetScaleByDistance;if(!d["a"].equals(e,t)){this._pixelOffsetScaleByDistance=d["a"].clone(t,e);const i=this._glyphs;for(let e=0,a=i.length;e<a;e++){const n=i[e];Object(c["a"])(n.billboard)&&(n.billboard.pixelOffsetScaleByDistance=t)}const n=this._backgroundBillboard;Object(c["a"])(n)&&(n.pixelOffsetScaleByDistance=t)}}},scaleByDistance:{get:function(){return this._scaleByDistance},set:function(t){if(Object(c["a"])(t)&&t.far<=t.near)throw new r["a"]("far distance must be greater than near distance.");const e=this._scaleByDistance;if(!d["a"].equals(e,t)){this._scaleByDistance=d["a"].clone(t,e);const i=this._glyphs;for(let e=0,a=i.length;e<a;e++){const n=i[e];Object(c["a"])(n.billboard)&&(n.billboard.scaleByDistance=t)}const n=this._backgroundBillboard;Object(c["a"])(n)&&(n.scaleByDistance=t)}}},eyeOffset:{get:function(){return this._eyeOffset},set:function(t){if(!Object(c["a"])(t))throw new r["a"]("value is required.");const e=this._eyeOffset;if(!o["a"].equals(e,t)){o["a"].clone(t,e);const i=this._glyphs;for(let e=0,a=i.length;e<a;e++){const n=i[e];Object(c["a"])(n.billboard)&&(n.billboard.eyeOffset=t)}const n=this._backgroundBillboard;Object(c["a"])(n)&&(n.eyeOffset=t)}}},horizontalOrigin:{get:function(){return this._horizontalOrigin},set:function(t){if(!Object(c["a"])(t))throw new r["a"]("value is required.");this._horizontalOrigin!==t&&(this._horizontalOrigin=t,B(this))}},verticalOrigin:{get:function(){return this._verticalOrigin},set:function(t){if(!Object(c["a"])(t))throw new r["a"]("value is required.");if(this._verticalOrigin!==t){this._verticalOrigin=t;const e=this._glyphs;for(let n=0,a=e.length;n<a;n++){const i=e[n];Object(c["a"])(i.billboard)&&(i.billboard.verticalOrigin=t)}const i=this._backgroundBillboard;Object(c["a"])(i)&&(i.verticalOrigin=t),B(this)}}},scale:{get:function(){return this._scale},set:function(t){if(!Object(c["a"])(t))throw new r["a"]("value is required.");if(this._scale!==t){this._scale=t;const e=this._glyphs;for(let n=0,a=e.length;n<a;n++){const i=e[n];Object(c["a"])(i.billboard)&&(i.billboard.scale=t*this._relativeSize)}const i=this._backgroundBillboard;Object(c["a"])(i)&&(i.scale=t*this._relativeSize),B(this)}}},totalScale:{get:function(){return this._scale*this._relativeSize}},distanceDisplayCondition:{get:function(){return this._distanceDisplayCondition},set:function(t){if(Object(c["a"])(t)&&t.far<=t.near)throw new r["a"]("far must be greater than near");if(!h["a"].equals(t,this._distanceDisplayCondition)){this._distanceDisplayCondition=h["a"].clone(t,this._distanceDisplayCondition);const e=this._glyphs;for(let n=0,a=e.length;n<a;n++){const i=e[n];Object(c["a"])(i.billboard)&&(i.billboard.distanceDisplayCondition=t)}const i=this._backgroundBillboard;Object(c["a"])(i)&&(i.distanceDisplayCondition=t)}}},disableDepthTestDistance:{get:function(){return this._disableDepthTestDistance},set:function(t){if(this._disableDepthTestDistance!==t){if(Object(c["a"])(t)&&t<0)throw new r["a"]("disableDepthTestDistance must be greater than 0.0.");this._disableDepthTestDistance=t;const e=this._glyphs;for(let n=0,a=e.length;n<a;n++){const i=e[n];Object(c["a"])(i.billboard)&&(i.billboard.disableDepthTestDistance=t)}const i=this._backgroundBillboard;Object(c["a"])(i)&&(i.disableDepthTestDistance=t)}}},id:{get:function(){return this._id},set:function(t){if(this._id!==t){this._id=t;const e=this._glyphs;for(let n=0,a=e.length;n<a;n++){const i=e[n];Object(c["a"])(i.billboard)&&(i.billboard.id=t)}const i=this._backgroundBillboard;Object(c["a"])(i)&&(i.id=t)}}},pickId:{get:function(){if(0!==this._glyphs.length&&Object(c["a"])(this._glyphs[0].billboard))return this._glyphs[0].billboard.pickId}},_clampedPosition:{get:function(){return this._actualClampedPosition},set:function(t){this._actualClampedPosition=o["a"].clone(t,this._actualClampedPosition);const e=this._glyphs;for(let n=0,a=e.length;n<a;n++){const i=e[n];Object(c["a"])(i.billboard)&&(i.billboard._clampedPosition=t)}const i=this._backgroundBillboard;Object(c["a"])(i)&&(i._clampedPosition=t)}},clusterShow:{get:function(){return this._clusterShow},set:function(t){if(this._clusterShow!==t){this._clusterShow=t;const e=this._glyphs;for(let n=0,a=e.length;n<a;n++){const i=e[n];Object(c["a"])(i.billboard)&&(i.billboard.clusterShow=t)}const i=this._backgroundBillboard;Object(c["a"])(i)&&(i.clusterShow=t)}}}}),v.prototype._updateClamping=function(){u["a"]._updateClamping(this._labelCollection,this)},v.prototype.computeScreenSpacePosition=function(t,e){if(!Object(c["a"])(t))throw new r["a"]("scene is required.");Object(c["a"])(e)||(e=new a["a"]);const i=this._labelCollection,n=i.modelMatrix,o=Object(c["a"])(this._actualClampedPosition)?this._actualClampedPosition:this._position,s=u["a"]._computeScreenSpacePosition(n,o,this._eyeOffset,this._pixelOffset,t,e);return s},v.getScreenSpaceBoundingBox=function(t,e,i){let a=0,o=0,s=0,l=0;const r=t.totalScale,h=t._backgroundBillboard;if(Object(c["a"])(h))a=e.x+h._translate.x,o=e.y-h._translate.y,s=h.width*r,l=h.height*r,t.verticalOrigin===p["a"].BOTTOM||t.verticalOrigin===p["a"].BASELINE?o-=l:t.verticalOrigin===p["a"].CENTER&&(o-=.5*l);else{a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;let i=0,n=0;const h=t._glyphs,d=h.length;for(let s=0;s<d;++s){const l=h[s],d=l.billboard;if(!Object(c["a"])(d))continue;const u=e.x+d._translate.x;let b=e.y-d._translate.y;const _=l.dimensions.width*r,f=l.dimensions.height*r;t.verticalOrigin===p["a"].BOTTOM||t.verticalOrigin===p["a"].BASELINE?b-=f:t.verticalOrigin===p["a"].CENTER&&(b-=.5*f),t._verticalOrigin===p["a"].TOP?b+=g["a"].PADDING*r:t._verticalOrigin!==p["a"].BOTTOM&&t._verticalOrigin!==p["a"].BASELINE||(b-=g["a"].PADDING*r),a=Math.min(a,u),o=Math.min(o,b),i=Math.max(i,u+_),n=Math.max(n,b+f)}s=i-a,l=n-o}return Object(c["a"])(i)||(i=new n["a"]),i.x=a,i.y=o,i.width=s,i.height=l,i},v.prototype.equals=function(t){return this===t||Object(c["a"])(t)&&this._show===t._show&&this._scale===t._scale&&this._outlineWidth===t._outlineWidth&&this._showBackground===t._showBackground&&this._style===t._style&&this._verticalOrigin===t._verticalOrigin&&this._horizontalOrigin===t._horizontalOrigin&&this._heightReference===t._heightReference&&this._renderedText===t._renderedText&&this._font===t._font&&o["a"].equals(this._position,t._position)&&s["a"].equals(this._fillColor,t._fillColor)&&s["a"].equals(this._outlineColor,t._outlineColor)&&s["a"].equals(this._backgroundColor,t._backgroundColor)&&a["a"].equals(this._backgroundPadding,t._backgroundPadding)&&a["a"].equals(this._pixelOffset,t._pixelOffset)&&o["a"].equals(this._eyeOffset,t._eyeOffset)&&d["a"].equals(this._translucencyByDistance,t._translucencyByDistance)&&d["a"].equals(this._pixelOffsetScaleByDistance,t._pixelOffsetScaleByDistance)&&d["a"].equals(this._scaleByDistance,t._scaleByDistance)&&h["a"].equals(this._distanceDisplayCondition,t._distanceDisplayCondition)&&this._disableDepthTestDistance===t._disableDepthTestDistance&&this._id===t._id},v.prototype.isDestroyed=function(){return!1},v.enableRightToLeftDetection=!1;const I="א-ת",R="؀-ۿݐ-ݿࢠ-ࣿ",N=new RegExp(`[${I}${R}]`);function L(t){const e=t.split("\n");let i="";for(let n=0;n<e.length;n++){const t=e[n],a=N.test(t.charAt(0)),o=k(t,N);let s=0,l="";for(let e=0;e<o.length;++e){const t=o[e],i=t.Type===x.BRACKETS?E(t.Word):S(t.Word);a?t.Type===x.RTL?(l=i+l,s=0):t.Type===x.LTR?(l=A(l,s,t.Word),s+=t.Word.length):t.Type!==x.WEAK&&t.Type!==x.BRACKETS||(t.Type===x.WEAK&&o[e-1].Type===x.BRACKETS?l=i+l:o[e-1].Type===x.RTL?(l=i+l,s=0):o.length>e+1?o[e+1].Type===x.RTL?(l=i+l,s=0):(l=A(l,s,t.Word),s+=t.Word.length):l=A(l,0,i)):t.Type===x.RTL?l=A(l,s,i):t.Type===x.LTR?(l+=t.Word,s=l.length):t.Type!==x.WEAK&&t.Type!==x.BRACKETS||(e>0&&o[e-1].Type===x.RTL?o.length>e+1?o[e+1].Type===x.RTL?l=A(l,s,i):(l+=t.Word,s=l.length):l+=t.Word:(l+=t.Word,s=l.length))}i+=l,n<e.length-1&&(i+="\n")}return i}e["a"]=v},"8a01":function(t,e,i){"use strict";var n=i("6af0"),a=i("85b2"),o=i("4051"),s=i("1a5d"),l=i("c937"),c=i("21b7"),r=i("e2a6"),h=i("722e"),d=i("69cb"),u=i("ad5e"),b=i("a3ad"),_=i("33f6"),f=i("3522"),g=i("2a50"),p=i("7aa8"),y=i("be66"),O=i("2498"),T=i("4ab5"),w=i("c9db"),D=i("b4dd");function x(){this.textureInfo=void 0,this.dimensions=void 0,this.billboard=void 0}function j(t,e,i){this.labelCollection=t,this.index=e,this.dimensions=i}const B=1.2,C="ID_WHITE_PIXEL",m=new a["a"](4,4),v=new n["a"](1,1,1,1);function k(t,e){const i=document.createElement("canvas");i.width=m.x,i.height=m.y;const n=i.getContext("2d");return n.fillStyle="#fff",n.fillRect(0,0,i.width,i.height),t.addImage(C,i).then((function(t){e._whitePixelIndex=t}))}const S={};function A(t,e,i,n,a,s,l){return S.font=e,S.fillColor=i,S.strokeColor=n,S.strokeWidth=a,S.padding=O["a"].PADDING,l===w["a"].CENTER?S.textBaseline="middle":l===w["a"].TOP?S.textBaseline="top":S.textBaseline="bottom",S.fill=s===y["a"].FILL||s===y["a"].FILL_AND_OUTLINE,S.stroke=s===y["a"].OUTLINE||s===y["a"].FILL_AND_OUTLINE,S.backgroundColor=o["a"].BLACK,Object(d["a"])(t,S)}function E(t,e){e.textureInfo=void 0,e.dimensions=void 0;const i=e.billboard;Object(l["a"])(i)&&(i.show=!1,i.image=void 0,Object(l["a"])(i._removeCallbackFunc)&&(i._removeCallbackFunc(),i._removeCallbackFunc=void 0),t._spareBillboards.push(i),e.billboard=void 0)}function I(t,e,i,n){n.index=t.addImageSync(e,i)}const R=new D["a"];function N(t,e){const i=e._renderedText,n=R.splitGraphemes(i),s=n.length,c=e._glyphs,r=c.length;let h,d,b;if(e._relativeSize=e._fontSize/O["a"].FONT_SIZE,s<r)for(d=s;d<r;++d)E(t,c[d]);c.length=s;const _=e._showBackground&&i.split("\n").join("").length>0;let f=e._backgroundBillboard;const p=t._backgroundBillboardCollection;_?(Object(l["a"])(f)||(f=p.add({collection:t,image:C,imageSubRegion:v}),e._backgroundBillboard=f),f.color=e._backgroundColor,f.show=e._show,f.position=e._position,f.eyeOffset=e._eyeOffset,f.pixelOffset=e._pixelOffset,f.horizontalOrigin=g["a"].LEFT,f.verticalOrigin=e._verticalOrigin,f.heightReference=e._heightReference,f.scale=e.totalScale,f.pickPrimitive=e,f.id=e._id,f.translucencyByDistance=e._translucencyByDistance,f.pixelOffsetScaleByDistance=e._pixelOffsetScaleByDistance,f.scaleByDistance=e._scaleByDistance,f.distanceDisplayCondition=e._distanceDisplayCondition,f.disableDepthTestDistance=e._disableDepthTestDistance):Object(l["a"])(f)&&(p.remove(f),e._backgroundBillboard=f=void 0);const T=t._glyphTextureCache;for(b=0;b<s;++b){const i=n[b],s=e._verticalOrigin,r=JSON.stringify([i,e._fontFamily,e._fontStyle,e._fontWeight,+s]);let d=T[r];if(!Object(l["a"])(d)){const n=`${e._fontStyle} ${e._fontWeight} ${O["a"].FONT_SIZE}px ${e._fontFamily}`,a=A(i,n,o["a"].WHITE,o["a"].WHITE,0,y["a"].FILL,s);if(d=new j(t,-1,a.dimensions),T[r]=d,a.width>0&&a.height>0){const e=Object(u["a"])(a,{cutoff:O["a"].CUTOFF,radius:O["a"].RADIUS}),n=a.getContext("2d"),o=a.width,s=a.height,l=n.getImageData(0,0,o,s);for(let t=0;t<o;t++)for(let i=0;i<s;i++){const n=i*o+t,a=255*e[n],s=4*n;l.data[s+0]=a,l.data[s+1]=a,l.data[s+2]=a,l.data[s+3]=a}n.putImageData(l,0,0)," "!==i&&I(t._textureAtlas,r,a,d)}}if(h=c[b],Object(l["a"])(h)?-1===d.index?E(t,h):Object(l["a"])(h.textureInfo)&&(h.textureInfo=void 0):(h=new x,c[b]=h),h.textureInfo=d,h.dimensions=d.dimensions,-1!==d.index){let i=h.billboard;const n=t._spareBillboards;Object(l["a"])(i)||(n.length>0?i=n.pop():(i=t._billboardCollection.add({collection:t}),i._labelDimensions=new a["a"],i._labelTranslate=new a["a"]),h.billboard=i),i.show=e._show,i.position=e._position,i.eyeOffset=e._eyeOffset,i.pixelOffset=e._pixelOffset,i.horizontalOrigin=g["a"].LEFT,i.verticalOrigin=e._verticalOrigin,i.heightReference=e._heightReference,i.scale=e.totalScale,i.pickPrimitive=e,i.id=e._id,i.image=r,i.translucencyByDistance=e._translucencyByDistance,i.pixelOffsetScaleByDistance=e._pixelOffsetScaleByDistance,i.scaleByDistance=e._scaleByDistance,i.distanceDisplayCondition=e._distanceDisplayCondition,i.disableDepthTestDistance=e._disableDepthTestDistance,i._batchIndex=e._batchIndex,i.outlineColor=e.outlineColor,e.style===y["a"].FILL_AND_OUTLINE?(i.color=e._fillColor,i.outlineWidth=e.outlineWidth):e.style===y["a"].FILL?(i.color=e._fillColor,i.outlineWidth=0):e.style===y["a"].OUTLINE&&(i.color=o["a"].TRANSPARENT,i.outlineWidth=e.outlineWidth)}}e._repositionAllGlyphs=!0}function L(t,e,i){return e===g["a"].CENTER?-t/2:e===g["a"].RIGHT?-(t+i.x):i.x}const P=new a["a"],q=new a["a"];function W(t){const e=t._glyphs,i=t._renderedText;let n,o,s=0,c=0;const r=[];let h,d=Number.NEGATIVE_INFINITY,u=0,b=1;const _=e.length,p=t._backgroundBillboard,y=a["a"].clone(Object(l["a"])(p)?t._backgroundPadding:a["a"].ZERO,q);for(y.x/=t._relativeSize,y.y/=t._relativeSize,h=0;h<_;++h)"\n"===i.charAt(h)?(r.push(s),++b,s=0):(n=e[h],o=n.dimensions,u=Math.max(u,o.height-o.descent),d=Math.max(d,o.descent),s+=o.width-o.minx,h<_-1&&(s+=e[h+1].dimensions.minx),c=Math.max(c,s));r.push(s);const T=u+d,D=t.totalScale,x=t._horizontalOrigin,j=t._verticalOrigin;let C=0,m=r[C],v=L(m,x,y);const k=(Object(l["a"])(t._lineHeight)?t._lineHeight:B*t._fontSize)/t._relativeSize,S=k*(b-1);let A=c,E=T+S;Object(l["a"])(p)&&(A+=2*y.x,E+=2*y.y,p._labelHorizontalOrigin=x),P.x=v*D,P.y=0;let I=!0,R=0;for(h=0;h<_;++h)if("\n"===i.charAt(h))++C,R+=k,m=r[C],v=L(m,x,y),P.x=v*D,I=!0;else if(n=e[h],o=n.dimensions,j===w["a"].TOP?(P.y=o.height-u-y.y,P.y+=O["a"].PADDING):j===w["a"].CENTER?P.y=(S+o.height-u)/2:j===w["a"].BASELINE?(P.y=S,P.y-=O["a"].PADDING):(P.y=S+d+y.y,P.y-=O["a"].PADDING),P.y=(P.y-o.descent-R)*D,I&&(P.x-=O["a"].PADDING*D,I=!1),Object(l["a"])(n.billboard)&&(n.billboard._setTranslate(P),n.billboard._labelDimensions.x=A,n.billboard._labelDimensions.y=E,n.billboard._labelHorizontalOrigin=x),h<_-1){const t=e[h+1];P.x+=(o.width-o.minx+t.dimensions.minx)*D}if(Object(l["a"])(p)&&i.split("\n").join("").length>0&&(v=x===g["a"].CENTER?-c/2-y.x:x===g["a"].RIGHT?-(c+2*y.x):0,P.x=v*D,j===w["a"].TOP?P.y=T-u-d:j===w["a"].CENTER?P.y=(T-u)/2-d:j===w["a"].BASELINE?P.y=-y.y-d:P.y=0,P.y=P.y*D,p.width=A,p.height=E,p._setTranslate(P),p._labelTranslate=a["a"].clone(P,p._labelTranslate)),t.heightReference===f["a"].CLAMP_TO_GROUND)for(h=0;h<_;++h){n=e[h];const t=n.billboard;Object(l["a"])(t)&&(t._labelTranslate=a["a"].clone(P,t._labelTranslate))}}function z(t,e){const i=e._glyphs;for(let n=0,a=i.length;n<a;++n)E(t,i[n]);Object(l["a"])(e._backgroundBillboard)&&(t._backgroundBillboardCollection.remove(e._backgroundBillboard),e._backgroundBillboard=void 0),e._labelCollection=void 0,Object(l["a"])(e._removeCallbackFunc)&&e._removeCallbackFunc(),Object(c["a"])(e)}function F(t){t=Object(s["a"])(t,s["a"].EMPTY_OBJECT),this._scene=t.scene,this._batchTable=t.batchTable,this._textureAtlas=void 0,this._backgroundTextureAtlas=void 0,this._whitePixelIndex=void 0,this._backgroundBillboardCollection=new b["a"]({scene:this._scene}),this._backgroundBillboardCollection.destroyTextureAtlas=!1,this._backgroundImageReady=!0,this._billboardCollection=new b["a"]({scene:this._scene,batchTable:this._batchTable}),this._billboardCollection.destroyTextureAtlas=!1,this._billboardCollection._sdf=!0,this._spareBillboards=[],this._glyphTextureCache={},this._labels=[],this._labelsToUpdate=[],this._totalGlyphCount=0,this._highlightColor=o["a"].clone(o["a"].WHITE),this.show=Object(s["a"])(t.show,!0),this.modelMatrix=h["a"].clone(Object(s["a"])(t.modelMatrix,h["a"].IDENTITY)),this.debugShowBoundingVolume=Object(s["a"])(t.debugShowBoundingVolume,!1),this.blendOption=Object(s["a"])(t.blendOption,_["a"].OPAQUE_AND_TRANSLUCENT)}Object.defineProperties(F.prototype,{length:{get:function(){return this._labels.length}}}),F.prototype.add=function(t){const e=new p["a"](t,this);return this._labels.push(e),this._labelsToUpdate.push(e),e},F.prototype.remove=function(t){if(Object(l["a"])(t)&&t._labelCollection===this){const e=this._labels.indexOf(t);if(-1!==e)return this._labels.splice(e,1),z(this,t),!0}return!1},F.prototype.removeAll=function(){const t=this._labels;for(let e=0,i=t.length;e<i;++e)z(this,t[e]);t.length=0},F.prototype.contains=function(t){return Object(l["a"])(t)&&t._labelCollection===this},F.prototype.get=function(t){if(!Object(l["a"])(t))throw new r["a"]("index is required.");return this._labels[t]},F.prototype.update=function(t){if(!this.show)return;const e=this._billboardCollection,i=this._backgroundBillboardCollection;e.modelMatrix=this.modelMatrix,e.debugShowBoundingVolume=this.debugShowBoundingVolume,i.modelMatrix=this.modelMatrix,i.debugShowBoundingVolume=this.debugShowBoundingVolume;const n=t.context;Object(l["a"])(this._textureAtlas)||(this._textureAtlas=new T["a"]({context:n}),e.textureAtlas=this._textureAtlas);const a=this;if(Object(l["a"])(this._backgroundTextureAtlas)||(this._backgroundTextureAtlas=new T["a"]({context:n,initialSize:m}),i.textureAtlas=this._backgroundTextureAtlas,a._backgroundImageReady=!1,k(this._backgroundTextureAtlas,this).then((function(){a._backgroundImageReady=!0}))),!this._backgroundImageReady)return;const o=this._labelsToUpdate.length;for(let l=0;l<o;++l){const t=this._labelsToUpdate[l];if(t.isDestroyed())continue;const e=t._glyphs.length;t._rebindAllGlyphs&&(N(this,t),t._rebindAllGlyphs=!1),t._repositionAllGlyphs&&(W(t),t._repositionAllGlyphs=!1);const i=t._glyphs.length-e;this._totalGlyphCount+=i}const s=i.length>0?_["a"].TRANSLUCENT:this.blendOption;e.blendOption=s,i.blendOption=s,e._highlightColor=this._highlightColor,i._highlightColor=this._highlightColor,this._labelsToUpdate.length=0,i.update(t),e.update(t)},F.prototype.isDestroyed=function(){return!1},F.prototype.destroy=function(){return this.removeAll(),this._billboardCollection=this._billboardCollection.destroy(),this._textureAtlas=this._textureAtlas&&this._textureAtlas.destroy(),this._backgroundBillboardCollection=this._backgroundBillboardCollection.destroy(),this._backgroundTextureAtlas=this._backgroundTextureAtlas&&this._backgroundTextureAtlas.destroy(),Object(c["a"])(this)},e["a"]=F},"9c58":function(t,e,i){"use strict";var n=i("e2a6");function a(){}Object.defineProperties(a.prototype,{color:{get:n["a"].throwInstantiationError},intensity:{get:n["a"].throwInstantiationError}})},be66:function(t,e,i){"use strict";const n={FILL:0,OUTLINE:1,FILL_AND_OUTLINE:2};e["a"]=Object.freeze(n)}}]);