(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~c4358d1b"],{"0c68":function(e,t,i){"use strict";const n={TEXTURE:0,PROGRAM:1,BUFFER:2,NUMBER_OF_JOB_TYPES:3};t["a"]=Object.freeze(n)},1184:function(e,t,i){"use strict";var n=i("c937"),s=i("e2a6"),r=i("4b7f"),o=i("0c68");function a(e){this._total=e,this.usedThisFrame=0,this.stolenFromMeThisFrame=0,this.starvedThisFrame=!1,this.starvedLastFrame=!1}function c(e){if(Object(n["a"])(e)&&e.length!==o["a"].NUMBER_OF_JOB_TYPES)throw new s["a"]("A budget must be specified for each job type; budgets.length should equal JobType.NUMBER_OF_JOB_TYPES.");const t=new Array(o["a"].NUMBER_OF_JOB_TYPES);t[o["a"].TEXTURE]=new a(Object(n["a"])(e)?e[o["a"].TEXTURE]:10),t[o["a"].PROGRAM]=new a(Object(n["a"])(e)?e[o["a"].PROGRAM]:10),t[o["a"].BUFFER]=new a(Object(n["a"])(e)?e[o["a"].BUFFER]:30);const i=t.length;let r,c=0;for(r=0;r<i;++r)c+=t[r].total;const l=new Array(i);for(r=0;r<i;++r)l[r]=!1;this._totalBudget=c,this._totalUsedThisFrame=0,this._budgets=t,this._executedThisFrame=l}Object.defineProperties(a.prototype,{total:{get:function(){return this._total}}}),c.getTimestamp=r["a"],Object.defineProperties(c.prototype,{totalBudget:{get:function(){return this._totalBudget}}}),c.prototype.disableThisFrame=function(){this._totalUsedThisFrame=this._totalBudget},c.prototype.resetBudgets=function(){const e=this._budgets,t=e.length;for(let i=0;i<t;++i){const t=e[i];t.starvedLastFrame=t.starvedThisFrame,t.starvedThisFrame=!1,t.usedThisFrame=0,t.stolenFromMeThisFrame=0}this._totalUsedThisFrame=0},c.prototype.execute=function(e,t){const i=this._budgets,n=i[t],s=this._executedThisFrame[t];if(this._totalUsedThisFrame>=this._totalBudget&&s)return n.starvedThisFrame=!0,!1;let r;if(n.usedThisFrame+n.stolenFromMeThisFrame>=n.total){const e=i.length;let t;for(t=0;t<e;++t)if(r=i[t],r.usedThisFrame+r.stolenFromMeThisFrame<r.total&&!r.starvedLastFrame)break;if(t===e&&s)return!1;s&&(n.starvedThisFrame=!0)}const o=c.getTimestamp();e.execute();const a=c.getTimestamp()-o;return this._totalUsedThisFrame+=a,r?r.stolenFromMeThisFrame+=a:n.usedThisFrame+=a,this._executedThisFrame[t]=!0,!0},t["a"]=c},3293:function(e,t,i){"use strict";var n=i("cf26"),s=i("dde0"),r=i("4051"),o=i("cbf0"),a=i("c937"),c=i("44c1"),l=i("21b7"),u=i("e2a6"),h=i("e107"),d=i("ac4e"),f=i("d767"),b=i("722e"),m=i("1b9c"),p=i("bb9e"),_=i("e2aa"),g=i("6f7c"),y=i("386a"),v=i("51f2"),T=i("77df"),O=i("8fcb"),C=i("0b24"),S=i("666e"),w=i("3c2f"),E=i("fc8b"),x=i("9ae7");function A(e,t,i,n,s){this._tileset=e,this._tile=t,this._resource=i,this._modelInstanceCollection=void 0,this._metadata=void 0,this._batchTable=void 0,this._features=void 0,this.featurePropertiesDirty=!1,this._group=void 0,L(this,n,s)}function j(e){return function(){return e._batchTable.getPickId()}}A._deprecationWarning=c["a"],Object.defineProperties(A.prototype,{featuresLength:{get:function(){return this._batchTable.featuresLength}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){const e=this._modelInstanceCollection._model;return Object(a["a"])(e)?e.trianglesLength:0}},geometryByteLength:{get:function(){const e=this._modelInstanceCollection._model;return Object(a["a"])(e)?e.geometryByteLength:0}},texturesByteLength:{get:function(){const e=this._modelInstanceCollection._model;return Object(a["a"])(e)?e.texturesByteLength:0}},batchTableByteLength:{get:function(){return this._batchTable.memorySizeInBytes}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._modelInstanceCollection.readyPromise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},metadata:{get:function(){return this._metadata},set:function(e){this._metadata=e}},batchTable:{get:function(){return this._batchTable}},group:{get:function(){return this._group},set:function(e){this._group=e}}});const I=new Array(4),P=new Array(4);function L(e,t,i){const r=w["a"].parse(t,i),c=r.gltfFormat,l=r.gltf,u=r.featureTableJson,C=r.featureTableBinary,A=r.batchTableJson,L=r.batchTableBinary,F=new S["a"](u,C),R=F.getGlobalProperty("INSTANCES_LENGTH");if(F.featuresLength=R,!Object(a["a"])(R))throw new _["a"]("Feature table global property: INSTANCES_LENGTH must be defined");e._batchTable=new O["a"](e,R,A,L);const B=e._tileset,D={instances:new Array(R),batchTable:e._batchTable,cull:!1,url:void 0,requestType:p["a"].TILES3D,gltf:void 0,basePath:void 0,incrementallyLoadTextures:!1,upAxis:B._gltfUpAxis,forwardAxis:T["a"].X,opaquePass:v["a"].CESIUM_3D_TILE,pickIdLoaded:j(e),imageBasedLighting:B.imageBasedLighting,specularEnvironmentMaps:B.specularEnvironmentMaps,backFaceCulling:B.backFaceCulling,showOutline:B.showOutline,showCreditsOnScreen:B.showCreditsOnScreen};if(0===c){let t=Object(d["a"])(l);t=t.replace(/[\s\0]+$/,""),D.url=e._resource.getDerivedResource({url:t})}else D.gltf=l,D.basePath=e._resource.clone();const M=F.getGlobalProperty("EAST_NORTH_UP");let N;const U=F.getGlobalProperty("RTC_CENTER",o["a"].FLOAT,3);Object(a["a"])(U)&&(N=s["a"].unpack(U));const H=D.instances,V=new s["a"],z=new Array(3),J=new s["a"],k=new s["a"],G=new s["a"],Q=new f["a"],q=new m["a"];let W=new s["a"];const K=new y["a"],Y=new b["a"];for(let d=0;d<R;d++){let e=F.getProperty("POSITION",o["a"].FLOAT,3,d,I);if(!Object(a["a"])(e)){e=z;const t=F.getProperty("POSITION_QUANTIZED",o["a"].UNSIGNED_SHORT,3,d,I);if(!Object(a["a"])(t))throw new _["a"]("Either POSITION or POSITION_QUANTIZED must be defined for each instance.");const i=F.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",o["a"].FLOAT,3);if(!Object(a["a"])(i))throw new _["a"]("Global property: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");const n=F.getGlobalProperty("QUANTIZED_VOLUME_SCALE",o["a"].FLOAT,3);if(!Object(a["a"])(n))throw new _["a"]("Global property: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");for(let s=0;s<3;s++)e[s]=t[s]/65535*n[s]+i[s]}s["a"].unpack(e,0,V),Object(a["a"])(N)&&s["a"].add(V,N,V),K.translation=V;const t=F.getProperty("NORMAL_UP",o["a"].FLOAT,3,d,I),i=F.getProperty("NORMAL_RIGHT",o["a"].FLOAT,3,d,P);let r=!1;if(Object(a["a"])(t)){if(!Object(a["a"])(i))throw new _["a"]("To define a custom orientation, both NORMAL_UP and NORMAL_RIGHT must be defined.");s["a"].unpack(t,0,k),s["a"].unpack(i,0,J),r=!0}else{const e=F.getProperty("NORMAL_UP_OCT32P",o["a"].UNSIGNED_SHORT,2,d,I),t=F.getProperty("NORMAL_RIGHT_OCT32P",o["a"].UNSIGNED_SHORT,2,d,P);if(Object(a["a"])(e)){if(!Object(a["a"])(t))throw new _["a"]("To define a custom orientation with oct-encoded vectors, both NORMAL_UP_OCT32P and NORMAL_RIGHT_OCT32P must be defined.");n["a"].octDecodeInRange(e[0],e[1],65535,k),n["a"].octDecodeInRange(t[0],t[1],65535,J),r=!0}else M?(g["a"].eastNorthUpToFixedFrame(V,h["a"].WGS84,Y),b["a"].getMatrix3(Y,Q)):f["a"].clone(f["a"].IDENTITY,Q)}r&&(s["a"].cross(J,k,G),s["a"].normalize(G,G),f["a"].setColumn(Q,0,J,Q),f["a"].setColumn(Q,1,k,Q),f["a"].setColumn(Q,2,G,Q)),m["a"].fromRotationMatrix(Q,q),K.rotation=q,W=s["a"].fromElements(1,1,1,W);const c=F.getProperty("SCALE",o["a"].FLOAT,1,d);Object(a["a"])(c)&&s["a"].multiplyByScalar(W,c,W);const l=F.getProperty("SCALE_NON_UNIFORM",o["a"].FLOAT,3,d,I);Object(a["a"])(l)&&(W.x*=l[0],W.y*=l[1],W.z*=l[2]),K.scale=W;let u=F.getProperty("BATCH_ID",o["a"].UNSIGNED_SHORT,1,d);Object(a["a"])(u)||(u=d),b["a"].fromTranslationRotationScale(K,Y);const p=Y.clone();H[d]={modelMatrix:p,batchId:u}}e._modelInstanceCollection=new E["a"](D),e._modelInstanceCollection.readyPromise.catch((function(){})).then((function(t){e._modelInstanceCollection.ready&&t.activeAnimations.addAll({loop:x["a"].REPEAT})}))}function F(e){const t=e.featuresLength;if(!Object(a["a"])(e._features)&&t>0){const i=new Array(t);for(let n=0;n<t;++n)i[n]=new C["a"](e,n);e._features=i}}A.prototype.hasProperty=function(e,t){return this._batchTable.hasProperty(e,t)},A.prototype.getFeature=function(e){const t=this.featuresLength;if(!Object(a["a"])(e)||e<0||e>=t)throw new u["a"](`batchId is required and between zero and featuresLength - 1 (${t-1}).`);return F(this),this._features[e]},A.prototype.applyDebugSettings=function(e,t){t=e?t:r["a"].WHITE,this._batchTable.setAllColor(t)},A.prototype.applyStyle=function(e){this._batchTable.applyStyle(e)},A.prototype.update=function(e,t){const i=t.commandList.length;this._batchTable.update(e,t),this._modelInstanceCollection.modelMatrix=this._tile.computedTransform,this._modelInstanceCollection.shadows=this._tileset.shadows,this._modelInstanceCollection.lightColor=this._tileset.lightColor,this._modelInstanceCollection.imageBasedLighting=this._tileset.imageBasedLighting,this._modelInstanceCollection.backFaceCulling=this._tileset.backFaceCulling,this._modelInstanceCollection.debugWireframe=this._tileset.debugWireframe,this._modelInstanceCollection.showCreditsOnScreen=this._tileset.showCreditsOnScreen,this._modelInstanceCollection.splitDirection=this._tileset.splitDirection;const n=this._modelInstanceCollection._model;if(Object(a["a"])(n)){const e=this._tileset.clippingPlanes;n.referenceMatrix=this._tileset.clippingPlanesOriginMatrix,Object(a["a"])(e)&&this._tile.clippingPlanesDirty&&(n._clippingPlanes=e.enabled&&this._tile._isClipped?e:void 0),Object(a["a"])(e)&&Object(a["a"])(n._clippingPlanes)&&n._clippingPlanes!==e&&(n._clippingPlanes=e)}this._modelInstanceCollection.update(t);const s=t.commandList.length;i<s&&(t.passes.render||t.passes.pick)&&this._batchTable.addDerivedCommands(t,i,!1)},A.prototype.isDestroyed=function(){return!1},A.prototype.destroy=function(){return this._modelInstanceCollection=this._modelInstanceCollection&&this._modelInstanceCollection.destroy(),this._batchTable=this._batchTable&&this._batchTable.destroy(),Object(l["a"])(this)},t["a"]=A},"3d0a":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("ae9b"),s=i("1a5d");function r(e){e=Object(s["a"])(e,s["a"].EMPTY_OBJECT);const t=e.metadataTable,i=e.class,r=e.entityId,o=e.propertyTableJson;n["a"].typeOf.object("options.metadataTable",t),n["a"].typeOf.object("options.class",i),n["a"].typeOf.number("options.entityId",r),n["a"].typeOf.object("options.propertyTableJson",o),this._class=i,this._metadataTable=t,this._entityId=r,this._extensions=o.extensions,this._extras=o.extras}Object.defineProperties(r.prototype,{class:{get:function(){return this._class}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),r.prototype.hasProperty=function(e){return this._metadataTable.hasProperty(e)},r.prototype.hasPropertyBySemantic=function(e){return this._metadataTable.hasPropertyBySemantic(e)},r.prototype.getPropertyIds=function(e){return this._metadataTable.getPropertyIds(e)},r.prototype.getProperty=function(e){return this._metadataTable.getProperty(this._entityId,e)},r.prototype.setProperty=function(e,t){return this._metadataTable.setProperty(this._entityId,e,t)},r.prototype.getPropertyBySemantic=function(e){return this._metadataTable.getPropertyBySemantic(this._entityId,e)},r.prototype.setPropertyBySemantic=function(e,t){return this._metadataTable.setPropertyBySemantic(this._entityId,e,t)}},"424a":function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var n=i("ae9b"),s=i("1a5d"),r=i("e2a6"),o=i("61ad"),a=i("c937"),c=i("21b7"),l=i("7526"),u=i("e2aa"),h=i("a3b5"),d=i("ec65"),f=i("3d0a"),b=i("e1df"),m=i("9141"),p=i("c134"),_=i("ffd8");function g(e,t,i,s,c){if(n["a"].typeOf.object("resource",e),Object(a["a"])(t)===Object(a["a"])(i))throw new r["a"]("One of json and subtreeView must be defined.");n["a"].typeOf.object("implicitTileset",s),n["a"].typeOf.object("implicitCoordinates",c),this._resource=e,this._subtreeJson=void 0,this._bufferLoader=void 0,this._tileAvailability=void 0,this._contentAvailabilityBitstreams=[],this._childSubtreeAvailability=void 0,this._implicitCoordinates=c,this._subtreeLevels=s.subtreeLevels,this._subdivisionScheme=s.subdivisionScheme,this._branchingFactor=s.branchingFactor,this._readyPromise=Object(o["a"])(),this._metadata=void 0,this._tileMetadataTable=void 0,this._tilePropertyTableJson=void 0,this._contentMetadataTables=[],this._contentPropertyTableJsons=[],this._tileJumpBuffer=void 0,this._contentJumpBuffers=[],y(this,t,i,s)}function y(e,t,i,n){let r;r=Object(a["a"])(t)?{json:t,binary:void 0}:v(i);const o=r.json;let c;if(e._subtreeJson=o,Object(h["a"])(o,"3DTILES_metadata"))c=o.extensions["3DTILES_metadata"];else if(Object(a["a"])(o.tileMetadata)){const e=o.tileMetadata;c=o.propertyTables[e]}const l=[];if(Object(a["a"])(o.contentMetadata)){const e=o.contentMetadata.length;for(let t=0;t<e;t++){const e=o.contentMetadata[t];l.push(o.propertyTables[e])}}let u;const d=n.metadataSchema,f=o.subtreeMetadata;if(Object(a["a"])(f)){const e=f.class,t=d.classes[e];u=new m["a"]({subtreeMetadata:f,class:t})}e._metadata=u,e._tilePropertyTableJson=c,e._contentPropertyTableJsons=l;const b={constant:0};o.contentAvailabilityHeaders=[],Object(h["a"])(o,"3DTILES_multiple_contents")?o.contentAvailabilityHeaders=o.extensions["3DTILES_multiple_contents"].contentAvailability:Array.isArray(o.contentAvailability)?o.contentAvailabilityHeaders=o.contentAvailability:o.contentAvailabilityHeaders.push(Object(s["a"])(o.contentAvailability,b));const p=T(o.buffers),_=O(o.bufferViews,p);C(o,_),Object(a["a"])(c)&&S(c,_);for(let s=0;s<l.length;s++){const e=l[s];S(e,_)}w(e,p,r.binary).then((function(t){const i=x(_,t);A(e,o,n,i),Object(a["a"])(c)&&(I(e,n,i),F(e)),P(e,n,i),R(e),e._readyPromise.resolve(e)})).catch((function(t){e._readyPromise.reject(t)}))}function v(e){const t=!0,i=new DataView(e.buffer,e.byteOffset);let n=8;const s=i.getUint32(n,t);n+=8;const r=i.getUint32(n,t);n+=8;const o=Object(l["a"])(e,n,s);n+=s;const a=e.subarray(n,n+r);return{json:o,binary:a}}function T(e){e=Object(a["a"])(e)?e:[];for(let t=0;t<e.length;t++){const i=e[t];i.isExternal=Object(a["a"])(i.uri),i.isActive=!1}return e}function O(e,t){e=Object(a["a"])(e)?e:[];for(let i=0;i<e.length;i++){const n=e[i],s=t[n.buffer];n.bufferHeader=s,n.isActive=!1}return e}function C(e,t){let i;const n=e.tileAvailability;Object(a["a"])(n.bitstream)?i=t[n.bitstream]:Object(a["a"])(n.bufferView)&&(i=t[n.bufferView]),Object(a["a"])(i)&&(i.isActive=!0,i.bufferHeader.isActive=!0);const s=e.contentAvailabilityHeaders;for(let o=0;o<s.length;o++)i=void 0,Object(a["a"])(s[o].bitstream)?i=t[s[o].bitstream]:Object(a["a"])(s[o].bufferView)&&(i=t[s[o].bufferView]),Object(a["a"])(i)&&(i.isActive=!0,i.bufferHeader.isActive=!0);i=void 0;const r=e.childSubtreeAvailability;Object(a["a"])(r.bitstream)?i=t[r.bitstream]:Object(a["a"])(r.bufferView)&&(i=t[r.bufferView]),Object(a["a"])(i)&&(i.isActive=!0,i.bufferHeader.isActive=!0)}function S(e,t){const i=e.properties;let n;for(const r in i)if(i.hasOwnProperty(r)){const e=i[r],o=Object(s["a"])(e.values,e.bufferView);n=t[o],n.isActive=!0,n.bufferHeader.isActive=!0;const c=Object(s["a"])(e.stringOffsets,e.stringOffsetBufferView);Object(a["a"])(c)&&(n=t[c],n.isActive=!0,n.bufferHeader.isActive=!0);const l=Object(s["a"])(e.arrayOffsets,e.arrayOffsetBufferView);Object(a["a"])(l)&&(n=t[l],n.isActive=!0,n.bufferHeader.isActive=!0)}}function w(e,t,i){const n=[];for(let s=0;s<t.length;s++){const r=t[s];if(r.isActive)if(r.isExternal){const t=E(e,r);n.push(t)}else n.push(Promise.resolve(i));else n.push(Promise.resolve(void 0))}return Promise.all(n).then((function(e){const t={};for(let i=0;i<e.length;i++){const n=e[i];Object(a["a"])(n)&&(t[i]=n)}return t}))}function E(e,t){const i=e._resource,n=i.getDerivedResource({url:t.uri}),s=_["a"].loadExternalBuffer({resource:n});return e._bufferLoader=s,s.promise.then((function(e){return e.typedArray}))}function x(e,t){const i={};for(let n=0;n<e.length;n++){const s=e[n];if(!s.isActive)continue;const r=s.byteOffset,o=r+s.byteLength,a=t[s.buffer],c=a.subarray(r,o);i[n]=c}return i}function A(e,t,i,n){const s=i.branchingFactor,r=i.subtreeLevels,o=(Math.pow(s,r)-1)/(s-1),c=Math.pow(s,r),l=Object(h["a"])(t,"3DTILES_metadata"),u=Object(a["a"])(e._tilePropertyTableJson);let d=l||u;e._tileAvailability=j(t.tileAvailability,n,o,d);const f=e._contentPropertyTableJsons.length>0;d=d||f;for(let a=0;a<t.contentAvailabilityHeaders.length;a++){const i=j(t.contentAvailabilityHeaders[a],n,o,d);e._contentAvailabilityBitstreams.push(i)}e._childSubtreeAvailability=j(t.childSubtreeAvailability,n,c)}function j(e,t,i,n){if(Object(a["a"])(e.constant))return new d["a"]({constant:Boolean(e.constant),lengthBits:i,availableCount:e.availableCount});let s;return Object(a["a"])(e.bitstream)?s=t[e.bitstream]:Object(a["a"])(e.bufferView)&&(s=t[e.bufferView]),new d["a"]({bitstream:s,lengthBits:i,availableCount:e.availableCount,computeAvailableCountEnabled:n})}function I(e,t,i){const n=e._tilePropertyTableJson,s=e._tileAvailability.availableCount,r=t.metadataSchema,o=n.class,a=r.classes[o];e._tileMetadataTable=new p["a"]({class:a,count:s,properties:n.properties,bufferViews:i})}function P(e,t,i){const n=e._contentPropertyTableJsons,s=e._contentAvailabilityBitstreams,r=t.metadataSchema,o=e._contentMetadataTables;for(let a=0;a<n.length;a++){const e=n[a],t=s[a],c=t.availableCount,l=e.class,u=r.classes[l],h=new p["a"]({class:u,count:c,properties:e.properties,bufferViews:i});o.push(h)}}function L(e){let t=0;const i=e.lengthBits,n=e.availableCount;let s;s=n<256?new Uint8Array(i):n<65536?new Uint16Array(i):new Uint32Array(i);for(let r=0;r<e.lengthBits;r++)e.getBit(r)&&(s[r]=t,t++);return s}function F(e){const t=L(e._tileAvailability);e._tileJumpBuffer=t}function R(e){const t=e._contentJumpBuffers,i=e._contentAvailabilityBitstreams;for(let n=0;n<i.length;n++){const e=i[n],s=L(e);t.push(s)}}function B(e,t){if(!Object(a["a"])(e._tileMetadataTable))return;const i=e.getTileIndex(t);return e._tileAvailability.getBit(i)?e._tileJumpBuffer[i]:void 0}function D(e,t,i){const n=e._contentMetadataTables;if(!Object(a["a"])(n))return;const s=n[i];if(!Object(a["a"])(s))return;const r=e._contentAvailabilityBitstreams[i],o=e.getTileIndex(t);if(r.getBit(o)){const t=e._contentJumpBuffers[i];return t[o]}}Object.defineProperties(g.prototype,{readyPromise:{get:function(){return this._readyPromise.promise}},metadata:{get:function(){return this._metadata}},tileMetadataTable:{get:function(){return this._tileMetadataTable}},tilePropertyTableJson:{get:function(){return this._tilePropertyTableJson}},contentMetadataTables:{get:function(){return this._contentMetadataTables}},contentPropertyTableJsons:{get:function(){return this._contentPropertyTableJsons}},implicitCoordinates:{get:function(){return this._implicitCoordinates}}}),g.prototype.tileIsAvailableAtIndex=function(e){return this._tileAvailability.getBit(e)},g.prototype.tileIsAvailableAtCoordinates=function(e){const t=this.getTileIndex(e);return this.tileIsAvailableAtIndex(t)},g.prototype.contentIsAvailableAtIndex=function(e,t){if(t=Object(s["a"])(t,0),t<0||t>=this._contentAvailabilityBitstreams.length)throw new r["a"]("contentIndex out of bounds.");return this._contentAvailabilityBitstreams[t].getBit(e)},g.prototype.contentIsAvailableAtCoordinates=function(e,t){const i=this.getTileIndex(e);return this.contentIsAvailableAtIndex(i,t)},g.prototype.childSubtreeIsAvailableAtIndex=function(e){return this._childSubtreeAvailability.getBit(e)},g.prototype.childSubtreeIsAvailableAtCoordinates=function(e){const t=this.getChildSubtreeIndex(e);return this.childSubtreeIsAvailableAtIndex(t)},g.prototype.getLevelOffset=function(e){const t=this._branchingFactor;return(Math.pow(t,e)-1)/(t-1)},g.prototype.getParentMortonIndex=function(e){let t=2;return this._subdivisionScheme===b["a"].OCTREE&&(t=3),e>>t},g.prototype.getTileIndex=function(e){const t=e.level-this._implicitCoordinates.level;if(t<0||this._subtreeLevels<=t)throw new u["a"]("level is out of bounds for this subtree");const i=e.getSubtreeCoordinates(),n=i.getOffsetCoordinates(e),s=n.tileIndex;return s},g.prototype.getChildSubtreeIndex=function(e){const t=e.level-this._implicitCoordinates.level;if(t!==this._implicitCoordinates.subtreeLevels)throw new u["a"]("level is out of bounds for this subtree");const i=e.getParentSubtreeCoordinates(),n=i.getOffsetCoordinates(e),s=n.mortonIndex;return s},g.prototype.getTileMetadataView=function(e){const t=B(this,e);if(!Object(a["a"])(t))return;const i=this._tileMetadataTable;return new f["a"]({class:i.class,metadataTable:i,entityId:t,propertyTableJson:this._tilePropertyTableJson})},g.prototype.getContentMetadataView=function(e,t){const i=D(this,e,t);if(!Object(a["a"])(i))return;const n=this._contentMetadataTables[t],s=this._contentPropertyTableJsons[t];return new f["a"]({class:n.class,metadataTable:n,entityId:i,contentIndex:t,propertyTableJson:s})},g.prototype.isDestroyed=function(){return!1},g.prototype.destroy=function(){return Object(a["a"])(this._bufferLoader)&&_["a"].unload(this._bufferLoader),Object(c["a"])(this)}},"52c0":function(e,t,i){"use strict";var n=i("4051"),s=i("c937"),r=i("21b7"),o=i("0238"),a=i("a3c8"),c=i("66fd"),l=i("1494"),u=i("932f"),h=i("acf9"),d=i("5027"),f=i("b3ce"),b=i("1a75"),m=i("b54e"),p=i("da23"),_=i("8d2f"),g=i("79a2"),y=i("20f8");function v(){this._numSamples=1,this.previousFramebuffer=void 0,this._previousFramebuffer=void 0,this._depthStencilTexture=void 0,this._depthStencilRenderbuffer=void 0,this._fbo=new c["a"]({depthStencil:!0,createDepthAttachments:!1}),this._fboClassified=new c["a"]({depthStencil:!0,createDepthAttachments:!1}),this._rsUnclassified=void 0,this._rsClassified=void 0,this._unclassifiedCommand=void 0,this._classifiedCommand=void 0,this._translucentCommand=void 0,this._clearColorCommand=new a["a"]({color:new n["a"](0,0,0,0),owner:this}),this._clearCommand=new a["a"]({color:new n["a"](0,0,0,0),depth:1,stencil:0});const e=this;this._uniformMap={colorTexture:function(){return e._fbo.getColorTexture()},depthTexture:function(){return e._depthStencilTexture},classifiedTexture:function(){return e._fboClassified.getColorTexture()}}}Object.defineProperties(v.prototype,{unclassifiedCommand:{get:function(){return this._unclassifiedCommand}}}),v.isTranslucencySupported=function(e){return e.depthTexture&&e.fragmentDepth};const T={depthMask:!1,stencilTest:{enabled:!0,frontFunction:g["a"].EQUAL,frontOperation:{fail:y["a"].KEEP,zFail:y["a"].KEEP,zPass:y["a"].KEEP},backFunction:g["a"].NEVER,reference:0,mask:_["a"].CLASSIFICATION_MASK},blending:p["a"].ALPHA_BLEND},O={depthMask:!1,stencilTest:{enabled:!0,frontFunction:g["a"].NOT_EQUAL,frontOperation:{fail:y["a"].KEEP,zFail:y["a"].KEEP,zPass:y["a"].KEEP},backFunction:g["a"].NEVER,reference:0,mask:_["a"].CLASSIFICATION_MASK},blending:p["a"].ALPHA_BLEND},C={depthMask:!0,depthTest:{enabled:!0},stencilTest:_["a"].setCesium3DTileBit(),stencilMask:_["a"].CESIUM_3D_TILE_MASK,blending:p["a"].ALPHA_BLEND},S="#extension GL_EXT_frag_depth : enable\nuniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\nuniform sampler2D classifiedTexture;\nvarying vec2 v_textureCoordinates;\nvoid main()\n{\n    vec4 color = texture2D(colorTexture, v_textureCoordinates);\n    if (color.a == 0.0)\n    {\n        discard;\n    }\n    bool isClassified = all(equal(texture2D(classifiedTexture, v_textureCoordinates), vec4(0.0)));\n#ifdef UNCLASSIFIED\n    vec4 highlightColor = czm_invertClassificationColor;\n    if (isClassified)\n    {\n        discard;\n    }\n#else\n    vec4 highlightColor = vec4(1.0);\n    if (!isClassified)\n    {\n        discard;\n    }\n#endif\n    gl_FragColor = color * highlightColor;\n    gl_FragDepthEXT = texture2D(depthTexture, v_textureCoordinates).r;\n}\n",w="uniform sampler2D colorTexture;\nvarying vec2 v_textureCoordinates;\nvoid main()\n{\n    vec4 color = texture2D(colorTexture, v_textureCoordinates);\n    if (color.a == 0.0)\n    {\n        discard;\n    }\n#ifdef UNCLASSIFIED\n    gl_FragColor = color * czm_invertClassificationColor;\n#else\n    gl_FragColor = color;\n#endif\n}\n";v.prototype.update=function(e,t,i){const n=this._fbo.getColorTexture(),r=this.previousFramebuffer!==this._previousFramebuffer;this._previousFramebuffer=this.previousFramebuffer;const a=this._numSamples!==t,c=e.drawingBufferWidth,p=e.drawingBufferHeight,_=!Object(s["a"])(n)||n.width!==c||n.height!==p;if((_||r||a)&&(this._numSamples=t,this._depthStencilTexture=this._depthStencilTexture&&this._depthStencilTexture.destroy(),this._depthStencilRenderbuffer=this._depthStencilRenderbuffer&&this._depthStencilRenderbuffer.destroy(),Object(s["a"])(this._previousFramebuffer)||(this._depthStencilTexture=new b["a"]({context:e,width:c,height:p,pixelFormat:o["a"].DEPTH_STENCIL,pixelDatatype:l["a"].UNSIGNED_INT_24_8}),t>1&&(this._depthStencilRenderbuffer=new u["a"]({context:e,width:c,height:p,format:h["a"].DEPTH24_STENCIL8,numSamples:t})))),!Object(s["a"])(this._fbo.framebuffer)||_||r||a){let n,r;this._fbo.destroy(),this._fboClassified.destroy(),Object(s["a"])(this._previousFramebuffer)?(n=i.getDepthStencilTexture(),r=i.getDepthStencilRenderbuffer()):(n=this._depthStencilTexture,r=this._depthStencilRenderbuffer),this._fbo.setDepthStencilTexture(n),Object(s["a"])(r)&&this._fbo.setDepthStencilRenderbuffer(r),this._fbo.update(e,c,p,t),Object(s["a"])(this._previousFramebuffer)||(this._fboClassified.setDepthStencilTexture(n),this._fboClassified.update(e,c,p))}if(Object(s["a"])(this._rsUnclassified)||(this._rsUnclassified=d["a"].fromCache(T),this._rsClassified=d["a"].fromCache(O),this._rsDefault=d["a"].fromCache(C)),!Object(s["a"])(this._unclassifiedCommand)||r||a){Object(s["a"])(this._unclassifiedCommand)&&(this._unclassifiedCommand.shaderProgram=this._unclassifiedCommand.shaderProgram&&this._unclassifiedCommand.shaderProgram.destroy(),this._classifiedCommand.shaderProgram=this._classifiedCommand.shaderProgram&&this._classifiedCommand.shaderProgram.destroy());const t=Object(s["a"])(this._previousFramebuffer)?w:S,i=new f["a"]({defines:["UNCLASSIFIED"],sources:[t]}),n=new f["a"]({sources:[t]});this._unclassifiedCommand=e.createViewportQuadCommand(i,{renderState:Object(s["a"])(this._previousFramebuffer)?this._rsUnclassified:this._rsDefault,uniformMap:this._uniformMap,owner:this}),this._classifiedCommand=e.createViewportQuadCommand(n,{renderState:Object(s["a"])(this._previousFramebuffer)?this._rsClassified:this._rsDefault,uniformMap:this._uniformMap,owner:this}),Object(s["a"])(this._translucentCommand)&&(this._translucentCommand.shaderProgram=this._translucentCommand.shaderProgram&&this._translucentCommand.shaderProgram.destroy()),Object(s["a"])(this._previousFramebuffer)||(this._translucentCommand=e.createViewportQuadCommand(m["a"],{renderState:this._rsUnclassified,uniformMap:this._uniformMap,owner:this}))}},v.prototype.prepareTextures=function(e,t){this._fbo._numSamples>1&&this._fbo.prepareTextures(e,t)},v.prototype.clear=function(e,t){Object(s["a"])(this._previousFramebuffer)?this._fbo.clear(e,this._clearColorCommand,t):(this._fbo.clear(e,this._clearCommand,t),this._fboClassified.clear(e,this._clearCommand,t))},v.prototype.executeClassified=function(e,t){if(!Object(s["a"])(this._previousFramebuffer)){const i=t.framebuffer;this.prepareTextures(e,!0),t.framebuffer=this._fboClassified.framebuffer,this._translucentCommand.execute(e,t),t.framebuffer=i}this._classifiedCommand.execute(e,t)},v.prototype.executeUnclassified=function(e,t){this._unclassifiedCommand.execute(e,t)},v.prototype.isDestroyed=function(){return!1},v.prototype.destroy=function(){return this._fbo.destroy(),this._fboClassified.destroy(),this._depthStencilTexture=this._depthStencilTexture&&this._depthStencilTexture.destroy(),this._depthStencilRenderbuffer=this._depthStencilRenderbuffer&&this._depthStencilRenderbuffer.destroy(),Object(s["a"])(this._unclassifiedCommand)&&(this._unclassifiedCommand.shaderProgram=this._unclassifiedCommand.shaderProgram&&this._unclassifiedCommand.shaderProgram.destroy(),this._classifiedCommand.shaderProgram=this._classifiedCommand.shaderProgram&&this._classifiedCommand.shaderProgram.destroy()),Object(r["a"])(this)},t["a"]=v},"6ec4":function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("ae9b"),s=i("44e9"),r=i("c937"),o=i("9f38"),a=i("e2aa"),c=i("a3b5"),l=i("e1df");function u(e,t,i){const u=Object(c["a"])(t,"3DTILES_implicit_tiling")?t.extensions["3DTILES_implicit_tiling"]:t.implicitTiling;n["a"].typeOf.object("implicitTiling",u),this.baseResource=e,this.geometricError=t.geometricError,this.metadataSchema=i;const f=t.boundingVolume;if(!Object(r["a"])(f.box)&&!Object(r["a"])(f.region)&&!Object(c["a"])(f,"3DTILES_bounding_volume_S2"))throw new a["a"]("Only box, region and 3DTILES_bounding_volume_S2 are supported for implicit tiling");this.boundingVolume=f,this.refine=t.refine,this.subtreeUriTemplate=new o["a"]({url:u.subtrees.uri}),this.contentUriTemplates=[],this.contentHeaders=[];const b=h(t);for(let n=0;n<b.length;n++){const e=b[n];this.contentHeaders.push(Object(s["a"])(e,!0));const t=new o["a"]({url:e.uri});this.contentUriTemplates.push(t)}this.contentCount=this.contentHeaders.length,this.tileHeader=d(t),this.subdivisionScheme=l["a"][u.subdivisionScheme],this.branchingFactor=l["a"].getBranchingFactor(this.subdivisionScheme),this.subtreeLevels=u.subtreeLevels,Object(r["a"])(u.availableLevels)?this.availableLevels=u.availableLevels:this.availableLevels=u.maximumLevel+1}function h(e){if(Object(c["a"])(e,"3DTILES_multiple_contents")){const t=e.extensions["3DTILES_multiple_contents"];return Object(r["a"])(t.contents)?t.contents:t.content}return Object(r["a"])(e.contents)?e.contents:Object(r["a"])(e.content)?[e.content]:[]}function d(e){const t=Object(s["a"])(e,!0);return Object(r["a"])(t.extensions)&&(delete t.extensions["3DTILES_implicit_tiling"],delete t.extensions["3DTILES_multiple_contents"],0===Object.keys(t.extensions).length&&delete t.extensions),delete t.implicitTiling,delete t.contents,delete t.content,t}},"79e4":function(e,t,i){"use strict";const n={AERIAL:2,AERIAL_WITH_LABELS:3,ROAD:4};t["a"]=Object.freeze(n)},9141:function(e,t,i){"use strict";var n=i("ae9b"),s=i("1a5d"),r=i("c937"),o=i("4df2");function a(e){e=Object(s["a"])(e,s["a"].EMPTY_OBJECT);const t=e.subtreeMetadata,i=e.class;n["a"].typeOf.object("options.subtreeMetadata",t),n["a"].typeOf.object("options.class",i);const o=Object(r["a"])(t.properties)?t.properties:{};this._class=i,this._properties=o,this._extras=t.extras,this._extensions=t.extensions}Object.defineProperties(a.prototype,{class:{get:function(){return this._class}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),a.prototype.hasProperty=function(e){return o["a"].hasProperty(e,this._properties,this._class)},a.prototype.hasPropertyBySemantic=function(e){return o["a"].hasPropertyBySemantic(e,this._properties,this._class)},a.prototype.getPropertyIds=function(e){return o["a"].getPropertyIds(this._properties,this._class,e)},a.prototype.getProperty=function(e){return o["a"].getProperty(e,this._properties,this._class)},a.prototype.setProperty=function(e,t){return o["a"].setProperty(e,t,this._properties,this._class)},a.prototype.getPropertyBySemantic=function(e){return o["a"].getPropertyBySemantic(e,this._properties,this._class)},a.prototype.setPropertyBySemantic=function(e,t){return o["a"].setPropertyBySemantic(e,t,this._properties,this._class)},t["a"]=a},b73f:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("b8b5"),s=i("ae9b"),r=i("e2a6"),o=i("4905"),a=i("e1df");function c(e){if(s["a"].typeOf.string("options.subdivisionScheme",e.subdivisionScheme),s["a"].typeOf.number("options.subtreeLevels",e.subtreeLevels),s["a"].typeOf.number("options.level",e.level),s["a"].typeOf.number("options.x",e.x),s["a"].typeOf.number("options.y",e.y),e.subdivisionScheme===a["a"].OCTREE&&s["a"].typeOf.number("options.z",e.z),e.level<0)throw new r["a"]("level must be non-negative");if(e.x<0)throw new r["a"]("x must be non-negative");if(e.y<0)throw new r["a"]("y must be non-negative");if(e.subdivisionScheme===a["a"].OCTREE&&e.z<0)throw new r["a"]("z must be non-negative");const t=1<<e.level;if(e.x>=t)throw new r["a"]("x is out of range");if(e.y>=t)throw new r["a"]("y is out of range");if(e.subdivisionScheme===a["a"].OCTREE&&e.z>=t)throw new r["a"]("z is out of range");this.subdivisionScheme=e.subdivisionScheme,this.subtreeLevels=e.subtreeLevels,this.level=e.level,this.x=e.x,this.y=e.y,this.z=void 0,e.subdivisionScheme===a["a"].OCTREE&&(this.z=e.z)}function l(e,t){if(e.subdivisionScheme!==t.subdivisionScheme)throw new r["a"]("coordinates must have same subdivisionScheme");if(e.subtreeLevels!==t.subtreeLevels)throw new r["a"]("coordinates must have same subtreeLevels")}Object.defineProperties(c.prototype,{childIndex:{get:function(){let e=0;return e|=1&this.x,e|=(1&this.y)<<1,this.subdivisionScheme===a["a"].OCTREE&&(e|=(1&this.z)<<2),e}},mortonIndex:{get:function(){return this.subdivisionScheme===a["a"].OCTREE?o["a"].encode3D(this.x,this.y,this.z):o["a"].encode2D(this.x,this.y)}},tileIndex:{get:function(){const e=this.subdivisionScheme===a["a"].OCTREE?((1<<3*this.level)-1)/7:((1<<2*this.level)-1)/3,t=this.mortonIndex;return e+t}}}),c.prototype.getDescendantCoordinates=function(e){s["a"].typeOf.object("offsetCoordinates",e),l(this,e);const t=this.level+e.level,i=(this.x<<e.level)+e.x,n=(this.y<<e.level)+e.y;if(this.subdivisionScheme===a["a"].OCTREE){const s=(this.z<<e.level)+e.z;return new c({subdivisionScheme:this.subdivisionScheme,subtreeLevels:this.subtreeLevels,level:t,x:i,y:n,z:s})}return new c({subdivisionScheme:this.subdivisionScheme,subtreeLevels:this.subtreeLevels,level:t,x:i,y:n})},c.prototype.getAncestorCoordinates=function(e){if(s["a"].typeOf.number("offsetLevels",e),e<0)throw new r["a"]("offsetLevels must be non-negative");if(e>this.level)throw new r["a"]("ancestor cannot be above the tileset root");const t=1<<e,i=this.level-e,n=Math.floor(this.x/t),o=Math.floor(this.y/t);if(this.subdivisionScheme===a["a"].OCTREE){const e=Math.floor(this.z/t);return new c({subdivisionScheme:this.subdivisionScheme,subtreeLevels:this.subtreeLevels,level:i,x:n,y:o,z:e})}return new c({subdivisionScheme:this.subdivisionScheme,subtreeLevels:this.subtreeLevels,level:i,x:n,y:o})},c.prototype.getOffsetCoordinates=function(e){if(s["a"].typeOf.object("descendantCoordinates",e),!this.isEqual(e)&&!this.isAncestor(e))throw new r["a"]("this is not an ancestor of descendant");l(this,e);const t=e.level-this.level,i=1<<t,n=e.x%i,o=e.y%i;if(this.subdivisionScheme===a["a"].OCTREE){const s=e.z%i;return new c({subdivisionScheme:this.subdivisionScheme,subtreeLevels:this.subtreeLevels,level:t,x:n,y:o,z:s})}return new c({subdivisionScheme:this.subdivisionScheme,subtreeLevels:this.subtreeLevels,level:t,x:n,y:o})},c.prototype.getChildCoordinates=function(e){s["a"].typeOf.number("childIndex",e);const t=a["a"].getBranchingFactor(this.subdivisionScheme);if(e<0||t<=e)throw new r["a"]("childIndex must be at least 0 and less than "+t);const i=this.level+1,n=2*this.x+e%2,o=2*this.y+Math.floor(e/2)%2;if(this.subdivisionScheme===a["a"].OCTREE){const t=2*this.z+Math.floor(e/4)%2;return new c({subdivisionScheme:this.subdivisionScheme,subtreeLevels:this.subtreeLevels,level:i,x:n,y:o,z:t})}return new c({subdivisionScheme:this.subdivisionScheme,subtreeLevels:this.subtreeLevels,level:i,x:n,y:o})},c.prototype.getSubtreeCoordinates=function(){return this.getAncestorCoordinates(this.level%this.subtreeLevels)},c.prototype.getParentSubtreeCoordinates=function(){return this.getAncestorCoordinates(this.level%this.subtreeLevels+this.subtreeLevels)},c.prototype.isAncestor=function(e){s["a"].typeOf.object("descendantCoordinates",e),l(this,e);const t=e.level-this.level;if(t<=0)return!1;const i=e.x>>t,n=e.y>>t,r=this.x===i,o=this.y===n;if(this.subdivisionScheme===a["a"].OCTREE){const i=e.z>>t,n=this.z===i;return r&&o&&n}return r&&o},c.prototype.isEqual=function(e){return s["a"].typeOf.object("otherCoordinates",e),this.subdivisionScheme===e.subdivisionScheme&&this.subtreeLevels===e.subtreeLevels&&this.level===e.level&&this.x===e.x&&this.y===e.y&&(this.subdivisionScheme!==a["a"].OCTREE||this.z===e.z)},c.prototype.isImplicitTilesetRoot=function(){return 0===this.level},c.prototype.isSubtreeRoot=function(){return this.level%this.subtreeLevels===0},c.prototype.isBottomOfSubtree=function(){return this.level%this.subtreeLevels===this.subtreeLevels-1},c.prototype.getTemplateValues=function(){const e={level:this.level,x:this.x,y:this.y};return this.subdivisionScheme===a["a"].OCTREE&&(e.z=this.z),e};const u=[0,0,0];c.fromMortonIndex=function(e,t,i,n){let s;return e===a["a"].OCTREE?(s=o["a"].decode3D(n,u),new c({subdivisionScheme:e,subtreeLevels:t,level:i,x:s[0],y:s[1],z:s[2]})):(s=o["a"].decode2D(n,u),new c({subdivisionScheme:e,subtreeLevels:t,level:i,x:s[0],y:s[1]}))},c.fromTileIndex=function(e,t,i){let s,r,o;return e===a["a"].OCTREE?(s=Math.floor(n["a"].log2(7*i+1)/3),r=((1<<3*s)-1)/7,o=i-r):(s=Math.floor(n["a"].log2(3*i+1)/2),r=((1<<2*s)-1)/3,o=i-r),c.fromMortonIndex(e,t,s,o)}},bc37:function(e,t,i){"use strict";i.d(t,"a",(function(){return T}));var n=i("dde0"),s=i("ae9b"),r=i("44e9"),o=i("2fad"),a=i("1a5d"),c=i("61ad"),l=i("c937"),u=i("21b7"),h=i("e2a6"),d=i("b8b5"),f=i("dff6"),b=i("d767"),m=i("4a63"),p=i("6791"),_=i("424a"),g=i("a3b5"),y=i("e0be"),v=i("5493");function T(e,t,i,n,r,o){if(s["a"].defined("tile.implicitTileset",t.implicitTileset),s["a"].defined("tile.implicitCoordinates",t.implicitCoordinates),Object(l["a"])(n)===Object(l["a"])(r))throw new h["a"]("One of json and arrayBuffer must be defined.");const a=t.implicitTileset,u=t.implicitCoordinates;this._implicitTileset=a,this._implicitCoordinates=u,this._implicitSubtree=void 0,this._tileset=e,this._tile=t,this._resource=i,this._readyPromise=Object(c["a"])(),this._metadata=void 0,this.featurePropertiesDirty=!1,this._group=void 0;const d=u.getTemplateValues(),f=a.subtreeUriTemplate.getDerivedResource({templateValues:d});this._url=f.getUrlComponent(!0),O(this,n,r,o)}function O(e,t,i,n){let s;n=Object(a["a"])(n,0),Object(l["a"])(i)&&(s=new Uint8Array(i,n));const r=new _["a"](e._resource,t,s,e._implicitTileset,e._implicitCoordinates);e._implicitSubtree=r,r.readyPromise.then((function(){C(e,r),e._readyPromise.resolve()})).catch((function(t){e._readyPromise.reject(t)}))}function C(e,t){const i=e._tile,n=e._implicitCoordinates.childIndex,s=w(e,t,i,n);i.children.push(s.rootTile);const r=S(e,t,s.bottomRow);for(let o=0;o<r.length;o++){const t=r[o],i=t.tile,n=J(e,i,t.childIndex);i.children.push(n)}}function S(e,t,i){const n=[],s=e._implicitTileset.branchingFactor;for(let r=0;r<i.length;r++){const e=i[r];if(Object(l["a"])(e))for(let i=0;i<s;i++){const o=r*s+i;t.childSubtreeIsAvailableAtIndex(o)&&n.push({tile:e,childIndex:i})}}return n}function w(e,t,i,n){const s=0,r=!0,o=x(e,t,i,n,s,r);let a=[o],c=[];const l=e._implicitTileset;for(let u=1;u<l.subtreeLevels;u++){const i=t.getLevelOffset(u),n=l.branchingFactor*a.length;for(let s=0;s<n;s++){const n=i+s;if(!t.tileIsAvailableAtIndex(n)){c.push(void 0);continue}const r=t.getParentMortonIndex(s),o=a[r],u=s%l.branchingFactor,h=x(e,t,o,u,n);o.children.push(h),c.push(h)}a=c,c=[]}return{rootTile:o,bottomRow:a}}function E(e,t,i){const n=y["a"].TILE_GEOMETRIC_ERROR;return Object(l["a"])(e)&&e.hasPropertyBySemantic(n)?e.getPropertyBySemantic(n):t.geometricError/Math.pow(2,i.level)}function x(e,t,i,n,s,c){const u=e._implicitTileset;let h,d,f,b;if(h=Object(a["a"])(c,!1)?i.implicitCoordinates:i.implicitCoordinates.getChildCoordinates(n),Object(l["a"])(t.tilePropertyTableJson)){d=t.getTileMetadataView(h);const e=Object(v["a"])(d);f=e.tile,b=e.content}const m=t.contentPropertyTableJsons,p=m.length;let _=!1;for(let r=0;r<p;r++)if(t.contentIsAvailableAtCoordinates(h,r)){_=!0;break}const g=L(u,h,n,c,i,f),y=[];for(let r=0;r<u.contentCount;r++){if(!t.contentIsAvailableAtIndex(s,r))continue;const e=u.contentUriTemplates[r],i=e.getDerivedResource({templateValues:h.getTemplateValues()}).url,n={uri:i},a=F(g,b);Object(l["a"])(a)&&(n.boundingVolume=a),y.push(Object(o["a"])(n,u.contentHeaders[r]))}const T=E(d,u,h),O={boundingVolume:g,geometricError:T,refine:u.refine,contents:y},C=!0,S=Object(r["a"])(u.tileHeader,C);delete S.boundingVolume,delete S.transform;const w=Object(o["a"])(O,S,C),x=k(e,u.baseResource,w,i);return x.implicitCoordinates=h,x.implicitSubtree=t,x.metadata=d,x.hasImplicitContentMetadata=_,x}function A(e,t){return Object(l["a"])(e)&&Object(l["a"])(t)&&(Object(l["a"])(t.minimumHeight)||Object(l["a"])(t.maximumHeight))&&(Object(g["a"])(e,"3DTILES_bounding_volume_S2")||Object(l["a"])(e.region))}function j(e,t){Object(l["a"])(t)&&(Object(g["a"])(e,"3DTILES_bounding_volume_S2")?P(e.extensions["3DTILES_bounding_volume_S2"],t.minimumHeight,t.maximumHeight):Object(l["a"])(e.region)&&I(e.region,t.minimumHeight,t.maximumHeight))}function I(e,t,i){Object(l["a"])(t)&&(e[4]=t),Object(l["a"])(i)&&(e[5]=i)}function P(e,t,i){Object(l["a"])(t)&&(e.minimumHeight=t),Object(l["a"])(i)&&(e.maximumHeight=i)}function L(e,t,i,n,s,r){let o;return o=!Object(l["a"])(r)||!Object(l["a"])(r.boundingVolume)||!A(r.boundingVolume,r)&&A(e.boundingVolume,r)?R(e,t,i,Object(a["a"])(n,!1),s):r.boundingVolume,j(o,r),o}function F(e,t){let i;return Object(l["a"])(t)&&(i=t.boundingVolume),A(i,t)?j(i,t):A(e,t)&&(i=Object(r["a"])(e,!0),j(i,t)),i}function R(e,t,i,n,s){const r=e.boundingVolume;if(Object(g["a"])(r,"3DTILES_bounding_volume_S2"))return B(n,s,i,t.level,t.x,t.y,t.z);if(Object(l["a"])(r.region)){const e=z(r.region,t.level,t.x,t.y,t.z);return{region:e}}const o=H(r.box,t.level,t.x,t.y,t.z);return{box:o}}function B(e,t,i,n,r,o,a){s["a"].typeOf.bool("parentIsPlaceholderTile",e),s["a"].typeOf.object("parentTile",t),s["a"].typeOf.number("childIndex",i),s["a"].typeOf.number("level",n),s["a"].typeOf.number("x",r),s["a"].typeOf.number("y",o),Object(l["a"])(a)&&s["a"].typeOf.number("z",a);const c=t._boundingVolume;if(e)return{extensions:{"3DTILES_bounding_volume_S2":{token:p["a"].getTokenFromId(c.s2Cell._cellId),minimumHeight:c.minimumHeight,maximumHeight:c.maximumHeight}}};const u=Number(t._boundingVolume.s2Cell._cellId>>BigInt(61)),h=u%2===0?f["a"].encode2D(n,r,o):f["a"].encode2D(n,o,r),d=p["a"].fromFacePositionLevel(u,BigInt(h),n);let b,m;if(Object(l["a"])(a)){const e=(c.maximumHeight+c.minimumHeight)/2;b=i<4?c.minimumHeight:e,m=i<4?e:c.maximumHeight}else b=c.minimumHeight,m=c.maximumHeight;return{extensions:{"3DTILES_bounding_volume_S2":{token:p["a"].getTokenFromId(d._cellId),minimumHeight:b,maximumHeight:m}}}}Object.defineProperties(T.prototype,{featuresLength:{get:function(){return 0}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){return 0}},geometryByteLength:{get:function(){return 0}},texturesByteLength:{get:function(){return 0}},batchTableByteLength:{get:function(){return 0}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._readyPromise.promise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._url}},metadata:{get:function(){},set:function(){throw new h["a"]("Implicit3DTileContent cannot have metadata")}},batchTable:{get:function(){}},group:{get:function(){return this._group},set:function(e){this._group=e}}});const D=new n["a"],M=new n["a"],N=new n["a"],U=new b["a"];function H(e,t,i,r,o){if(s["a"].typeOf.object("rootBox",e),s["a"].typeOf.number("level",t),s["a"].typeOf.number("x",i),s["a"].typeOf.number("y",r),Object(l["a"])(o)&&s["a"].typeOf.number("z",o),0===t)return e;const a=n["a"].unpack(e,0,M),c=b["a"].unpack(e,3,U),u=Math.pow(2,-t),h=(2*i+1)*u-1,d=(2*r+1)*u-1;let f=0;const m=n["a"].fromElements(u,u,1,D);Object(l["a"])(o)&&(f=(2*o+1)*u-1,m.z=u);let p=n["a"].fromElements(h,d,f,N);p=b["a"].multiplyByVector(c,p,N),p=n["a"].add(p,a,N);let _=b["a"].clone(c);_=b["a"].multiplyByScale(_,m,_);const g=new Array(12);return n["a"].pack(p,g),b["a"].pack(_,g,3),g}const V=new m["a"];function z(e,t,i,n,r){if(s["a"].typeOf.object("rootRegion",e),s["a"].typeOf.number("level",t),s["a"].typeOf.number("x",i),s["a"].typeOf.number("y",n),Object(l["a"])(r)&&s["a"].typeOf.number("z",r),0===t)return e.slice();const o=m["a"].unpack(e,0,V),a=e[4],c=e[5],u=Math.pow(2,-t),h=u*o.width,f=d["a"].negativePiToPi(o.west+i*h),b=d["a"].negativePiToPi(f+h),p=u*o.height,_=d["a"].negativePiToPi(o.south+n*p),g=d["a"].negativePiToPi(_+p);let y=a,v=c;if(Object(l["a"])(r)){const e=u*(c-a);y+=r*e,v=y+e}return[f,_,b,g,y,v]}function J(e,t,i){const n=e._implicitTileset,s=t.implicitCoordinates.getChildCoordinates(i),r=R(n,s,i,!1,t),o=E(void 0,n,s),a=n.subtreeUriTemplate.getDerivedResource({templateValues:s.getTemplateValues()}).url,c={boundingVolume:r,geometricError:o,refine:n.refine,contents:[{uri:a}]},l=k(e,n.baseResource,c,t);return l.implicitTileset=n,l.implicitCoordinates=s,l}function k(e,t,i,n){const s=e._tile.constructor;return new s(e._tileset,t,i,n)}T.prototype.hasProperty=function(e,t){return!1},T.prototype.getFeature=function(e){},T.prototype.applyDebugSettings=function(e,t){},T.prototype.applyStyle=function(e){},T.prototype.update=function(e,t){},T.prototype.isDestroyed=function(){return!1},T.prototype.destroy=function(){return this._implicitSubtree=this._implicitSubtree&&this._implicitSubtree.destroy(),Object(u["a"])(this)},T._deriveBoundingBox=H,T._deriveBoundingRegion=z,T._deriveBoundingVolumeS2=B},c03d:function(e,t,i){"use strict";var n=i("ae9b"),s=i("1a5d"),r=i("c937"),o=i("e2a6"),a=i("f7b5"),c=i("2fa4"),l=i("e2aa"),u=i("c40b"),h=i("9497"),d=i("157b"),f=i("eb95"),b=i("a6fb"),m=i("39ab"),p=i("7d99"),_=i("cd1d"),g=i("2ede");function y(e){return function(t){return new e(t)}}const v={ARCGIS_MAPSERVER:y(u["a"]),BING:y(h["a"]),GOOGLE_EARTH:y(f["a"]),MAPBOX:y(b["a"]),SINGLE_TILE:y(m["a"]),TMS:y(d["a"]),URL_TEMPLATE:y(p["a"]),WMS:y(_["a"]),WMTS:y(g["a"])};function T(e){e=Object(s["a"])(e,s["a"].EMPTY_OBJECT);const t=e.assetId;n["a"].typeOf.number("options.assetId",t),this.defaultAlpha=void 0,this.defaultNightAlpha=void 0,this.defaultDayAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0,this._ready=!1,this._tileCredits=void 0,this._errorEvent=new a["a"];const i=this,o=c["a"]._createEndpointResource(t,e),u=e.assetId.toString()+e.accessToken+e.server;let h=T._endpointCache[u];Object(r["a"])(h)||(h=o.fetchJson(),T._endpointCache[u]=h),this._readyPromise=h.then((function(e){if("IMAGERY"!==e.type)return Promise.reject(new l["a"](`Cesium ion asset ${t} is not an imagery asset.`));let n;const s=e.externalType;if(Object(r["a"])(s)){const t=v[s];if(!Object(r["a"])(t))return Promise.reject(new l["a"]("Unrecognized Cesium ion imagery type: "+s));n=t(e.options)}else n=new d["a"]({url:new c["a"](e,o)});return i._tileCredits=c["a"].getCreditsFromEndpoint(e,o),n.errorEvent.addEventListener((function(e){e.provider=i,i._errorEvent.raiseEvent(e)})),i._imageryProvider=n,n.readyPromise.then((function(){return i._ready=!0,!0}))}))}Object.defineProperties(T.prototype,{ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}},rectangle:{get:function(){if(!this._ready)throw new o["a"]("tileHeight must not be called before the imagery provider is ready.");return this._imageryProvider.rectangle}},tileWidth:{get:function(){if(!this._ready)throw new o["a"]("tileWidth must not be called before the imagery provider is ready.");return this._imageryProvider.tileWidth}},tileHeight:{get:function(){if(!this._ready)throw new o["a"]("tileHeight must not be called before the imagery provider is ready.");return this._imageryProvider.tileHeight}},maximumLevel:{get:function(){if(!this._ready)throw new o["a"]("maximumLevel must not be called before the imagery provider is ready.");return this._imageryProvider.maximumLevel}},minimumLevel:{get:function(){if(!this._ready)throw new o["a"]("minimumLevel must not be called before the imagery provider is ready.");return this._imageryProvider.minimumLevel}},tilingScheme:{get:function(){if(!this._ready)throw new o["a"]("tilingScheme must not be called before the imagery provider is ready.");return this._imageryProvider.tilingScheme}},tileDiscardPolicy:{get:function(){if(!this._ready)throw new o["a"]("tileDiscardPolicy must not be called before the imagery provider is ready.");return this._imageryProvider.tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){if(!this._ready)throw new o["a"]("credit must not be called before the imagery provider is ready.");return this._imageryProvider.credit}},hasAlphaChannel:{get:function(){if(!this._ready)throw new o["a"]("hasAlphaChannel must not be called before the imagery provider is ready.");return this._imageryProvider.hasAlphaChannel},proxy:{get:function(){}}}}),T.prototype.getTileCredits=function(e,t,i){if(!this._ready)throw new o["a"]("getTileCredits must not be called before the imagery provider is ready.");const n=this._imageryProvider.getTileCredits(e,t,i);return Object(r["a"])(n)?this._tileCredits.concat(n):this._tileCredits},T.prototype.requestImage=function(e,t,i,n){if(!this._ready)throw new o["a"]("requestImage must not be called before the imagery provider is ready.");return this._imageryProvider.requestImage(e,t,i,n)},T.prototype.pickFeatures=function(e,t,i,n,s){if(!this._ready)throw new o["a"]("pickFeatures must not be called before the imagery provider is ready.");return this._imageryProvider.pickFeatures(e,t,i,n,s)},T._endpointCache={},t["a"]=T},dbf6:function(e,t,i){"use strict";var n=i("ae9b");const s={TRANSLATION:"TRANSLATION",ROTATION:"ROTATION",SCALE:"SCALE",FEATURE_ID:"_FEATURE_ID",fromGltfSemantic:function(e){n["a"].typeOf.string("gltfSemantic",e);let t=e;const i=/^(\w+)_\d+$/,r=i.exec(e);switch(null!==r&&(t=r[1]),t){case"TRANSLATION":return s.TRANSLATION;case"ROTATION":return s.ROTATION;case"SCALE":return s.SCALE;case"_FEATURE_ID":return s.FEATURE_ID}}};t["a"]=Object.freeze(s)},e1df:function(e,t,i){"use strict";var n=i("e2a6");const s={QUADTREE:"QUADTREE",OCTREE:"OCTREE",getBranchingFactor:function(e){switch(e){case s.OCTREE:return 8;case s.QUADTREE:return 4;default:throw new n["a"]("subdivisionScheme is not a valid value.")}}};t["a"]=Object.freeze(s)},ec65:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("ae9b"),s=i("c937"),r=i("1a5d"),o=i("e2a6"),a=i("e2aa");function c(e){const t=e.lengthBits;let i=e.availableCount;n["a"].typeOf.number("options.lengthBits",t);const o=e.constant,c=e.bitstream;if(Object(s["a"])(o))i=t;else{const n=Math.ceil(t/8);if(c.length!==n)throw new a["a"](`Availability bitstream must be exactly ${n} bytes long to store ${t} bits. Actual bitstream was ${c.length} bytes long.`);const o=Object(r["a"])(e.computeAvailableCountEnabled,!1);!Object(s["a"])(i)&&o&&(i=l(c,t))}this._lengthBits=t,this._availableCount=i,this._constant=o,this._bitstream=c}function l(e,t){let i=0;for(let n=0;n<t;n++){const t=n>>3,s=n%8;i+=e[t]>>s&1}return i}Object.defineProperties(c.prototype,{lengthBits:{get:function(){return this._lengthBits}},availableCount:{get:function(){return this._availableCount}}}),c.prototype.getBit=function(e){if(e<0||e>=this._lengthBits)throw new o["a"]("Bit index out of bounds.");if(Object(s["a"])(this._constant))return this._constant;const t=e>>3,i=e%8;return 1===(this._bitstream[t]>>i&1)}}}]);