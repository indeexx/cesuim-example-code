(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~e927a538"],{"1c97":function(e,t,i){"use strict";var n=i("4051"),r=i("1a5d"),o=i("c937"),a=i("f7b5"),s=i("2dd3");const c=new n["a"](1,1,1,.4),h=new n["a"](0,1,0,.05),d=new n["a"](0,.5,0,.2);function u(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT),this.defaultAlpha=void 0,this.defaultNightAlpha=void 0,this.defaultDayAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0,this._tilingScheme=Object(o["a"])(e.tilingScheme)?e.tilingScheme:new s["a"]({ellipsoid:e.ellipsoid}),this._cells=Object(r["a"])(e.cells,8),this._color=Object(r["a"])(e.color,c),this._glowColor=Object(r["a"])(e.glowColor,h),this._glowWidth=Object(r["a"])(e.glowWidth,6),this._backgroundColor=Object(r["a"])(e.backgroundColor,d),this._errorEvent=new a["a"],this._tileWidth=Object(r["a"])(e.tileWidth,256),this._tileHeight=Object(r["a"])(e.tileHeight,256),this._canvasSize=Object(r["a"])(e.canvasSize,256),this._canvas=this._createGridCanvas(),this._readyPromise=Promise.resolve(!0)}Object.defineProperties(u.prototype,{proxy:{get:function(){}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){}},minimumLevel:{get:function(){}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return!0}},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){}},hasAlphaChannel:{get:function(){return!0}}}),u.prototype._drawGrid=function(e){const t=0,i=this._canvasSize;for(let n=0;n<=this._cells;++n){const r=n/this._cells,o=1+r*(i-1);e.moveTo(o,t),e.lineTo(o,i),e.moveTo(t,o),e.lineTo(i,o)}e.stroke()},u.prototype._createGridCanvas=function(){const e=document.createElement("canvas");e.width=this._canvasSize,e.height=this._canvasSize;const t=0,i=this._canvasSize,n=e.getContext("2d"),r=this._backgroundColor.toCssColorString();n.fillStyle=r,n.fillRect(t,t,i,i);const o=this._glowColor.toCssColorString();n.strokeStyle=o,n.lineWidth=this._glowWidth,n.strokeRect(t,t,i,i),this._drawGrid(n),n.lineWidth=.5*this._glowWidth,n.strokeRect(t,t,i,i),this._drawGrid(n);const a=this._color.toCssColorString();return n.strokeStyle=a,n.lineWidth=2,n.strokeRect(t,t,i,i),n.lineWidth=1,this._drawGrid(n),e},u.prototype.getTileCredits=function(e,t,i){},u.prototype.requestImage=function(e,t,i,n){return this._canvas},u.prototype.pickFeatures=function(e,t,i,n,r){}},"2a50":function(e,t,i){"use strict";const n={CENTER:0,LEFT:1,RIGHT:-1};t["a"]=Object.freeze(n)},3522:function(e,t,i){"use strict";const n={NONE:0,CLAMP_TO_GROUND:1,RELATIVE_TO_GROUND:2};t["a"]=Object.freeze(n)},"933a":function(e,t,i){"use strict";var n=i("ae9b"),r=i("1a5d"),o=i("c937"),a=i("4df2");function s(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.id,i=e.group,a=e.class;n["a"].typeOf.object("options.group",i),n["a"].typeOf.object("options.class",a);const s=Object(o["a"])(i.properties)?i.properties:{};this._class=a,this._properties=s,this._id=t,this._extras=i.extras,this._extensions=i.extensions}Object.defineProperties(s.prototype,{class:{get:function(){return this._class}},id:{get:function(){return this._id}},extras:{get:function(){return this._extras}},extensions:{get:function(){return this._extensions}}}),s.prototype.hasProperty=function(e){return a["a"].hasProperty(e,this._properties,this._class)},s.prototype.hasPropertyBySemantic=function(e){return a["a"].hasPropertyBySemantic(e,this._properties,this._class)},s.prototype.getPropertyIds=function(e){return a["a"].getPropertyIds(this._properties,this._class,e)},s.prototype.getProperty=function(e){return a["a"].getProperty(e,this._properties,this._class)},s.prototype.setProperty=function(e,t){return a["a"].setProperty(e,t,this._properties,this._class)},s.prototype.getPropertyBySemantic=function(e){return a["a"].getPropertyBySemantic(e,this._properties,this._class)},s.prototype.setPropertyBySemantic=function(e,t){return a["a"].setPropertyBySemantic(e,t,this._properties,this._class)},t["a"]=s},"97f6":function(e,t,i){"use strict";var n=i("5c8a"),r=i("8656"),o=i("dde0"),a=i("8d54"),s=i("ae9b"),c=i("1a5d"),h=i("61ad"),d=i("c937"),u=i("21b7"),l=i("e2a6"),p=i("e8ff"),m=i("22d6"),_=i("4a63"),g=i("d9c4"),f=i("b483"),b=i("4a43"),y=i("1f21"),v=i("dc6c"),S=i("2773");const O={u_globeMinimumAltitude:function(){return 55e3}};function w(e){e=Object(c["a"])(e,c["a"].EMPTY_OBJECT);let t=e.appearance;const i=e.geometryInstances;if(!Object(d["a"])(t)&&Object(d["a"])(i)){const e=Array.isArray(i)?i:[i],n=e.length;for(let i=0;i<n;i++){const n=e[i].attributes;if(Object(d["a"])(n)&&Object(d["a"])(n.color)){t=new y["a"]({flat:!0});break}}}this.appearance=t,this.geometryInstances=e.geometryInstances,this.show=Object(c["a"])(e.show,!0),this.classificationType=Object(c["a"])(e.classificationType,b["a"].BOTH),this.debugShowBoundingVolume=Object(c["a"])(e.debugShowBoundingVolume,!1),this.debugShowShadowVolume=Object(c["a"])(e.debugShowShadowVolume,!1),this._boundingVolumes=[],this._boundingVolumes2D=[],this._ready=!1,this._readyPromise=Object(h["a"])(),this._primitive=void 0,this._maxHeight=void 0,this._minHeight=void 0,this._maxTerrainHeight=n["a"]._defaultMaxTerrainHeight,this._minTerrainHeight=n["a"]._defaultMinTerrainHeight,this._boundingSpheresKeys=[],this._boundingSpheres=[],this._useFragmentCulling=!1,this._zIndex=void 0;const r=this;this._classificationPrimitiveOptions={geometryInstances:void 0,appearance:void 0,vertexCacheOptimize:Object(c["a"])(e.vertexCacheOptimize,!1),interleave:Object(c["a"])(e.interleave,!1),releaseGeometryInstances:Object(c["a"])(e.releaseGeometryInstances,!0),allowPicking:Object(c["a"])(e.allowPicking,!0),asynchronous:Object(c["a"])(e.asynchronous,!0),compressVertices:Object(c["a"])(e.compressVertices,!0),_createBoundingVolumeFunction:void 0,_updateAndQueueCommandsFunction:void 0,_pickPrimitive:r,_extruded:!0,_uniformMap:O}}function P(e){return function(t,i){const n=i.maximumRadius,r=n/Math.cos(.5*t)-n;return e._maxHeight+r}}function C(e){return function(t,i){return e._minHeight}}Object.defineProperties(w.prototype,{vertexCacheOptimize:{get:function(){return this._classificationPrimitiveOptions.vertexCacheOptimize}},interleave:{get:function(){return this._classificationPrimitiveOptions.interleave}},releaseGeometryInstances:{get:function(){return this._classificationPrimitiveOptions.releaseGeometryInstances}},allowPicking:{get:function(){return this._classificationPrimitiveOptions.allowPicking}},asynchronous:{get:function(){return this._classificationPrimitiveOptions.asynchronous}},compressVertices:{get:function(){return this._classificationPrimitiveOptions.compressVertices}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}}}),w.isSupported=f["a"].isSupported;const I=new o["a"],T=new o["a"],j=new o["a"],E=new a["a"],D=new _["a"];function x(e,t){const i=e.mapProjection.ellipsoid;if(!Object(d["a"])(t.attributes)||!Object(d["a"])(t.attributes.position3DHigh))return Object(d["a"])(t.rectangle)?t.rectangle:void 0;const n=t.attributes.position3DHigh.values,r=t.attributes.position3DLow.values,a=n.length;let s=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;for(let d=0;d<a;d+=3){const e=o["a"].unpack(n,d,I),t=o["a"].unpack(r,d,T),a=o["a"].add(e,t,j),l=i.cartesianToCartographic(a,E),p=l.latitude,m=l.longitude;s=Math.min(s,p),c=Math.min(c,m),h=Math.max(h,p),u=Math.max(u,m)}const l=D;return l.north=h,l.south=s,l.east=u,l.west=c,l}function M(e,t,i){const r=n["a"].getMinimumMaximumHeights(t,i);e._minTerrainHeight=r.minimumTerrainHeight,e._maxTerrainHeight=r.maximumTerrainHeight}function A(e,t,i){const n=t.mapProjection.ellipsoid,a=x(t,i),s=m["a"].fromRectangle(a,e._minHeight,e._maxHeight,n);if(e._boundingVolumes.push(s),!t.scene3DOnly){const i=t.mapProjection,n=r["a"].fromRectangleWithHeights2D(a,i,e._maxHeight,e._minHeight);o["a"].fromElements(n.center.z,n.center.x,n.center.y,n.center),e._boundingVolumes2D.push(n)}}function V(e,t){return Math.floor(e%t/2)}function H(e,t,i,n,r,o,a){const s=e._primitive;i.mode!==v["a"].SCENE3D&&t.shaderProgram===s._spColor&&s._needs2DShader&&(t=t.derivedCommands.appearance2D),t.owner=e,t.modelMatrix=n,t.boundingVolume=o,t.cull=r,t.debugShowBoundingVolume=a,i.commandList.push(t)}function k(e,t,i,n,r,o){const a=e._primitive;i.mode!==v["a"].SCENE3D&&t.shaderProgram===a._spPick&&a._needs2DShader&&(t=t.derivedCommands.pick2D),t.owner=e,t.modelMatrix=n,t.boundingVolume=o,t.cull=r,i.commandList.push(t)}function N(e,t,i,n,r,o,a,s){let c;c=t.mode===v["a"].SCENE3D?e._boundingVolumes:e._boundingVolumes2D;const h=e.classificationType,d=h!==b["a"].CESIUM_3D_TILE,u=h!==b["a"].TERRAIN,l=t.passes,p=e._primitive;let m,_,g;if(l.render){const n=i.length;for(m=0;m<n;++m)_=c[V(m,n)],d&&(g=i[m],H(e,g,t,r,o,_,a)),u&&(g=i[m].derivedCommands.tileset,H(e,g,t,r,o,_,a));if(t.invertClassification){const i=p._commandsIgnoreShow,n=i.length;for(m=0;m<n;++m)_=c[m],g=i[m],H(e,g,t,r,o,_,a)}}if(l.pick){const i=n.length;let a;for(e._useFragmentCulling||(a=p._primitive._pickOffsets),m=0;m<i;++m){if(_=c[V(m,i)],!e._useFragmentCulling){const e=a[V(m,i)];_=c[e.index]}d&&(g=n[m],k(e,g,t,r,o,_)),u&&(g=n[m].derivedCommands.tileset,k(e,g,t,r,o,_))}}}w.initializeTerrainHeights=function(){return n["a"].initialize()},w.prototype.update=function(e){if(!Object(d["a"])(this._primitive)&&!Object(d["a"])(this.geometryInstances))return;if(!n["a"].initialized){if(!this.asynchronous)throw new l["a"]("For synchronous GroundPrimitives, you must call GroundPrimitive.initializeTerrainHeights() and wait for the returned promise to resolve.");return void w.initializeTerrainHeights()}const t=this,i=this._classificationPrimitiveOptions;if(!Object(d["a"])(this._primitive)){const r=e.mapProjection.ellipsoid;let o,a,s;const c=Array.isArray(this.geometryInstances)?this.geometryInstances:[this.geometryInstances],h=c.length,u=new Array(h);let m,b;for(m=0;m<h;++m){o=c[m],a=o.geometry;const t=x(e,a);Object(d["a"])(b)?Object(d["a"])(t)&&_["a"].union(b,t,b):b=_["a"].clone(t);const i=o.id;if(Object(d["a"])(i)&&Object(d["a"])(t)){const e=n["a"].getBoundingSphere(t,r);this._boundingSpheresKeys.push(i),this._boundingSpheres.push(e)}if(s=a.constructor,!Object(d["a"])(s)||!Object(d["a"])(s.createShadowVolume))throw new l["a"]("Not all of the geometry instances have GroundPrimitive support.")}M(this,b,r);const y=e.terrainExaggeration,v=e.terrainExaggerationRelativeHeight;this._minHeight=g["a"].getHeight(this._minTerrainHeight,y,v),this._maxHeight=g["a"].getHeight(this._maxTerrainHeight,y,v);const O=w._supportsMaterials(e.context);if(this._useFragmentCulling=O,O){let t,i=!0;for(m=0;m<h;++m)if(o=c[m],a=o.geometry,b=x(e,a),S["a"].shouldUseSphericalCoordinates(b)){i=!1;break}for(m=0;m<h;++m){o=c[m],a=o.geometry,s=a.constructor;const n=x(e,a),h=a.textureCoordinateRotationPoints;t=i?S["a"].getPlanarTextureCoordinateAttributes(n,h,r,e.mapProjection,this._maxHeight):S["a"].getSphericalExtentGeometryInstanceAttributes(n,h,r,e.mapProjection);const d=o.attributes;for(const e in d)d.hasOwnProperty(e)&&(t[e]=d[e]);u[m]=new p["a"]({geometry:s.createShadowVolume(a,C(this),P(this)),attributes:t,id:o.id})}}else for(m=0;m<h;++m)o=c[m],a=o.geometry,s=a.constructor,u[m]=new p["a"]({geometry:s.createShadowVolume(a,C(this),P(this)),attributes:o.attributes,id:o.id});i.geometryInstances=u,i.appearance=this.appearance,i._createBoundingVolumeFunction=function(e,i){A(t,e,i)},i._updateAndQueueCommandsFunction=function(e,i,n,r,o,a,s,c){N(t,i,n,r,o,a,s,c)},this._primitive=new f["a"](i),this._primitive.readyPromise.then((function(e){t._ready=!0,t.releaseGeometryInstances&&(t.geometryInstances=void 0);const i=e._error;Object(d["a"])(i)?t._readyPromise.reject(i):t._readyPromise.resolve(t)}))}this._primitive.appearance=this.appearance,this._primitive.show=this.show,this._primitive.debugShowShadowVolume=this.debugShowShadowVolume,this._primitive.debugShowBoundingVolume=this.debugShowBoundingVolume,this._primitive.update(e)},w.prototype.getBoundingSphere=function(e){const t=this._boundingSpheresKeys.indexOf(e);if(-1!==t)return this._boundingSpheres[t]},w.prototype.getGeometryInstanceAttributes=function(e){if(!Object(d["a"])(this._primitive))throw new l["a"]("must call update before calling getGeometryInstanceAttributes");return this._primitive.getGeometryInstanceAttributes(e)},w.prototype.isDestroyed=function(){return!1},w.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),Object(u["a"])(this)},w._supportsMaterials=function(e){return e.depthTexture},w.supportsMaterials=function(e){return s["a"].typeOf.object("scene",e),w._supportsMaterials(e.frameState.context)},t["a"]=w},df0d:function(e,t,i){"use strict";var n=i("5c8a"),r=i("cbf0"),o=i("1a5d"),a=i("61ad"),s=i("c937"),c=i("21b7"),h=i("e2a6"),d=i("e8ff"),u=i("0161"),l=i("06c1"),p=i("d5cf"),m=i("51f2"),_=i("5027"),g=i("8f7d"),f=i("b3ce"),b=i("b78c"),y=i("ee9f"),v=i("5cad"),S=i("8d3e"),O=i("da23"),w=i("4a43"),P=i("ddd8"),C=i("aa2d"),I=i("af2a"),T=i("5769"),j=i("dc6c"),E=i("8d2f"),D=i("79a2"),x=i("20f8");function M(e){e=Object(o["a"])(e,o["a"].EMPTY_OBJECT),this.geometryInstances=e.geometryInstances,this._hasPerInstanceColors=!0;let t=e.appearance;Object(s["a"])(t)||(t=new I["a"]),this.appearance=t,this.show=Object(o["a"])(e.show,!0),this.classificationType=Object(o["a"])(e.classificationType,w["a"].BOTH),this.debugShowBoundingVolume=Object(o["a"])(e.debugShowBoundingVolume,!1),this._debugShowShadowVolume=Object(o["a"])(e.debugShowShadowVolume,!1),this._primitiveOptions={geometryInstances:void 0,appearance:void 0,vertexCacheOptimize:!1,interleave:Object(o["a"])(e.interleave,!1),releaseGeometryInstances:Object(o["a"])(e.releaseGeometryInstances,!0),allowPicking:Object(o["a"])(e.allowPicking,!0),asynchronous:Object(o["a"])(e.asynchronous,!0),compressVertices:!1,_createShaderProgramFunction:void 0,_createCommandsFunction:void 0,_updateAndQueueCommandsFunction:void 0},this._zIndex=void 0,this._ready=!1,this._readyPromise=Object(a["a"])(),this._primitive=void 0,this._sp=void 0,this._sp2D=void 0,this._spMorph=void 0,this._renderState=V(!1),this._renderState3DTiles=V(!0),this._renderStateMorph=_["a"].fromCache({cull:{enabled:!0,face:P["a"].FRONT},depthTest:{enabled:!0},blending:O["a"].PRE_MULTIPLIED_ALPHA_BLEND,depthMask:!1})}function A(e,t,i){const r=t.context,o=e._primitive,a=o._attributeLocations;let c=o._batchTable.getVertexShaderCallback()(S["a"]);c=T["a"]._appendShowToShader(o,c),c=T["a"]._appendDistanceDisplayConditionToShader(o,c),c=T["a"]._modifyShaderPosition(e,c,t.scene3DOnly);let h=o._batchTable.getVertexShaderCallback()(v["a"]);h=T["a"]._appendShowToShader(o,h),h=T["a"]._appendDistanceDisplayConditionToShader(o,h),h=T["a"]._modifyShaderPosition(e,h,t.scene3DOnly);let d=o._batchTable.getVertexShaderCallback()(b["a"]);const u=["GLOBE_MINIMUM_ALTITUDE "+t.mapProjection.ellipsoid.minimumRadius.toFixed(1)];let l="",p="";Object(s["a"])(i.material)?(p=Object(s["a"])(i.material)?i.material.shaderSource:"",-1!==p.search(/varying\s+float\s+v_polylineAngle;/g)&&u.push("ANGLE_VARYING"),-1!==p.search(/varying\s+float\s+v_width;/g)&&u.push("WIDTH_VARYING")):l="PER_INSTANCE_COLOR",u.push(l);const m=e.debugShowShadowVolume?["DEBUG_SHOW_VOLUME",l]:[l],_=new f["a"]({defines:u,sources:[c]}),O=new f["a"]({defines:m,sources:[p,d]});e._sp=g["a"].replaceCache({context:r,shaderProgram:o._sp,vertexShaderSource:_,fragmentShaderSource:O,attributeLocations:a});let w=r.shaderCache.getDerivedShaderProgram(e._sp,"2dColor");if(!Object(s["a"])(w)){const t=new f["a"]({defines:u.concat(["COLUMBUS_VIEW_2D"]),sources:[c]});w=r.shaderCache.createDerivedShaderProgram(e._sp,"2dColor",{context:r,shaderProgram:e._sp2D,vertexShaderSource:t,fragmentShaderSource:O,attributeLocations:a})}e._sp2D=w;let P=r.shaderCache.getDerivedShaderProgram(e._sp,"MorphColor");if(!Object(s["a"])(P)){const t=new f["a"]({defines:u.concat(["MAX_TERRAIN_HEIGHT "+n["a"]._defaultMaxTerrainHeight.toFixed(1)]),sources:[h]});d=o._batchTable.getVertexShaderCallback()(y["a"]);const i=new f["a"]({defines:m,sources:[p,d]});P=r.shaderCache.createDerivedShaderProgram(e._sp,"MorphColor",{context:r,shaderProgram:e._spMorph,vertexShaderSource:t,fragmentShaderSource:i,attributeLocations:a})}e._spMorph=P}function V(e){return _["a"].fromCache({cull:{enabled:!0},blending:O["a"].PRE_MULTIPLIED_ALPHA_BLEND,depthMask:!1,stencilTest:{enabled:e,frontFunction:D["a"].EQUAL,frontOperation:{fail:x["a"].KEEP,zFail:x["a"].KEEP,zPass:x["a"].KEEP},backFunction:D["a"].EQUAL,backOperation:{fail:x["a"].KEEP,zFail:x["a"].KEEP,zPass:x["a"].KEEP},reference:E["a"].CESIUM_3D_TILE_MASK,mask:E["a"].CESIUM_3D_TILE_MASK}})}function H(e,t,i,n,r,o){const a=e._primitive,c=a._va.length;r.length=c,o.length=c;const h=t instanceof C["a"],d=h?{}:i._uniforms,u=a._batchTable.getUniformMapCallback()(d);for(let l=0;l<c;l++){const t=a._va[l];let i=r[l];Object(s["a"])(i)||(i=r[l]=new p["a"]({owner:e,primitiveType:a._primitiveType})),i.vertexArray=t,i.renderState=e._renderState,i.shaderProgram=e._sp,i.uniformMap=u,i.pass=m["a"].TERRAIN_CLASSIFICATION,i.pickId="czm_batchTable_pickColor(v_endPlaneNormalEcAndBatchId.w)";const n=p["a"].shallowClone(i,i.derivedCommands.tileset);n.renderState=e._renderState3DTiles,n.pass=m["a"].CESIUM_3D_TILE_CLASSIFICATION,i.derivedCommands.tileset=n;const o=p["a"].shallowClone(i,i.derivedCommands.color2D);o.shaderProgram=e._sp2D,i.derivedCommands.color2D=o;const c=p["a"].shallowClone(n,n.derivedCommands.color2D);c.shaderProgram=e._sp2D,n.derivedCommands.color2D=c;const h=p["a"].shallowClone(i,i.derivedCommands.colorMorph);h.renderState=e._renderStateMorph,h.shaderProgram=e._spMorph,h.pickId="czm_batchTable_pickColor(v_batchId)",i.derivedCommands.colorMorph=h}}function k(e,t,i,n,r,o,a){i.mode===j["a"].MORPHING?t=t.derivedCommands.colorMorph:i.mode!==j["a"].SCENE3D&&(t=t.derivedCommands.color2D),t.modelMatrix=n,t.boundingVolume=o,t.cull=r,t.debugShowBoundingVolume=a,i.commandList.push(t)}function N(e,t,i,n,r,o,a){const c=e._primitive;let h;T["a"]._updateBoundingVolumes(c,t,r),t.mode===j["a"].SCENE3D?h=c._boundingSphereWC:t.mode===j["a"].COLUMBUS_VIEW?h=c._boundingSphereCV:t.mode===j["a"].SCENE2D&&Object(s["a"])(c._boundingSphere2D)?h=c._boundingSphere2D:Object(s["a"])(c._boundingSphereMorph)&&(h=c._boundingSphereMorph);const d=t.mode===j["a"].MORPHING,u=e.classificationType,l=u!==w["a"].CESIUM_3D_TILE,p=u!==w["a"].TERRAIN&&!d;let m;const _=t.passes;if(_.render||_.pick&&c.allowPicking){const n=i.length;for(let s=0;s<n;++s){const n=h[s];l&&(m=i[s],k(e,m,t,r,o,n,a)),p&&(m=i[s].derivedCommands.tileset,k(e,m,t,r,o,n,a))}}}Object.defineProperties(M.prototype,{interleave:{get:function(){return this._primitiveOptions.interleave}},releaseGeometryInstances:{get:function(){return this._primitiveOptions.releaseGeometryInstances}},allowPicking:{get:function(){return this._primitiveOptions.allowPicking}},asynchronous:{get:function(){return this._primitiveOptions.asynchronous}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},debugShowShadowVolume:{get:function(){return this._debugShowShadowVolume}}}),M.initializeTerrainHeights=function(){return n["a"].initialize()},M.prototype.update=function(e){if(!Object(s["a"])(this._primitive)&&!Object(s["a"])(this.geometryInstances))return;if(!n["a"].initialized){if(!this.asynchronous)throw new h["a"]("For synchronous GroundPolylinePrimitives, you must call GroundPolylinePrimitives.initializeTerrainHeights() and wait for the returned promise to resolve.");return void M.initializeTerrainHeights()}let t;const i=this,o=this._primitiveOptions;if(!Object(s["a"])(this._primitive)){const n=Array.isArray(this.geometryInstances)?this.geometryInstances:[this.geometryInstances],a=n.length,c=new Array(a);let h;for(t=0;t<a;++t)if(h=n[t].attributes,!Object(s["a"])(h)||!Object(s["a"])(h.color)){this._hasPerInstanceColors=!1;break}for(t=0;t<a;++t){const o=n[t];h={};const a=o.attributes;for(const e in a)a.hasOwnProperty(e)&&(h[e]=a[e]);Object(s["a"])(h.width)||(h.width=new u["a"]({componentDatatype:r["a"].UNSIGNED_BYTE,componentsPerAttribute:1,value:[o.geometry.width]})),o.geometry._scene3DOnly=e.scene3DOnly,l["a"].setProjectionAndEllipsoid(o.geometry,e.mapProjection),c[t]=new d["a"]({geometry:o.geometry,attributes:h,id:o.id,pickPrimitive:i})}o.geometryInstances=c,o.appearance=this.appearance,o._createShaderProgramFunction=function(e,t,n){A(i,t,n)},o._createCommandsFunction=function(e,t,n,r,o,a,s){H(i,t,n,r,a,s)},o._updateAndQueueCommandsFunction=function(e,t,n,r,o,a,s,c){N(i,t,n,r,o,a,s)},this._primitive=new T["a"](o),this._primitive.readyPromise.then((function(e){i._ready=!0,i.releaseGeometryInstances&&(i.geometryInstances=void 0);const t=e._error;Object(s["a"])(t)?i._readyPromise.reject(t):i._readyPromise.resolve(i)}))}if(this.appearance instanceof C["a"]&&!this._hasPerInstanceColors)throw new h["a"]("All GeometryInstances must have color attributes to use PolylineColorAppearance with GroundPolylinePrimitive.");this._primitive.appearance=this.appearance,this._primitive.show=this.show,this._primitive.debugShowBoundingVolume=this.debugShowBoundingVolume,this._primitive.update(e)},M.prototype.getGeometryInstanceAttributes=function(e){if(!Object(s["a"])(this._primitive))throw new h["a"]("must call update before calling getGeometryInstanceAttributes");return this._primitive.getGeometryInstanceAttributes(e)},M.isSupported=function(e){return e.frameState.context.depthTexture},M.prototype.isDestroyed=function(){return!1},M.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),this._sp=this._sp&&this._sp.destroy(),this._sp2D=void 0,this._spMorph=void 0,Object(c["a"])(this)},t["a"]=M}}]);