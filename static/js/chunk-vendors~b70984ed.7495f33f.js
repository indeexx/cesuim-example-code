(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~b70984ed"],{"08a9":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var a=i("c937"),n=i("a3b5");function r(e,t){const i=e.metadataExtension;if(!Object(a["a"])(i))return;const r=i.groups,o=Object(n["a"])(t,"3DTILES_metadata")?t.extensions["3DTILES_metadata"].group:t.group;if("number"===typeof o)return r[o];const s=i.groupIds.findIndex((function(e){return e===o}));return s>=0?r[s]:void 0}},"0959":function(e,t,i){"use strict";var a=i("ae9b");function n(e,t,i){a["a"].typeOf.string("samplerUniformName",e),a["a"].typeOf.string("matrixUniformName",t),a["a"].typeOf.string("styleUniformName",i);const n=`    float clipDistance = clip(gl_FragCoord, ${e}, ${t}); \n    vec4 clippingPlanesEdgeColor = vec4(1.0); \n    clippingPlanesEdgeColor.rgb = ${i}.rgb; \n    float clippingPlanesEdgeWidth = ${i}.a; \n    if (clipDistance > 0.0 && clipDistance < clippingPlanesEdgeWidth) \n    { \n        gl_FragColor = clippingPlanesEdgeColor;\n    } \n`;return n}t["a"]=n},"1aeb":function(e,t,i){"use strict";var a=i("85b2"),n=i("ae9b"),r=i("bd5e");const o=new a["a"];function s(e,t){n["a"].typeOf.object("clippingPlaneCollection",e),n["a"].typeOf.object("context",t);const i=e.unionClippingRegions,a=e.length,s=r["a"].useFloatTexture(t),m=r["a"].getTextureResolution(e,t,o),f=m.x,d=m.y;let p=s?h(f,d):u(f,d);return p+="\n",p+=i?c(a):l(a),p}function c(e){const t=`float clip(vec4 fragCoord, sampler2D clippingPlanes, mat4 clippingPlanesMatrix)\n{\n    vec4 position = czm_windowToEyeCoordinates(fragCoord);\n    vec3 clipNormal = vec3(0.0);\n    vec3 clipPosition = vec3(0.0);\n    float clipAmount;\n    float pixelWidth = czm_metersPerPixel(position);\n    bool breakAndDiscard = false;\n    for (int i = 0; i < ${e}; ++i)\n    {\n        vec4 clippingPlane = getClippingPlane(clippingPlanes, i, clippingPlanesMatrix);\n        clipNormal = clippingPlane.xyz;\n        clipPosition = -clippingPlane.w * clipNormal;\n        float amount = dot(clipNormal, (position.xyz - clipPosition)) / pixelWidth;\n        clipAmount = czm_branchFreeTernary(i == 0, amount, min(amount, clipAmount));\n        if (amount <= 0.0)\n        {\n           breakAndDiscard = true;\n           break;\n        }\n    }\n    if (breakAndDiscard) {\n        discard;\n    }\n    return clipAmount;\n}\n`;return t}function l(e){const t=`float clip(vec4 fragCoord, sampler2D clippingPlanes, mat4 clippingPlanesMatrix)\n{\n    bool clipped = true;\n    vec4 position = czm_windowToEyeCoordinates(fragCoord);\n    vec3 clipNormal = vec3(0.0);\n    vec3 clipPosition = vec3(0.0);\n    float clipAmount = 0.0;\n    float pixelWidth = czm_metersPerPixel(position);\n    for (int i = 0; i < ${e}; ++i)\n    {\n        vec4 clippingPlane = getClippingPlane(clippingPlanes, i, clippingPlanesMatrix);\n        clipNormal = clippingPlane.xyz;\n        clipPosition = -clippingPlane.w * clipNormal;\n        float amount = dot(clipNormal, (position.xyz - clipPosition)) / pixelWidth;\n        clipAmount = max(amount, clipAmount);\n        clipped = clipped && (amount <= 0.0);\n    }\n    if (clipped)\n    {\n        discard;\n    }\n    return clipAmount;\n}\n`;return t}function h(e,t){const i=1/e,a=1/t;let n=""+i;-1===n.indexOf(".")&&(n+=".0");let r=""+a;-1===r.indexOf(".")&&(r+=".0");const o=`vec4 getClippingPlane(highp sampler2D packedClippingPlanes, int clippingPlaneNumber, mat4 transform)\n{\n    int pixY = clippingPlaneNumber / ${e};\n    int pixX = clippingPlaneNumber - (pixY * ${e});\n    float u = (float(pixX) + 0.5) * ${n};\n    float v = (float(pixY) + 0.5) * ${r};\n    vec4 plane = texture2D(packedClippingPlanes, vec2(u, v));\n    return czm_transformPlane(plane, transform);\n}\n`;return o}function u(e,t){const i=1/e,a=1/t;let n=""+i;-1===n.indexOf(".")&&(n+=".0");let r=""+a;-1===r.indexOf(".")&&(r+=".0");const o=`vec4 getClippingPlane(highp sampler2D packedClippingPlanes, int clippingPlaneNumber, mat4 transform)\n{\n    int clippingPlaneStartIndex = clippingPlaneNumber * 2;\n    int pixY = clippingPlaneStartIndex / ${e};\n    int pixX = clippingPlaneStartIndex - (pixY * ${e});\n    float u = (float(pixX) + 0.5) * ${n};\n    float v = (float(pixY) + 0.5) * ${r};\n    vec4 oct32 = texture2D(packedClippingPlanes, vec2(u, v)) * 255.0;\n    vec2 oct = vec2(oct32.x * 256.0 + oct32.y, oct32.z * 256.0 + oct32.w);\n    vec4 plane;\n    plane.xyz = czm_octDecode(oct, 65535.0);\n    plane.w = czm_unpackFloat(texture2D(packedClippingPlanes, vec2(u + ${n}, v)));\n    return czm_transformPlane(plane, transform);\n}\n`;return o}t["a"]=s},"1b31":function(e,t,i){"use strict";var a=i("6b82"),n=i("b8b5"),r=i("ae9b"),o=i("4051"),s=i("1a5d"),c=i("c937"),l=i("e2a6"),h=i("7f00"),u=i("0238"),m=i("1494"),f=i("4d68"),d=i("1a75"),p=i("50de"),g=i("518b"),b=i("2189"),_=i("46bd");const y=new o["a"],v=new o["a"],O=new o["a"],P=new o["a"],j=new a["a"],w=new Uint8Array(4);function x(e,t,i,a){const n=t.height===i.height?0:(e-t.height)/(i.height-t.height);return o["a"].lerp(t.color,i.color,n,a)}function C(e,t){return{height:e,color:o["a"].clone(t)}}function F(e){return e=e.filter((function(e,t,i){const a=t>0,n=t<i.length-1,r=!a||e.height===i[t-1].height,o=!n||e.height===i[t+1].height,s=!r||!o;return s})),e=e.filter((function(e,t,i){const a=t>0,n=t<i.length-1,r=!!a&&o["a"].equals(e.color,i[t-1].color),s=!!n&&o["a"].equals(e.color,i[t+1].color),c=!r||!s;return c})),e=e.filter((function(e,t,i){const a=t>0,n=!!a&&o["a"].equals(e.color,i[t-1].color),r=!a||e.height===i[t-1].height,s=!n||!r;return s})),e}function M(e){let t,i;const a=[],r=e.length;for(t=0;t<r;t++){const r=e[t],u=r.entries,m=u.length;if(!Array.isArray(u)||0===m)throw new l["a"]("entries must be an array with size > 0.");let f=[];for(i=0;i<m;i++){const e=u[i];if(!Object(c["a"])(e.height))throw new l["a"]("entry requires a height.");if(!Object(c["a"])(e.color))throw new l["a"]("entry requires a color.");const t=n["a"].clamp(e.height,S._minimumHeight,S._maximumHeight),a=o["a"].clone(e.color,y);a.red*=a.alpha,a.green*=a.alpha,a.blue*=a.alpha,f.push(C(t,a))}let d=!0,p=!0;for(i=0;i<m-1;i++){const e=f[i+0],t=f[i+1];d=d&&e.height<=t.height,p=p&&e.height>=t.height}p?f=f.reverse():d||Object(h["a"])(f,(function(e,t){return n["a"].sign(e.height-t.height)}));let g=Object(s["a"])(r.extendDownwards,!1),b=Object(s["a"])(r.extendUpwards,!1);1!==f.length||g||b||(g=!0,b=!0),g&&f.splice(0,0,C(S._minimumHeight,f[0].color)),b&&f.splice(f.length,0,C(S._maximumHeight,f[f.length-1].color)),f=F(f),a.push(f)}return a}function E(e){const t=M(e);let i,a=[],n=[];function r(e,t){a.push(C(e,t))}function s(e,t,i){let a=o["a"].multiplyByScalar(i,1-t.alpha,P);a=o["a"].add(a,t,a),r(e,a)}const l=t.length;for(i=0;i<l;i++){const e=t[i];let o=0,l=0;n=a,a=[];const h=e.length,u=n.length;while(o<h||l<u){const t=o<h?e[o]:void 0,i=o>0?e[o-1]:void 0,a=o<h-1?e[o+1]:void 0,m=l<u?n[l]:void 0,f=l>0?n[l-1]:void 0,d=l<u-1?n[l+1]:void 0;if(Object(c["a"])(t)&&Object(c["a"])(m)&&t.height===m.height){const e=Object(c["a"])(d)&&m.height===d.height,n=!Object(c["a"])(f),h=!Object(c["a"])(d),u=Object(c["a"])(a)&&t.height===a.height,p=!Object(c["a"])(i),g=!Object(c["a"])(a);e?u?(s(t.height,t.color,m.color),s(t.height,a.color,d.color)):p?(r(t.height,m.color),s(t.height,t.color,d.color)):g?(s(t.height,t.color,m.color),r(t.height,d.color)):(s(t.height,t.color,m.color),s(t.height,t.color,d.color)):n?u?(r(t.height,t.color),s(t.height,a.color,m.color)):g?(r(t.height,t.color),r(t.height,m.color)):(p||r(t.height,t.color),s(t.height,t.color,m.color)):h?u?(s(t.height,t.color,m.color),r(t.height,a.color)):p?(r(t.height,m.color),r(t.height,t.color)):g?s(t.height,t.color,m.color):(s(t.height,t.color,m.color),r(t.height,t.color)):u?(s(t.height,t.color,m.color),s(t.height,a.color,m.color)):p?(r(t.height,m.color),s(t.height,t.color,m.color)):g?(s(t.height,t.color,m.color),r(t.height,m.color)):s(t.height,t.color,m.color),o+=u?2:1,l+=e?2:1}else if(Object(c["a"])(t)&&Object(c["a"])(m)&&Object(c["a"])(f)&&t.height<m.height){const e=x(t.height,f,m,O);Object(c["a"])(i)?Object(c["a"])(a)?s(t.height,t.color,e):(s(t.height,t.color,e),r(t.height,e)):(r(t.height,e),s(t.height,t.color,e)),o++}else if(Object(c["a"])(m)&&Object(c["a"])(t)&&Object(c["a"])(i)&&m.height<t.height){const e=x(m.height,i,t,v);Object(c["a"])(f)?Object(c["a"])(d)?s(m.height,e,m.color):(s(m.height,e,m.color),r(m.height,e)):(r(m.height,e),s(m.height,e,m.color)),l++}else Object(c["a"])(t)&&(!Object(c["a"])(m)||t.height<m.height)?(!Object(c["a"])(m)||Object(c["a"])(f)||Object(c["a"])(a)?(Object(c["a"])(m)||!Object(c["a"])(f)||Object(c["a"])(i)||(r(f.height,S._emptyColor),r(t.height,S._emptyColor)),r(t.height,t.color)):(r(t.height,t.color),r(t.height,S._emptyColor),r(m.height,S._emptyColor)),o++):Object(c["a"])(m)&&(!Object(c["a"])(t)||m.height<t.height)&&(r(m.height,m.color),l++)}}const h=F(a);return h}function S(e){e=Object(s["a"])(e,s["a"].EMPTY_OBJECT);const t=e.scene,i=e.layers;r["a"].typeOf.object("options.scene",t),r["a"].defined("options.layers",i),r["a"].typeOf.number.greaterThan("options.layers.length",i.length,0);const n=E(i),o=n.length;let c,l,h,y;const v=!S._useFloatTexture(t.context);if(v)for(h=m["a"].UNSIGNED_BYTE,y=u["a"].RGBA,l=new Uint8Array(4*o),c=0;c<o;c++)a["a"].packFloat(n[c].height,j),a["a"].pack(j,l,4*c);else for(h=m["a"].FLOAT,y=u["a"].LUMINANCE,l=new Float32Array(o),c=0;c<o;c++)l[c]=n[c].height;const O=d["a"].create({context:t.context,pixelFormat:y,pixelDatatype:h,source:{arrayBufferView:l,width:o,height:1},sampler:new f["a"]({wrapS:b["a"].CLAMP_TO_EDGE,wrapT:b["a"].CLAMP_TO_EDGE,minificationFilter:g["a"].NEAREST,magnificationFilter:p["a"].NEAREST})}),P=new Uint8Array(4*o);for(c=0;c<o;c++){const e=n[c].color;e.toBytes(w),P[4*c+0]=w[0],P[4*c+1]=w[1],P[4*c+2]=w[2],P[4*c+3]=w[3]}const x=d["a"].create({context:t.context,pixelFormat:u["a"].RGBA,pixelDatatype:m["a"].UNSIGNED_BYTE,source:{arrayBufferView:P,width:o,height:1},sampler:new f["a"]({wrapS:b["a"].CLAMP_TO_EDGE,wrapT:b["a"].CLAMP_TO_EDGE,minificationFilter:g["a"].LINEAR,magnificationFilter:p["a"].LINEAR})}),C=_["a"].fromType("ElevationBand",{heights:O,colors:x});return C}S._useFloatTexture=function(e){return e.floatingPointTexture},S._maximumHeight=5906376425472,S._minimumHeight=-5906376425472,S._emptyColor=new o["a"](0,0,0,0)},"2ede":function(e,t,i){"use strict";var a=i("2fad"),n=i("3736"),r=i("1a5d"),o=i("c937"),s=i("e2a6"),c=i("f7b5"),l=i("4a63"),h=i("9f38"),u=i("c7de"),m=i("e956"),f=i("9994");const d=Object.freeze({service:"WMTS",version:"1.0.0",request:"GetTile"});function p(e){if(e=Object(r["a"])(e,r["a"].EMPTY_OBJECT),!Object(o["a"])(e.url))throw new s["a"]("options.url is required.");if(!Object(o["a"])(e.layer))throw new s["a"]("options.layer is required.");if(!Object(o["a"])(e.style))throw new s["a"]("options.style is required.");if(!Object(o["a"])(e.tileMatrixSetID))throw new s["a"]("options.tileMatrixSetID is required.");if(Object(o["a"])(e.times)&&!Object(o["a"])(e.clock))throw new s["a"]("options.times was specified, so options.clock is required.");this.defaultAlpha=void 0,this.defaultNightAlpha=void 0,this.defaultDayAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0;const t=h["a"].createIfNeeded(e.url),i=e.style,a=e.tileMatrixSetID,m=t.url,p=m.match(/{/g);if(!Object(o["a"])(p)||1===p.length&&/{s}/.test(m))t.setQueryParameters(d),this._useKvp=!0;else{const e={style:i,Style:i,TileMatrixSet:a};t.setTemplateValues(e),this._useKvp=!1}this._resource=t,this._layer=e.layer,this._style=i,this._tileMatrixSetID=a,this._tileMatrixLabels=e.tileMatrixLabels,this._format=Object(r["a"])(e.format,"image/jpeg"),this._tileDiscardPolicy=e.tileDiscardPolicy,this._tilingScheme=Object(o["a"])(e.tilingScheme)?e.tilingScheme:new u["a"]({ellipsoid:e.ellipsoid}),this._tileWidth=Object(r["a"])(e.tileWidth,256),this._tileHeight=Object(r["a"])(e.tileHeight,256),this._minimumLevel=Object(r["a"])(e.minimumLevel,0),this._maximumLevel=e.maximumLevel,this._rectangle=Object(r["a"])(e.rectangle,this._tilingScheme.rectangle),this._dimensions=e.dimensions;const b=this;this._reload=void 0,Object(o["a"])(e.times)&&(this._timeDynamicImagery=new f["a"]({clock:e.clock,times:e.times,requestImageFunction:function(e,t,i,a,n){return g(b,e,t,i,a,n)},reloadFunction:function(){Object(o["a"])(b._reload)&&b._reload()}})),this._readyPromise=Promise.resolve(!0);const _=this._tilingScheme.positionToTileXY(l["a"].southwest(this._rectangle),this._minimumLevel),y=this._tilingScheme.positionToTileXY(l["a"].northeast(this._rectangle),this._minimumLevel),v=(Math.abs(y.x-_.x)+1)*(Math.abs(y.y-_.y)+1);if(v>4)throw new s["a"](`The imagery provider's rectangle and minimumLevel indicate that there are ${v} tiles at the minimum level. Imagery providers with more than four tiles at the minimum level are not supported.`);this._errorEvent=new c["a"];const O=e.credit;this._credit="string"===typeof O?new n["a"](O):O,this._subdomains=e.subdomains,Array.isArray(this._subdomains)?this._subdomains=this._subdomains.slice():Object(o["a"])(this._subdomains)&&this._subdomains.length>0?this._subdomains=this._subdomains.split(""):this._subdomains=["a","b","c"]}function g(e,t,i,n,r,s){const c=e._tileMatrixLabels,l=Object(o["a"])(c)?c[n]:n.toString(),h=e._subdomains,u=e._dimensions,f=Object(o["a"])(s)?s.data:void 0;let d,p;if(e._useKvp){let s={};s.tilematrix=l,s.layer=e._layer,s.style=e._style,s.tilerow=i,s.tilecol=t,s.tilematrixset=e._tileMatrixSetID,s.format=e._format,Object(o["a"])(u)&&(s=Object(a["a"])(s,u)),Object(o["a"])(f)&&(s=Object(a["a"])(s,f)),p={s:h[(t+i+n)%h.length]},d=e._resource.getDerivedResource({queryParameters:s,request:r}),d.setTemplateValues(p)}else p={TileMatrix:l,TileRow:i.toString(),TileCol:t.toString(),s:h[(t+i+n)%h.length]},d=e._resource.getDerivedResource({request:r}),d.setTemplateValues(p),Object(o["a"])(u)&&d.setTemplateValues(u),Object(o["a"])(f)&&d.setTemplateValues(f);return m["a"].loadImage(e,d)}Object.defineProperties(p.prototype,{url:{get:function(){return this._resource.url}},proxy:{get:function(){return this._resource.proxy}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return this._maximumLevel}},minimumLevel:{get:function(){return this._minimumLevel}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._rectangle}},tileDiscardPolicy:{get:function(){return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},format:{get:function(){return this._format}},ready:{value:!0},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!0}},clock:{get:function(){return this._timeDynamicImagery.clock},set:function(e){this._timeDynamicImagery.clock=e}},times:{get:function(){return this._timeDynamicImagery.times},set:function(e){this._timeDynamicImagery.times=e}},dimensions:{get:function(){return this._dimensions},set:function(e){this._dimensions!==e&&(this._dimensions=e,Object(o["a"])(this._reload)&&this._reload())}}}),p.prototype.getTileCredits=function(e,t,i){},p.prototype.requestImage=function(e,t,i,a){let n;const r=this._timeDynamicImagery;let s;return Object(o["a"])(r)&&(s=r.currentInterval,n=r.getFromCache(e,t,i,a)),Object(o["a"])(n)||(n=g(this,e,t,i,a,s)),Object(o["a"])(n)&&Object(o["a"])(r)&&r.checkApproachingInterval(e,t,i,a),n},p.prototype.pickFeatures=function(e,t,i,a,n){},t["a"]=p},"448a":function(e,t,i){"use strict";i("ed17"),i("1a5d"),i("c937"),i("e2a6"),i("e8ff"),i("f6fe"),i("722e"),i("1f21"),i("5769")},"6e1c":function(e,t,i){"use strict";var a=i("1a5d"),n=i("c03d"),r=i("79e4");function o(e){e=Object(a["a"])(e,a["a"].EMPTY_OBJECT);const t=Object(a["a"])(e.style,r["a"].AERIAL);return new n["a"]({assetId:t})}t["a"]=o},"7c72":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var a=i("c937"),n=i("a3b5"),r=i("d73a");function o(e,t){const i=Object(n["a"])(t,"3DTILES_metadata")?t.extensions["3DTILES_metadata"]:t.metadata;if(!Object(a["a"])(i))return;const o=e.schema.classes;if(Object(a["a"])(i.class)){const e=o[i.class];return new r["a"]({tile:i,class:e})}}},"91d3":function(e,t,i){"use strict";var a=i("c937"),n=i("4a63"),r=i("eaa4"),o=i("dc6c");function s(e,t){const i=t.terrainProvider,r=t.mapProjection,c=r.ellipsoid;let l;const h=t.camera.getRectangleCameraCoordinates(e);return l=t.mode===o["a"].SCENE3D?c.cartesianToCartographic(h):r.unproject(h),Object(a["a"])(i)?i.readyPromise.then((function(){const r=i.availability;if(!Object(a["a"])(r)||t.mode===o["a"].SCENE2D)return l;const c=[n["a"].center(e),n["a"].southeast(e),n["a"].southwest(e),n["a"].northeast(e),n["a"].northwest(e)];return s._sampleTerrainMostDetailed(i,c).then((function(e){const t=e.reduce((function(e,t){return Math.max(t.height,e)}),-Number.MAX_VALUE),i=l;return i.height+=t,i}))})):Promise.resolve(l)}s._sampleTerrainMostDetailed=r["a"],t["a"]=s},9965:function(e,t,i){"use strict";function a(e,t,i,a,n){return function(){const r=document.createElement("canvas"),o=n+2*a;r.height=r.width=o;const s=r.getContext("2d");return s.clearRect(0,0,o,o),0!==a&&(s.beginPath(),s.arc(o/2,o/2,o/2,0,2*Math.PI,!0),s.closePath(),s.fillStyle=i,s.fill(),e<1&&(s.save(),s.globalCompositeOperation="destination-out",s.beginPath(),s.arc(o/2,o/2,n/2,0,2*Math.PI,!0),s.closePath(),s.fillStyle="black",s.fill(),s.restore())),s.beginPath(),s.arc(o/2,o/2,n/2,0,2*Math.PI,!0),s.closePath(),s.fillStyle=t,s.fill(),r}}t["a"]=a},a3b5:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var a=i("c937");function n(e,t){return Object(a["a"])(e)&&Object(a["a"])(e.extensions)&&Object(a["a"])(e.extensions[t])}},acb4:function(e,t,i){"use strict";var a=i("6af0"),n=i("4051"),r=i("c937"),o=i("21b7"),s=i("e2a6"),c=i("51f2"),l=i("5027"),h=i("b3ce"),u=i("82db"),m=i("da23"),f=i("46bd");function d(e,t){this.show=!0,Object(r["a"])(e)||(e=new a["a"]),this.rectangle=a["a"].clone(e),Object(r["a"])(t)||(t=f["a"].fromType(f["a"].ColorType,{color:new n["a"](1,1,1,1)})),this.material=t,this._material=void 0,this._overlayCommand=void 0,this._rs=void 0}d.prototype.update=function(e){if(!this.show)return;if(!Object(r["a"])(this.material))throw new s["a"]("this.material must be defined.");if(!Object(r["a"])(this.rectangle))throw new s["a"]("this.rectangle must be defined.");const t=this._rs;Object(r["a"])(t)&&a["a"].equals(t.viewport,this.rectangle)||(this._rs=l["a"].fromCache({blending:m["a"].ALPHA_BLEND,viewport:this.rectangle}));const i=e.passes;if(i.render){const t=e.context;if(this._material!==this.material||!Object(r["a"])(this._overlayCommand)){this._material=this.material,Object(r["a"])(this._overlayCommand)&&this._overlayCommand.shaderProgram.destroy();const e=new h["a"]({sources:[this._material.shaderSource,u["a"]]});this._overlayCommand=t.createViewportQuadCommand(e,{renderState:this._rs,uniformMap:this._material._uniforms,owner:this}),this._overlayCommand.pass=c["a"].OVERLAY}this._material.update(t),this._overlayCommand.renderState=this._rs,this._overlayCommand.uniformMap=this._material._uniforms,e.commandList.push(this._overlayCommand)}},d.prototype.isDestroyed=function(){return!1},d.prototype.destroy=function(){return Object(r["a"])(this._overlayCommand)&&(this._overlayCommand.shaderProgram=this._overlayCommand.shaderProgram&&this._overlayCommand.shaderProgram.destroy()),Object(o["a"])(this)}},bb49:function(e,t,i){"use strict";var a=i("6af0"),n=i("dde0"),r=i("c76f"),o=i("c937"),s=i("4b7f"),c=i("23d2"),l=i("b8b5"),h=i("722e"),u=i("a3c8"),m=i("51f2"),f=i("2992"),d=i("c70c"),p=i("f296"),g=i("36b6"),b=i("5aea"),_=i("c66a"),y=i("88fa"),v=i("075f"),O=i("c767"),P=i("dc6c"),j=i("47c8"),w=i("8ea8");function x(){this.command=void 0,this.near=void 0,this.far=void 0}function C(e,t,i){const n=e.context;let r,o;n.depthTexture&&(r=new g["a"]),e._useOIT&&n.depthTexture&&(o=new _["a"](n));const s=new f["a"](n);s.viewport=a["a"].clone(i),this.camera=t,this._cameraClone=d["a"].clone(t),this._cameraStartFired=!1,this._cameraMovedTime=void 0,this.viewport=i,this.passState=s,this.pickFramebuffer=new v["a"](n),this.pickDepthFramebuffer=new y["a"],this.sceneFramebuffer=new O["a"],this.globeDepth=r,this.globeTranslucencyFramebuffer=new b["a"],this.oit=o,this.translucentTileClassification=new w["a"](n),this.pickDepths=[],this.frustumCommandsList=[],this.debugFrustumStatistics=void 0,this._commandExtents=[]}const F=new n["a"],M=new n["a"];function E(e,t){const i=Math.max(Math.abs(e.x),Math.abs(t.x)),a=Math.max(Math.abs(e.y),Math.abs(t.y)),n=Math.max(Math.abs(e.z),Math.abs(t.z));return Math.max(Math.max(i,a),n)}function S(e,t,i){const a=1/Math.max(1,E(e.position,t.position));return n["a"].multiplyByScalar(e.position,a,F),n["a"].multiplyByScalar(t.position,a,M),n["a"].equalsEpsilon(F,M,i)&&n["a"].equalsEpsilon(e.direction,t.direction,i)&&n["a"].equalsEpsilon(e.up,t.up,i)&&n["a"].equalsEpsilon(e.right,t.right,i)&&h["a"].equalsEpsilon(e.transform,t.transform,i)&&e.frustum.equalsEpsilon(t.frustum,i)}function D(e,t,i,a){const n=t.frameState,r=n.camera,s=n.useLogDepth?t.logarithmicDepthFarToNearRatio:t.farToNearRatio,c=t.mode===P["a"].SCENE2D,h=t.nearToFarDistance2D;let u;a*=1+l["a"].EPSILON2,i=Math.min(Math.max(i,r.frustum.near),r.frustum.far),a=Math.max(Math.min(a,r.frustum.far),i),c?(a=Math.min(a,r.position.z+t.nearToFarDistance2D),i=Math.min(i,a),u=Math.ceil(Math.max(1,a-i)/t.nearToFarDistance2D)):u=Math.ceil(Math.log(a/i)/Math.log(s));const m=e.frustumCommandsList;m.length=u;for(let l=0;l<u;++l){let e,t;c?(e=Math.min(a-h,i+l*h),t=Math.min(a,e+h)):(e=Math.max(i,Math.pow(s,l)*i),t=Math.min(a,s*e));let n=m[l];Object(o["a"])(n)?(n.near=e,n.far=t):n=m[l]=new p["a"](e,t)}}function T(e,t,i,a,n){t.debugShowFrustums&&(i.debugOverlappingFrustums=0);const r=e.frustumCommandsList,s=r.length;for(let o=0;o<s;++o){const e=r[o],s=e.near,c=e.far;if(a>c)continue;if(n<s)break;const l=i.pass,h=e.indices[l]++;if(e.commands[l][h]=i,t.debugShowFrustums&&(i.debugOverlappingFrustums|=1<<o),i.executeInClosestFrustum)break}if(t.debugShowFrustums){const t=e.debugFrustumStatistics.commandsInFrustums;t[i.debugOverlappingFrustums]=Object(o["a"])(t[i.debugOverlappingFrustums])?t[i.debugOverlappingFrustums]+1:1,++e.debugFrustumStatistics.totalCommands}t.updateDerivedCommands(i)}C.prototype.checkForCameraUpdates=function(e){const t=this.camera,i=this._cameraClone;return S(t,i,l["a"].EPSILON15)?(this._cameraStartFired&&Object(s["a"])()-this._cameraMovedTime>e.cameraEventWaitTime&&(t.moveEnd.raiseEvent(),this._cameraStartFired=!1),!1):(this._cameraStartFired||(t.moveStart.raiseEvent(),this._cameraStartFired=!0),this._cameraMovedTime=Object(s["a"])(),d["a"].clone(t,i),!0)};const A=new r["a"],I=new c["a"];C.prototype.createPotentiallyVisibleSet=function(e){const t=e.frameState,i=t.camera,a=i.directionWC,n=i.positionWC,r=e._computeCommandList,s=e._overlayCommandList,c=t.commandList;e.debugShowFrustums&&(this.debugFrustumStatistics={totalCommands:0,commandsInFrustums:{}});const l=this.frustumCommandsList,h=l.length,f=m["a"].NUMBER_OF_PASSES;for(let o=0;o<h;++o)for(let e=0;e<f;++e)l[o].indices[e]=0;r.length=0,s.length=0;const d=this._commandExtents,p=d.length;let g=0,b=+Number.MAX_VALUE,_=-Number.MAX_VALUE;const y=t.shadowState.shadowsEnabled;let v=+Number.MAX_VALUE,O=-Number.MAX_VALUE,w=Number.MAX_VALUE;const C=t.mode===P["a"].SCENE3D?t.occluder:void 0;let F=t.cullingVolume;const M=A.planes;for(let o=0;o<5;++o)M[o]=F.planes[o];F=A;const E=c.length;for(let P=0;P<E;++P){const t=c[P],l=t.pass;if(l===m["a"].COMPUTE)r.push(t);else if(l===m["a"].OVERLAY)s.push(t);else{let r,s;const c=t.boundingVolume;if(Object(o["a"])(c)){if(!e.isVisible(t,F,C))continue;const i=c.computePlaneDistances(n,a,I);if(r=i.start,s=i.stop,b=Math.min(b,r),_=Math.max(_,s),y&&t.receiveShadows&&r<j["a"].MAXIMUM_DISTANCE&&!(l===m["a"].GLOBE&&r<-100&&s>100)){const e=s-r;l!==m["a"].GLOBE&&r<100&&(w=Math.min(w,e)),v=Math.min(v,r),O=Math.max(O,s)}}else t instanceof u["a"]?(r=i.frustum.near,s=i.frustum.far):(r=i.frustum.near,s=i.frustum.far,b=Math.min(b,r),_=Math.max(_,s));let h=d[g];Object(o["a"])(h)||(h=d[g]=new x),h.command=t,h.near=r,h.far=s,g++}}let S,L;for(y&&(v=Math.min(Math.max(v,i.frustum.near),i.frustum.far),O=Math.max(Math.min(O,i.frustum.far),v)),y&&(t.shadowState.nearPlane=v,t.shadowState.farPlane=O,t.shadowState.closestObjectSize=w),D(this,e,b,_),S=0;S<g;S++)L=d[S],T(this,e,L.command,L.near,L.far);if(g<p)for(S=g;S<p;S++){if(L=d[S],!Object(o["a"])(L.command))break;L.command=void 0}const k=l.length,N=t.frustumSplits;N.length=k+1;for(let o=0;o<k;++o)N[o]=l[o].near,o===k-1&&(N[o+1]=l[o].far)},C.prototype.destroy=function(){let e;this.pickFramebuffer=this.pickFramebuffer&&this.pickFramebuffer.destroy(),this.pickDepthFramebuffer=this.pickDepthFramebuffer&&this.pickDepthFramebuffer.destroy(),this.sceneFramebuffer=this.sceneFramebuffer&&this.sceneFramebuffer.destroy(),this.globeDepth=this.globeDepth&&this.globeDepth.destroy(),this.oit=this.oit&&this.oit.destroy(),this.translucentTileClassification=this.translucentTileClassification&&this.translucentTileClassification.destroy(),this.globeTranslucencyFramebuffer=this.globeTranslucencyFramebuffer&&this.globeTranslucencyFramebuffer.destroy();const t=this.pickDepths,i=t.length;for(e=0;e<i;++e)t[e].destroy()},t["a"]=C},bbab:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var a=i("bf02"),n=i("c937"),r=i("a3b5");function o(e,t){const i=Object(r["a"])(t,"3DTILES_metadata")?t.extensions["3DTILES_metadata"]:t.metadata;if(!Object(n["a"])(i))return;const o=e.schema.classes;if(Object(n["a"])(i.class)){const e=o[i.class];return new a["a"]({content:i,class:e})}}},c3ad:function(e,t,i){"use strict";i("4051"),i("2fad"),i("1a5d"),i("c937"),i("2fa4"),i("9a57"),i("8286")},cd1d:function(e,t,i){"use strict";var a=i("1a5d"),n=i("c937"),r=i("e2a6"),o=i("2dd3"),s=i("9f38"),c=i("5be5"),l=i("2098"),h=i("9994"),u=i("7d99");const m=[3034,3035,3042,3043,3044],f=[4471,4559];function d(e){if(e=Object(a["a"])(e,a["a"].EMPTY_OBJECT),!Object(n["a"])(e.url))throw new r["a"]("options.url is required.");if(!Object(n["a"])(e.layers))throw new r["a"]("options.layers is required.");if(Object(n["a"])(e.times)&&!Object(n["a"])(e.clock))throw new r["a"]("options.times was specified, so options.clock is required.");this.defaultAlpha=void 0,this.defaultNightAlpha=void 0,this.defaultDayAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0,this._getFeatureInfoUrl=Object(a["a"])(e.getFeatureInfoUrl,e.url);const t=s["a"].createIfNeeded(e.url),i=s["a"].createIfNeeded(this._getFeatureInfoUrl);t.setQueryParameters(d.DefaultParameters,!0),i.setQueryParameters(d.GetFeatureInfoDefaultParameters,!0),Object(n["a"])(e.parameters)&&t.setQueryParameters(b(e.parameters)),Object(n["a"])(e.getFeatureInfoParameters)&&i.setQueryParameters(b(e.getFeatureInfoParameters));const l=this;this._reload=void 0,Object(n["a"])(e.times)&&(this._timeDynamicImagery=new h["a"]({clock:e.clock,times:e.times,requestImageFunction:function(e,t,i,a,n){return p(l,e,t,i,a,n)},reloadFunction:function(){Object(n["a"])(l._reload)&&l._reload()}}));const g={};if(g.layers=e.layers,g.bbox="{westProjected},{southProjected},{eastProjected},{northProjected}",g.width="{width}",g.height="{height}",parseFloat(t.queryParameters.version)>=1.3){g.crs=Object(a["a"])(e.crs,e.tilingScheme&&e.tilingScheme.projection instanceof c["a"]?"EPSG:3857":"CRS:84");const t=g.crs.split(":");if("EPSG"===t[0]&&2===t.length){const e=Number(t[1]);(e>=4e3&&e<5e3&&!f.includes(e)||m.includes(e))&&(g.bbox="{southProjected},{westProjected},{northProjected},{eastProjected}")}}else g.srs=Object(a["a"])(e.srs,e.tilingScheme&&e.tilingScheme.projection instanceof c["a"]?"EPSG:3857":"EPSG:4326");t.setQueryParameters(g,!0),i.setQueryParameters(g,!0);const _={query_layers:e.layers,info_format:"{format}"};parseFloat(i.queryParameters.version)>=1.3?(_.i="{i}",_.j="{j}"):(_.x="{i}",_.y="{j}"),i.setQueryParameters(_,!0),this._resource=t,this._pickFeaturesResource=i,this._layers=e.layers,this._tileProvider=new u["a"]({url:t,pickFeaturesUrl:i,tilingScheme:Object(a["a"])(e.tilingScheme,new o["a"]({ellipsoid:e.ellipsoid})),rectangle:e.rectangle,tileWidth:e.tileWidth,tileHeight:e.tileHeight,minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,subdomains:e.subdomains,tileDiscardPolicy:e.tileDiscardPolicy,credit:e.credit,getFeatureInfoFormats:Object(a["a"])(e.getFeatureInfoFormats,d.DefaultGetFeatureInfoFormats),enablePickFeatures:e.enablePickFeatures})}function p(e,t,i,a,r,o){const s=Object(n["a"])(o)?o.data:void 0,c=e._tileProvider;return Object(n["a"])(s)&&c._resource.setQueryParameters(s),c.requestImage(t,i,a,r)}function g(e,t,i,a,r,o,s){const c=Object(n["a"])(s)?s.data:void 0,l=e._tileProvider;return Object(n["a"])(c)&&l._pickFeaturesResource.setQueryParameters(c),l.pickFeatures(t,i,a,r,o)}function b(e){const t={};for(const i in e)e.hasOwnProperty(i)&&(t[i.toLowerCase()]=e[i]);return t}Object.defineProperties(d.prototype,{url:{get:function(){return this._resource._url}},proxy:{get:function(){return this._resource.proxy}},layers:{get:function(){return this._layers}},tileWidth:{get:function(){return this._tileProvider.tileWidth}},tileHeight:{get:function(){return this._tileProvider.tileHeight}},maximumLevel:{get:function(){return this._tileProvider.maximumLevel}},minimumLevel:{get:function(){return this._tileProvider.minimumLevel}},tilingScheme:{get:function(){return this._tileProvider.tilingScheme}},rectangle:{get:function(){return this._tileProvider.rectangle}},tileDiscardPolicy:{get:function(){return this._tileProvider.tileDiscardPolicy}},errorEvent:{get:function(){return this._tileProvider.errorEvent}},ready:{get:function(){return this._tileProvider.ready}},readyPromise:{get:function(){return this._tileProvider.readyPromise}},credit:{get:function(){return this._tileProvider.credit}},hasAlphaChannel:{get:function(){return this._tileProvider.hasAlphaChannel}},enablePickFeatures:{get:function(){return this._tileProvider.enablePickFeatures},set:function(e){this._tileProvider.enablePickFeatures=e}},clock:{get:function(){return this._timeDynamicImagery.clock},set:function(e){this._timeDynamicImagery.clock=e}},times:{get:function(){return this._timeDynamicImagery.times},set:function(e){this._timeDynamicImagery.times=e}},getFeatureInfoUrl:{get:function(){return this._getFeatureInfoUrl}}}),d.prototype.getTileCredits=function(e,t,i){return this._tileProvider.getTileCredits(e,t,i)},d.prototype.requestImage=function(e,t,i,a){let r;const o=this._timeDynamicImagery;let s;return Object(n["a"])(o)&&(s=o.currentInterval,r=o.getFromCache(e,t,i,a)),Object(n["a"])(r)||(r=p(this,e,t,i,a,s)),Object(n["a"])(r)&&Object(n["a"])(o)&&o.checkApproachingInterval(e,t,i,a),r},d.prototype.pickFeatures=function(e,t,i,a,r){const o=this._timeDynamicImagery,s=Object(n["a"])(o)?o.currentInterval:void 0;return g(this,e,t,i,a,r,s)},d.DefaultParameters=Object.freeze({service:"WMS",version:"1.1.1",request:"GetMap",styles:"",format:"image/jpeg"}),d.GetFeatureInfoDefaultParameters=Object.freeze({service:"WMS",version:"1.1.1",request:"GetFeatureInfo"}),d.DefaultGetFeatureInfoFormats=Object.freeze([Object.freeze(new l["a"]("json","application/json")),Object.freeze(new l["a"]("xml","text/xml")),Object.freeze(new l["a"]("text","text/html"))]),t["a"]=d},f2c1:function(e,t,i){"use strict";var a=i("85b2"),n=i("dde0"),r=i("6b82"),o=i("cbf0"),s=i("d70f"),c=i("d767"),l=i("722e");const h={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},u={SCALAR:void 0,VEC2:a["a"],VEC3:n["a"],VEC4:r["a"],MAT2:s["a"],MAT3:c["a"],MAT4:l["a"]};function m(e){const t=e.componentType;let i;i="string"===typeof t?o["a"].fromName(t):t;const a=h[e.type],n=u[e.type];return{componentsPerAttribute:a,classType:n,createArrayBufferView:function(e,t,n){return o["a"].createArrayBufferView(i,e,t,a*n)}}}t["a"]=m}}]);