(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~5819e86c"],{"14ba":function(e,t,o){"use strict";var i=o("e2a6");function r(){i["a"].throwInstantiationError()}r.computeDefaultLevelZeroMaximumGeometricError=function(e){return 2*e.ellipsoid.maximumRadius*Math.PI*.25/(65*e.getNumberOfXTilesAtLevel(0))},Object.defineProperties(r.prototype,{quadtree:{get:i["a"].throwInstantiationError,set:i["a"].throwInstantiationError},ready:{get:i["a"].throwInstantiationError},tilingScheme:{get:i["a"].throwInstantiationError},errorEvent:{get:i["a"].throwInstantiationError}}),r.prototype.update=i["a"].throwInstantiationError,r.prototype.beginUpdate=i["a"].throwInstantiationError,r.prototype.endUpdate=i["a"].throwInstantiationError,r.prototype.getLevelMaximumGeometricError=i["a"].throwInstantiationError,r.prototype.loadTile=i["a"].throwInstantiationError,r.prototype.computeTileVisibility=i["a"].throwInstantiationError,r.prototype.showTileThisFrame=i["a"].throwInstantiationError,r.prototype.computeDistanceToTile=i["a"].throwInstantiationError,r.prototype.isDestroyed=i["a"].throwInstantiationError,r.prototype.destroy=i["a"].throwInstantiationError},"39d8":function(e,t,o){"use strict";var i=o("c937"),r=o("e2a6"),a=o("4a63"),n=o("65d7"),s=o("b911");function c(e){if(!Object(i["a"])(e))throw new r["a"]("options is required.");if(!Object(i["a"])(e.x))throw new r["a"]("options.x is required.");if(!Object(i["a"])(e.y))throw new r["a"]("options.y is required.");if(e.x<0||e.y<0)throw new r["a"]("options.x and options.y must be greater than or equal to zero.");if(!Object(i["a"])(e.level))throw new r["a"]("options.level is required and must be greater than or equal to zero.");if(!Object(i["a"])(e.tilingScheme))throw new r["a"]("options.tilingScheme is required.");this._tilingScheme=e.tilingScheme,this._x=e.x,this._y=e.y,this._level=e.level,this._parent=e.parent,this._rectangle=this._tilingScheme.tileXYToRectangle(this._x,this._y,this._level),this._southwestChild=void 0,this._southeastChild=void 0,this._northwestChild=void 0,this._northeastChild=void 0,this.replacementPrevious=void 0,this.replacementNext=void 0,this._distance=0,this._loadPriority=0,this._customData=[],this._frameUpdated=void 0,this._lastSelectionResult=s["a"].NONE,this._lastSelectionResultFrame=void 0,this._loadedCallbacks={},this.state=n["a"].START,this.renderable=!1,this.upsampledFromParent=!1,this.data=void 0}function l(e){Object(i["a"])(e)&&e.freeResources()}c.createLevelZeroTiles=function(e){if(!Object(i["a"])(e))throw new r["a"]("tilingScheme is required.");const t=e.getNumberOfXTilesAtLevel(0),o=e.getNumberOfYTilesAtLevel(0),a=new Array(t*o);let n=0;for(let i=0;i<o;++i)for(let o=0;o<t;++o)a[n++]=new c({tilingScheme:e,x:o,y:i,level:0});return a},c.prototype._updateCustomData=function(e,t,o){let r,n,s,c=this.customData;if(Object(i["a"])(t)&&Object(i["a"])(o)){for(c=c.filter((function(e){return-1===o.indexOf(e)})),this._customData=c,s=this._rectangle,r=0;r<t.length;++r)n=t[r],a["a"].contains(s,n.positionCartographic)&&c.push(n);this._frameUpdated=e}else{const e=this._parent;if(Object(i["a"])(e)&&this._frameUpdated!==e._frameUpdated){c.length=0,s=this._rectangle;const t=e.customData;for(r=0;r<t.length;++r)n=t[r],a["a"].contains(s,n.positionCartographic)&&c.push(n);this._frameUpdated=e._frameUpdated}}},Object.defineProperties(c.prototype,{tilingScheme:{get:function(){return this._tilingScheme}},x:{get:function(){return this._x}},y:{get:function(){return this._y}},level:{get:function(){return this._level}},parent:{get:function(){return this._parent}},rectangle:{get:function(){return this._rectangle}},children:{get:function(){return[this.northwestChild,this.northeastChild,this.southwestChild,this.southeastChild]}},southwestChild:{get:function(){return Object(i["a"])(this._southwestChild)||(this._southwestChild=new c({tilingScheme:this.tilingScheme,x:2*this.x,y:2*this.y+1,level:this.level+1,parent:this})),this._southwestChild}},southeastChild:{get:function(){return Object(i["a"])(this._southeastChild)||(this._southeastChild=new c({tilingScheme:this.tilingScheme,x:2*this.x+1,y:2*this.y+1,level:this.level+1,parent:this})),this._southeastChild}},northwestChild:{get:function(){return Object(i["a"])(this._northwestChild)||(this._northwestChild=new c({tilingScheme:this.tilingScheme,x:2*this.x,y:2*this.y,level:this.level+1,parent:this})),this._northwestChild}},northeastChild:{get:function(){return Object(i["a"])(this._northeastChild)||(this._northeastChild=new c({tilingScheme:this.tilingScheme,x:2*this.x+1,y:2*this.y,level:this.level+1,parent:this})),this._northeastChild}},customData:{get:function(){return this._customData}},needsLoading:{get:function(){return this.state<n["a"].DONE}},eligibleForUnloading:{get:function(){let e=!0;return Object(i["a"])(this.data)&&(e=this.data.eligibleForUnloading,Object(i["a"])(e)||(e=!0)),e}}}),c.prototype.findLevelZeroTile=function(e,t,o){const i=this.tilingScheme.getNumberOfXTilesAtLevel(0);if(t<0?t+=i:t>=i&&(t-=i),!(o<0||o>=this.tilingScheme.getNumberOfYTilesAtLevel(0)))return e.filter((function(e){return e.x===t&&e.y===o}))[0]},c.prototype.findTileToWest=function(e){const t=this.parent;if(void 0===t)return this.findLevelZeroTile(e,this.x-1,this.y);if(t.southeastChild===this)return t.southwestChild;if(t.northeastChild===this)return t.northwestChild;const o=t.findTileToWest(e);return void 0!==o?t.southwestChild===this?o.southeastChild:o.northeastChild:void 0},c.prototype.findTileToEast=function(e){const t=this.parent;if(void 0===t)return this.findLevelZeroTile(e,this.x+1,this.y);if(t.southwestChild===this)return t.southeastChild;if(t.northwestChild===this)return t.northeastChild;const o=t.findTileToEast(e);return void 0!==o?t.southeastChild===this?o.southwestChild:o.northwestChild:void 0},c.prototype.findTileToSouth=function(e){const t=this.parent;if(void 0===t)return this.findLevelZeroTile(e,this.x,this.y+1);if(t.northwestChild===this)return t.southwestChild;if(t.northeastChild===this)return t.southeastChild;const o=t.findTileToSouth(e);return void 0!==o?t.southwestChild===this?o.northwestChild:o.northeastChild:void 0},c.prototype.findTileToNorth=function(e){const t=this.parent;if(void 0===t)return this.findLevelZeroTile(e,this.x,this.y-1);if(t.southwestChild===this)return t.northwestChild;if(t.southeastChild===this)return t.northeastChild;const o=t.findTileToNorth(e);return void 0!==o?t.northwestChild===this?o.southwestChild:o.southeastChild:void 0},c.prototype.freeResources=function(){this.state=n["a"].START,this.renderable=!1,this.upsampledFromParent=!1,Object(i["a"])(this.data)&&Object(i["a"])(this.data.freeResources)&&this.data.freeResources(),l(this._southwestChild),this._southwestChild=void 0,l(this._southeastChild),this._southeastChild=void 0,l(this._northwestChild),this._northwestChild=void 0,l(this._northeastChild),this._northeastChild=void 0},t["a"]=c},"5bd6":function(e,t,o){"use strict";var i=o("ae9b"),r=o("1a5d"),a=o("c937"),n=o("e2a6"),s=o("3a5d"),c=o("31e7"),l=o("a3b5");const u={};function d(e){return Object(s["a"])(e.url)}function h(e){let t=e.byteOffset,o=e.byteLength;if(Object(l["a"])(e,"EXT_meshopt_compression")){const i=e.extensions.EXT_meshopt_compression;t=Object(r["a"])(i.byteOffset,0),o=i.byteLength}return`${t}-${t+o}`}function f(e,t){const o=t.byteOffset+e.byteOffset,i=e.componentType,r=e.type,a=e.count;return`${o}-${i}-${r}-${a}`}function p(e){return d(e)}function b(e,t){const o=d(e);return`${o}-buffer-id-${t}`}function g(e,t,o,i){if(Object(a["a"])(e.uri)){const t=i.getDerivedResource({url:e.uri});return p(t)}return b(o,t)}function m(e,t,o,i){const r=t.bufferView,a=e.bufferViews[r],n=a.buffer,s=e.buffers[n],c=g(s,n,o,i),l=h(a);return`${c}-range-${l}`}function _(e,t,o,i){const r=e.images[t],n=r.bufferView,s=r.uri;if(Object(a["a"])(s)){const e=i.getDerivedResource({url:s});return d(e)}const c=e.bufferViews[n],l=c.buffer,u=e.buffers[l],f=g(u,l,o,i),p=h(c);return`${f}-range-${p}`}function y(e,t){const o=c["a"].createSampler({gltf:e,textureInfo:t});return`${o.wrapS}-${o.wrapT}-${o.minificationFilter}-${o.magnificationFilter}`}u.getSchemaCacheKey=function(e){const t=e.schema,o=e.resource;if(Object(a["a"])(t)===Object(a["a"])(o))throw new n["a"]("One of options.schema and options.resource must be defined.");return Object(a["a"])(t)?"embedded-schema:"+JSON.stringify(t):"external-schema:"+d(o)},u.getExternalBufferCacheKey=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.resource;return i["a"].typeOf.object("options.resource",t),"external-buffer:"+p(t)},u.getEmbeddedBufferCacheKey=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.parentResource,o=e.bufferId;return i["a"].typeOf.object("options.parentResource",t),i["a"].typeOf.number("options.bufferId",o),"embedded-buffer:"+b(t,o)},u.getGltfCacheKey=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.gltfResource;return i["a"].typeOf.object("options.gltfResource",t),"gltf:"+d(t)},u.getBufferViewCacheKey=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.gltf,o=e.bufferViewId,a=e.gltfResource,n=e.baseResource;i["a"].typeOf.object("options.gltf",t),i["a"].typeOf.number("options.bufferViewId",o),i["a"].typeOf.object("options.gltfResource",a),i["a"].typeOf.object("options.baseResource",n);const s=t.bufferViews[o];let c=s.buffer;const u=t.buffers[c];if(Object(l["a"])(s,"EXT_meshopt_compression")){const e=s.extensions.EXT_meshopt_compression;c=e.buffer}const d=g(u,c,a,n),f=h(s);return`buffer-view:${d}-range-${f}`},u.getDracoCacheKey=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.gltf,o=e.draco,a=e.gltfResource,n=e.baseResource;return i["a"].typeOf.object("options.gltf",t),i["a"].typeOf.object("options.draco",o),i["a"].typeOf.object("options.gltfResource",a),i["a"].typeOf.object("options.baseResource",n),"draco:"+m(t,o,a,n)},u.getVertexBufferCacheKey=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.gltf,o=e.gltfResource,s=e.baseResource,c=e.bufferViewId,l=e.draco,u=e.attributeSemantic,d=Object(r["a"])(e.dequantize,!1),f=Object(r["a"])(e.loadAsTypedArray,!1);i["a"].typeOf.object("options.gltf",t),i["a"].typeOf.object("options.gltfResource",o),i["a"].typeOf.object("options.baseResource",s);const p=Object(a["a"])(c),b=Object(a["a"])(l),_=Object(a["a"])(u);if(p===b)throw new n["a"]("One of options.bufferViewId and options.draco must be defined.");if(b&&!_)throw new n["a"]("When options.draco is defined options.attributeSemantic must also be defined.");b&&(i["a"].typeOf.object("options.draco",l),i["a"].typeOf.string("options.attributeSemantic",u));let y="";if(d&&(y+="-dequantize"),f&&(y+="-typed-array"),Object(a["a"])(l)){const e=m(t,l,o,s);return`vertex-buffer:${e}-draco-${u}${y}`}const R=t.bufferViews[c],O=R.buffer,C=t.buffers[O],w=g(C,O,o,s),T=h(R);return`vertex-buffer:${w}-range-${T}${y}`},u.getIndexBufferCacheKey=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.gltf,o=e.accessorId,n=e.gltfResource,s=e.baseResource,c=e.draco,l=Object(r["a"])(e.loadAsTypedArray,!1);i["a"].typeOf.object("options.gltf",t),i["a"].typeOf.number("options.accessorId",o),i["a"].typeOf.object("options.gltfResource",n),i["a"].typeOf.object("options.baseResource",s);let u="";if(l&&(u+="-typed-array"),Object(a["a"])(c)){const e=m(t,c,n,s);return`index-buffer:${e}-draco${u}`}const d=t.accessors[o],h=d.bufferView,p=t.bufferViews[h],b=p.buffer,_=t.buffers[b],y=g(_,b,n,s),R=f(d,p);return`index-buffer:${y}-accessor-${R}${u}`},u.getImageCacheKey=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.gltf,o=e.imageId,a=e.gltfResource,n=e.baseResource;i["a"].typeOf.object("options.gltf",t),i["a"].typeOf.number("options.imageId",o),i["a"].typeOf.object("options.gltfResource",a),i["a"].typeOf.object("options.baseResource",n);const s=_(t,o,a,n);return"image:"+s},u.getTextureCacheKey=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.gltf,o=e.textureInfo,a=e.gltfResource,n=e.baseResource,s=e.supportedImageFormats;i["a"].typeOf.object("options.gltf",t),i["a"].typeOf.object("options.textureInfo",o),i["a"].typeOf.object("options.gltfResource",a),i["a"].typeOf.object("options.baseResource",n),i["a"].typeOf.object("options.supportedImageFormats",s);const l=o.index,u=c["a"].getImageIdFromTexture({gltf:t,textureId:l,supportedImageFormats:s}),d=_(t,u,a,n),h=y(t,o);return`texture:${d}-sampler-${h}`},t["a"]=u},"65d7":function(e,t,o){"use strict";const i={START:0,LOADING:1,DONE:2,FAILED:3};t["a"]=Object.freeze(i)},"816c":function(e,t,o){"use strict";const i={UNLOADED:0,LOADING:1,PROCESSING:2,READY:3,FAILED:4};t["a"]=Object.freeze(i)},aca5:function(e,t,o){"use strict";var i=o("dde0"),r=o("a76e");function a(e){this._ellipsoid=new r["a"](e.ellipsoid,i["a"].ZERO)}Object.defineProperties(a.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),t["a"]=a},d239:function(e,t,o){"use strict";var i=o("dde0"),r=o("8d54"),a=o("1a5d"),n=o("c937"),s=o("e2a6"),c=o("f7b5"),l=o("4b7f"),u=o("b8b5"),d=o("722e"),h=o("ec1a"),f=o("1345"),p=o("430c"),b=o("4a63"),g=o("d830"),m=o("aca5"),_=o("39d8"),y=o("65d7"),R=o("dc6c"),O=o("f044"),C=o("b911");function w(e){if(!Object(n["a"])(e)||!Object(n["a"])(e.tileProvider))throw new s["a"]("options.tileProvider is required.");if(Object(n["a"])(e.tileProvider.quadtree))throw new s["a"]("A QuadtreeTileProvider can only be used with a single QuadtreePrimitive");this._tileProvider=e.tileProvider,this._tileProvider.quadtree=this,this._debug={enableDebugOutput:!1,maxDepth:0,maxDepthVisited:0,tilesVisited:0,tilesCulled:0,tilesRendered:0,tilesWaitingForChildren:0,lastMaxDepth:-1,lastMaxDepthVisited:-1,lastTilesVisited:-1,lastTilesCulled:-1,lastTilesRendered:-1,lastTilesWaitingForChildren:-1,suspendLodUpdate:!1};const t=this._tileProvider.tilingScheme,o=t.ellipsoid;this._tilesToRender=[],this._tileLoadQueueHigh=[],this._tileLoadQueueMedium=[],this._tileLoadQueueLow=[],this._tileReplacementQueue=new O["a"],this._levelZeroTiles=void 0,this._loadQueueTimeSlice=5,this._tilesInvalidated=!1,this._addHeightCallbacks=[],this._removeHeightCallbacks=[],this._tileToUpdateHeights=[],this._lastTileIndex=0,this._updateHeightsTimeSlice=2,this._cameraPositionCartographic=void 0,this._cameraReferenceFrameOriginCartographic=void 0,this.maximumScreenSpaceError=Object(a["a"])(e.maximumScreenSpaceError,2),this.tileCacheSize=Object(a["a"])(e.tileCacheSize,100),this.loadingDescendantLimit=20,this.preloadAncestors=!0,this.preloadSiblings=!1,this._occluders=new m["a"]({ellipsoid:o}),this._tileLoadProgressEvent=new c["a"],this._lastTileLoadQueueLength=0,this._lastSelectionFrameNumber=void 0}function T(e){const t=e._tileReplacementQueue;t.head=void 0,t.tail=void 0,t.count=0,E(e);const o=e._levelZeroTiles;if(Object(n["a"])(o))for(let i=0;i<o.length;++i){const t=o[i],r=t.customData,a=r.length;for(let o=0;o<a;++o){const t=r[o];t.level=0,e._addHeightCallbacks.push(t)}o[i].freeResources()}e._levelZeroTiles=void 0,e._tileProvider.cancelReprojections()}function E(e){const t=e._debug;t.maxDepth=0,t.maxDepthVisited=0,t.tilesVisited=0,t.tilesCulled=0,t.tilesRendered=0,t.tilesWaitingForChildren=0,e._tileLoadQueueHigh.length=0,e._tileLoadQueueMedium.length=0,e._tileLoadQueueLow.length=0}function j(e,t){const o=e._tileLoadQueueHigh.length+e._tileLoadQueueMedium.length+e._tileLoadQueueLow.length;(o!==e._lastTileLoadQueueLength||e._tilesInvalidated)&&(t.afterRender.push(c["a"].prototype.raiseEvent.bind(e._tileLoadProgressEvent,o)),e._lastTileLoadQueueLength=o);const i=e._debug;i.enableDebugOutput&&!i.suspendLodUpdate&&(i.maxDepth=e._tilesToRender.reduce((function(e,t){return Math.max(e,t.level)}),-1),i.tilesRendered=e._tilesToRender.length,i.tilesVisited===i.lastTilesVisited&&i.tilesRendered===i.lastTilesRendered&&i.tilesCulled===i.lastTilesCulled&&i.maxDepth===i.lastMaxDepth&&i.tilesWaitingForChildren===i.lastTilesWaitingForChildren&&i.maxDepthVisited===i.lastMaxDepthVisited||(console.log(`Visited ${i.tilesVisited}, Rendered: ${i.tilesRendered}, Culled: ${i.tilesCulled}, Max Depth Rendered: ${i.maxDepth}, Max Depth Visited: ${i.maxDepthVisited}, Waiting for children: ${i.tilesWaitingForChildren}`),i.lastTilesVisited=i.tilesVisited,i.lastTilesRendered=i.tilesRendered,i.lastTilesCulled=i.tilesCulled,i.lastMaxDepth=i.maxDepth,i.lastTilesWaitingForChildren=i.tilesWaitingForChildren,i.lastMaxDepthVisited=i.maxDepthVisited))}let v;Object.defineProperties(w.prototype,{tileProvider:{get:function(){return this._tileProvider}},tileLoadProgressEvent:{get:function(){return this._tileLoadProgressEvent}},occluders:{get:function(){return this._occluders}}}),w.prototype.invalidateAllTiles=function(){this._tilesInvalidated=!0},w.prototype.forEachLoadedTile=function(e){let t=this._tileReplacementQueue.head;while(Object(n["a"])(t))t.state!==y["a"].START&&e(t),t=t.replacementNext},w.prototype.forEachRenderedTile=function(e){const t=this._tilesToRender;for(let o=0,i=t.length;o<i;++o)e(t[o])},w.prototype.updateHeight=function(e,t){const o=this,i={positionOnEllipsoidSurface:void 0,positionCartographic:e,level:-1,callback:t,removeFunc:function(){const e=o._addHeightCallbacks,t=e.length;for(let o=0;o<t;++o)if(e[o]===i){e.splice(o,1);break}o._removeHeightCallbacks.push(i)}};return o._addHeightCallbacks.push(i),i.removeFunc},w.prototype.update=function(e){Object(n["a"])(this._tileProvider.update)&&this._tileProvider.update(e)},w.prototype.beginFrame=function(e){const t=e.passes;t.render&&(this._tilesInvalidated&&(T(this),this._tilesInvalidated=!1),this._tileProvider.initialize(e),E(this),this._debug.suspendLodUpdate||this._tileReplacementQueue.markStartOfRenderFrame())},w.prototype.render=function(e){const t=e.passes,o=this._tileProvider;t.render&&(o.beginUpdate(e),I(this,e),G(this,e),o.endUpdate(e)),t.pick&&this._tilesToRender.length>0&&o.updateForPick(e)},w.prototype.endFrame=function(e){const t=e.passes;t.render&&e.mode!==R["a"].MORPHING&&(Y(this,e),z(this,e),j(this,e))},w.prototype.isDestroyed=function(){return!1},w.prototype.destroy=function(){this._tileProvider=this._tileProvider&&this._tileProvider.destroy()};const L=new r["a"];function S(e,t){let o=b["a"].center(e.rectangle,L);const i=o.longitude-v.longitude,r=o.latitude-v.latitude;o=b["a"].center(t.rectangle,L);const a=o.longitude-v.longitude,n=o.latitude-v.latitude;return i*i+r*r-(a*a+n*n)}const x=new i["a"];let D=[];function I(e,t){const o=e._debug;if(o.suspendLodUpdate)return;const i=e._tilesToRender;let r;i.length=0;const a=e._tileProvider;if(!Object(n["a"])(e._levelZeroTiles)){if(!a.ready)return;{const t=a.tilingScheme;e._levelZeroTiles=_["a"].createLevelZeroTiles(t);const o=e._levelZeroTiles.length;if(D.length<o)for(D=new Array(o),r=0;r<o;++r)void 0===D[r]&&(D[r]=new F)}}let s;e._occluders.ellipsoid.cameraPosition=t.camera.positionWC;const c=e._levelZeroTiles,l=c.length>1?e._occluders:void 0;v=t.camera.positionCartographic,c.sort(S);const u=e._addHeightCallbacks,h=e._removeHeightCallbacks,f=t.frameNumber;let p;if(u.length>0||h.length>0){for(r=0,p=c.length;r<p;++r)s=c[r],s._updateCustomData(f,u,h);u.length=0,h.length=0}const b=t.camera;e._cameraPositionCartographic=b.positionCartographic;const g=d["a"].getTranslation(b.transform,x);for(e._cameraReferenceFrameOriginCartographic=e.tileProvider.tilingScheme.ellipsoid.cartesianToCartographic(g,e._cameraReferenceFrameOriginCartographic),r=0,p=c.length;r<p;++r)s=c[r],e._tileReplacementQueue.markTileRendered(s),s.renderable?B(e,s,a,t,l,!1,D[r]):(P(e,e._tileLoadQueueHigh,s,t),++o.tilesWaitingForChildren);e._lastSelectionFrameNumber=f}function P(e,t,o,i){o.needsLoading&&(void 0!==e.tileProvider.computeTileLoadPriority&&(o._loadPriority=e.tileProvider.computeTileLoadPriority(o,i)),t.push(o))}function F(){this.allAreRenderable=!0,this.anyWereRenderedLastFrame=!1,this.notYetRenderableCount=0}function N(){this.southwest=new F,this.southeast=new F,this.northwest=new F,this.northeast=new F}N.prototype.combine=function(e){const t=this.southwest,o=this.southeast,i=this.northwest,r=this.northeast;e.allAreRenderable=t.allAreRenderable&&o.allAreRenderable&&i.allAreRenderable&&r.allAreRenderable,e.anyWereRenderedLastFrame=t.anyWereRenderedLastFrame||o.anyWereRenderedLastFrame||i.anyWereRenderedLastFrame||r.anyWereRenderedLastFrame,e.notYetRenderableCount=t.notYetRenderableCount+o.notYetRenderableCount+i.notYetRenderableCount+r.notYetRenderableCount};const A=new Array(31);for(let X=0;X<A.length;++X)A[X]=new N;function M(e,t,o,i,r){const a=e._debug;++a.tilesVisited,e._tileReplacementQueue.markTileRendered(o),o._updateCustomData(t.frameNumber),o.level>a.maxDepthVisited&&(a.maxDepthVisited=o.level);const s=K(e,t,o)<e.maximumScreenSpaceError,c=o.southwestChild,l=o.southeastChild,u=o.northwestChild,d=o.northeastChild,h=e._lastSelectionFrameNumber,f=o._lastSelectionResultFrame===h?o._lastSelectionResult:C["a"].NONE,p=e.tileProvider;if(s||i){const a=C["a"].originalResult(f)===C["a"].RENDERED,c=C["a"].originalResult(f)===C["a"].CULLED||f===C["a"].NONE,l=o.state===y["a"].DONE;let u=a||c||l;if(u||Object(n["a"])(p.canRenderWithoutLosingDetail)&&(u=p.canRenderWithoutLosingDetail(o)),u)return s&&P(e,e._tileLoadQueueMedium,o,t),U(e,o),r.allAreRenderable=o.renderable,r.anyWereRenderedLastFrame=f===C["a"].RENDERED,r.notYetRenderableCount=o.renderable?0:1,o._lastSelectionResultFrame=t.frameNumber,o._lastSelectionResult=C["a"].RENDERED,void(r.anyWereRenderedLastFrame||e._tileToUpdateHeights.push(o));i=!0,s&&P(e,e._tileLoadQueueHigh,o,t)}if(p.canRefine(o)){const n=c.upsampledFromParent&&l.upsampledFromParent&&u.upsampledFromParent&&d.upsampledFromParent;if(n)return U(e,o),P(e,e._tileLoadQueueMedium,o,t),e._tileReplacementQueue.markTileRendered(c),e._tileReplacementQueue.markTileRendered(l),e._tileReplacementQueue.markTileRendered(u),e._tileReplacementQueue.markTileRendered(d),r.allAreRenderable=o.renderable,r.anyWereRenderedLastFrame=f===C["a"].RENDERED,r.notYetRenderableCount=o.renderable?0:1,o._lastSelectionResultFrame=t.frameNumber,o._lastSelectionResult=C["a"].RENDERED,void(r.anyWereRenderedLastFrame||e._tileToUpdateHeights.push(o));o._lastSelectionResultFrame=t.frameNumber,o._lastSelectionResult=C["a"].REFINED;const s=e._tilesToRender.length,h=e._tileLoadQueueLow.length,p=e._tileLoadQueueMedium.length,b=e._tileLoadQueueHigh.length,g=e._tileToUpdateHeights.length;if(V(e,c,l,u,d,t,i,r),s!==e._tilesToRender.length){const i=r.allAreRenderable,n=r.anyWereRenderedLastFrame,c=r.notYetRenderableCount;let l=!1;if(!i&&!n){const i=e._tilesToRender;for(let e=s;e<i.length;++e){let t=i[e];while(void 0!==t&&t._lastSelectionResult!==C["a"].KICKED&&t!==o)t._lastSelectionResult=C["a"].kick(t._lastSelectionResult),t=t.parent}e._tilesToRender.length=s,e._tileToUpdateHeights.length=g,U(e,o),o._lastSelectionResult=C["a"].RENDERED;const n=f===C["a"].RENDERED;!n&&c>e.loadingDescendantLimit&&(e._tileLoadQueueLow.length=h,e._tileLoadQueueMedium.length=p,e._tileLoadQueueHigh.length=b,P(e,e._tileLoadQueueMedium,o,t),r.notYetRenderableCount=o.renderable?0:1,l=!0),r.allAreRenderable=o.renderable,r.anyWereRenderedLastFrame=n,n||e._tileToUpdateHeights.push(o),++a.tilesWaitingForChildren}e.preloadAncestors&&!l&&P(e,e._tileLoadQueueLow,o,t)}}else o._lastSelectionResultFrame=t.frameNumber,o._lastSelectionResult=C["a"].RENDERED,U(e,o),P(e,e._tileLoadQueueHigh,o,t),r.allAreRenderable=o.renderable,r.anyWereRenderedLastFrame=f===C["a"].RENDERED,r.notYetRenderableCount=o.renderable?0:1}function V(e,t,o,i,r,a,n,s){const c=a.camera.positionCartographic,l=e._tileProvider,u=e._occluders,d=A[t.level],h=d.southwest,f=d.southeast,p=d.northwest,b=d.northeast;c.longitude<t.rectangle.east?c.latitude<t.rectangle.north?(B(e,t,l,a,u,n,h),B(e,o,l,a,u,n,f),B(e,i,l,a,u,n,p),B(e,r,l,a,u,n,b)):(B(e,i,l,a,u,n,p),B(e,t,l,a,u,n,h),B(e,r,l,a,u,n,b),B(e,o,l,a,u,n,f)):c.latitude<t.rectangle.north?(B(e,o,l,a,u,n,f),B(e,t,l,a,u,n,h),B(e,r,l,a,u,n,b),B(e,i,l,a,u,n,p)):(B(e,r,l,a,u,n,b),B(e,i,l,a,u,n,p),B(e,o,l,a,u,n,f),B(e,t,l,a,u,n,h)),d.combine(s)}function Q(e,t){const o=t.rectangle;return Object(n["a"])(e._cameraPositionCartographic)&&b["a"].contains(o,e._cameraPositionCartographic)||Object(n["a"])(e._cameraReferenceFrameOriginCartographic)&&b["a"].contains(o,e._cameraReferenceFrameOriginCartographic)}function B(e,t,o,i,r,a,s){if(o.computeTileVisibility(t,i,r)!==g["a"].NONE)return M(e,i,t,a,s);if(++e._debug.tilesCulled,e._tileReplacementQueue.markTileRendered(t),s.allAreRenderable=!0,s.anyWereRenderedLastFrame=!1,s.notYetRenderableCount=0,Q(e,t)){Object(n["a"])(t.data)&&Object(n["a"])(t.data.vertexArray)||P(e,e._tileLoadQueueMedium,t,i);const o=e._lastSelectionFrameNumber,r=t._lastSelectionResultFrame===o?t._lastSelectionResult:C["a"].NONE;r!==C["a"].CULLED_BUT_NEEDED&&r!==C["a"].RENDERED&&e._tileToUpdateHeights.push(t),t._lastSelectionResult=C["a"].CULLED_BUT_NEEDED}else e.preloadSiblings||0===t.level?(P(e,e._tileLoadQueueLow,t,i),t._lastSelectionResult=C["a"].CULLED):t._lastSelectionResult=C["a"].CULLED;t._lastSelectionResultFrame=i.frameNumber}function K(e,t,o){if(t.mode===R["a"].SCENE2D||t.camera.frustum instanceof h["a"]||t.camera.frustum instanceof f["a"])return $(e,t,o);const i=e._tileProvider.getLevelMaximumGeometricError(o.level),r=o._distance,a=t.context.drawingBufferHeight,n=t.camera.frustum.sseDenominator;let s=i*a/(r*n);return t.fog.enabled&&(s-=u["a"].fog(r,t.fog.density)*t.fog.sse),s/=t.pixelRatio,s}function $(e,t,o){const i=t.camera;let r=i.frustum;Object(n["a"])(r._offCenterFrustum)&&(r=r._offCenterFrustum);const a=t.context,s=a.drawingBufferWidth,c=a.drawingBufferHeight,l=e._tileProvider.getLevelMaximumGeometricError(o.level),d=Math.max(r.top-r.bottom,r.right-r.left)/Math.max(s,c);let h=l/d;return t.fog.enabled&&t.mode!==R["a"].SCENE2D&&(h-=u["a"].fog(o._distance,t.fog.density)*t.fog.sse),h/=t.pixelRatio,h}function U(e,t){e._tilesToRender.push(t)}function Y(e,t){const o=e._tileLoadQueueHigh,i=e._tileLoadQueueMedium,r=e._tileLoadQueueLow;if(0===o.length&&0===i.length&&0===r.length)return;e._tileReplacementQueue.trimTiles(e.tileCacheSize);const a=Object(l["a"])()+e._loadQueueTimeSlice,n=e._tileProvider;let s=H(e,t,n,a,o,!1);s=H(e,t,n,a,i,s),H(e,t,n,a,r,s)}function W(e,t){return e._loadPriority-t._loadPriority}function H(e,t,o,i,r,a){void 0!==o.computeTileLoadPriority&&r.sort(W);for(let n=0,s=r.length;n<s&&(Object(l["a"])()<i||!a);++n){const i=r[n];e._tileReplacementQueue.markTileRendered(i),o.loadTile(t,i),a=!0}return a}const k=new p["a"],J=new r["a"],q=new i["a"],Z=[];function z(e,t){if(!e.tileProvider.ready)return;const o=Z;o.length=0;const a=e._tileToUpdateHeights,s=Object(l["a"])(),c=e._updateHeightsTimeSlice,u=s+c,d=t.mode,h=t.mapProjection,f=e.tileProvider.tilingScheme.ellipsoid;let p;while(a.length>0){const t=a[0];if(!Object(n["a"])(t.data)||!Object(n["a"])(t.data.mesh)){const i=t._lastSelectionResultFrame===e._lastSelectionFrameNumber?t._lastSelectionResult:C["a"].NONE;i!==C["a"].RENDERED&&i!==C["a"].CULLED_BUT_NEEDED||o.push(t),a.shift(),e._lastTileIndex=0;continue}const s=t.customData,c=s.length;let b=!1;for(p=e._lastTileIndex;p<c;++p){const e=s[p],o=t.data.terrainData,a=Object(n["a"])(o)&&o.wasCreatedByUpsampling();if(t.level>e.level&&!a){if(Object(n["a"])(e.positionOnEllipsoidSurface)||(e.positionOnEllipsoidSurface=i["a"].fromRadians(e.positionCartographic.longitude,e.positionCartographic.latitude,0,f)),d===R["a"].SCENE3D){const o=f.geodeticSurfaceNormal(e.positionOnEllipsoidSurface,k.direction),r=f.getSurfaceNormalIntersectionWithZAxis(e.positionOnEllipsoidSurface,11500,k.origin);if(!Object(n["a"])(r)){let r=0;Object(n["a"])(t.data.tileBoundingRegion)&&(r=t.data.tileBoundingRegion.minimumHeight);const a=Math.min(r,-11500),s=i["a"].multiplyByScalar(o,Math.abs(a)+1,q);i["a"].subtract(e.positionOnEllipsoidSurface,s,k.origin)}}else r["a"].clone(e.positionCartographic,J),J.height=-11500,h.project(J,q),i["a"].fromElements(q.z,q.x,q.y,q),i["a"].clone(q,k.origin),i["a"].clone(i["a"].UNIT_X,k.direction);const o=t.data.pick(k,d,h,!1,q);Object(n["a"])(o)&&(e.callback(o),e.level=t.level)}if(Object(l["a"])()>=u){b=!0;break}}if(b){e._lastTileIndex=p;break}e._lastTileIndex=0,a.shift()}for(p=0;p<o.length;p++)a.push(o[p])}function G(e,t){const o=e._tileProvider,i=e._tilesToRender;for(let r=0,a=i.length;r<a;++r){const e=i[r];o.showTileThisFrame(e,t)}}t["a"]=w},dc50:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var i=o("ae9b"),r=o("c937"),a=o("21b7"),n=o("e2a6"),s=o("e2aa");function c(){}Object.defineProperties(c.prototype,{promise:{get:function(){n["a"].throwInstantiationError()}},cacheKey:{get:function(){n["a"].throwInstantiationError()}}}),c.prototype.load=function(){n["a"].throwInstantiationError()},c.prototype.unload=function(){},c.prototype.process=function(e){},c.prototype.getError=function(e,t){return i["a"].typeOf.string("errorMessage",e),Object(r["a"])(t)&&(e+="\n"+t.message),new s["a"](e)},c.prototype.isDestroyed=function(){return!1},c.prototype.destroy=function(){return this.unload(),Object(a["a"])(this)}},ffd8:function(e,t,o){"use strict";var i=o("ae9b"),r=o("1a5d"),a=o("c937"),n=o("e2a6"),s=o("3472"),c=o("dd89"),l=o("8bd2"),u=o("9767"),d=o("8f79"),h=o("0708"),f=o("aa68"),p=o("1cbf"),b=o("0a88"),g=o("5bd6");function m(){}function _(e){this.referenceCount=1,this.resourceLoader=e}m.cacheEntries={},m.get=function(e){i["a"].typeOf.string("cacheKey",e);const t=m.cacheEntries[e];if(Object(a["a"])(t))return++t.referenceCount,t.resourceLoader},m.load=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.resourceLoader;i["a"].typeOf.object("options.resourceLoader",t);const o=t.cacheKey;if(i["a"].typeOf.string("options.resourceLoader.cacheKey",o),Object(a["a"])(m.cacheEntries[o]))throw new n["a"]("Resource with this cacheKey is already in the cache: "+o);m.cacheEntries[o]=new _(t),t.load()},m.unload=function(e){i["a"].typeOf.object("resourceLoader",e);const t=e.cacheKey,o=m.cacheEntries[t];if(!Object(a["a"])(o))throw new n["a"]("Resource is not in the cache: "+t);--o.referenceCount,0===o.referenceCount&&(e.destroy(),delete m.cacheEntries[t])},m.loadSchema=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.schema,o=e.resource;if(Object(a["a"])(t)===Object(a["a"])(o))throw new n["a"]("One of options.schema and options.resource must be defined.");const i=g["a"].getSchemaCacheKey({schema:t,resource:o});let s=m.get(i);return Object(a["a"])(s)||(s=new b["a"]({schema:t,resource:o,cacheKey:i}),m.load({resourceLoader:s})),s},m.loadEmbeddedBuffer=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.parentResource,o=e.bufferId,n=e.typedArray;i["a"].typeOf.object("options.parentResource",t),i["a"].typeOf.number("options.bufferId",o);const c=g["a"].getEmbeddedBufferCacheKey({parentResource:t,bufferId:o});let l=m.get(c);return Object(a["a"])(l)||(i["a"].typeOf.object("options.typedArray",n),l=new s["a"]({typedArray:n,cacheKey:c}),m.load({resourceLoader:l})),l},m.loadExternalBuffer=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.resource;i["a"].typeOf.object("options.resource",t);const o=g["a"].getExternalBufferCacheKey({resource:t});let n=m.get(o);return Object(a["a"])(n)||(n=new s["a"]({resource:t,cacheKey:o}),m.load({resourceLoader:n})),n},m.loadGltfJson=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.gltfResource,o=e.baseResource,n=e.typedArray,s=e.gltfJson;i["a"].typeOf.object("options.gltfResource",t),i["a"].typeOf.object("options.baseResource",o);const c=g["a"].getGltfCacheKey({gltfResource:t});let l=m.get(c);return Object(a["a"])(l)||(l=new h["a"]({resourceCache:m,gltfResource:t,baseResource:o,typedArray:n,gltfJson:s,cacheKey:c}),m.load({resourceLoader:l})),l},m.loadBufferView=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.gltf,o=e.bufferViewId,n=e.gltfResource,s=e.baseResource;i["a"].typeOf.object("options.gltf",t),i["a"].typeOf.number("options.bufferViewId",o),i["a"].typeOf.object("options.gltfResource",n),i["a"].typeOf.object("options.baseResource",s);const l=g["a"].getBufferViewCacheKey({gltf:t,bufferViewId:o,gltfResource:n,baseResource:s});let u=m.get(l);return Object(a["a"])(u)||(u=new c["a"]({resourceCache:m,gltf:t,bufferViewId:o,gltfResource:n,baseResource:s,cacheKey:l}),m.load({resourceLoader:u})),u},m.loadDraco=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.gltf,o=e.draco,n=e.gltfResource,s=e.baseResource;i["a"].typeOf.object("options.gltf",t),i["a"].typeOf.object("options.draco",o),i["a"].typeOf.object("options.gltfResource",n),i["a"].typeOf.object("options.baseResource",s);const c=g["a"].getDracoCacheKey({gltf:t,draco:o,gltfResource:n,baseResource:s});let u=m.get(c);return Object(a["a"])(u)||(u=new l["a"]({resourceCache:m,gltf:t,draco:o,gltfResource:n,baseResource:s,cacheKey:c}),m.load({resourceLoader:u})),u},m.loadVertexBuffer=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.gltf,o=e.gltfResource,s=e.baseResource,c=e.bufferViewId,l=e.draco,u=e.attributeSemantic,d=e.accessorId,h=Object(r["a"])(e.asynchronous,!0),f=Object(r["a"])(e.dequantize,!1),b=Object(r["a"])(e.loadAsTypedArray,!1);i["a"].typeOf.object("options.gltf",t),i["a"].typeOf.object("options.gltfResource",o),i["a"].typeOf.object("options.baseResource",s);const _=Object(a["a"])(c),y=Object(a["a"])(l),R=Object(a["a"])(u),O=Object(a["a"])(d);if(_===y)throw new n["a"]("One of options.bufferViewId and options.draco must be defined.");if(y&&!R)throw new n["a"]("When options.draco is defined options.attributeSemantic must also be defined.");if(y&&!O)throw new n["a"]("When options.draco is defined options.haAccessorId must also be defined.");y&&(i["a"].typeOf.object("options.draco",l),i["a"].typeOf.string("options.attributeSemantic",u),i["a"].typeOf.number("options.accessorId",d));const C=g["a"].getVertexBufferCacheKey({gltf:t,gltfResource:o,baseResource:s,bufferViewId:c,draco:l,attributeSemantic:u,dequantize:f,loadAsTypedArray:b});let w=m.get(C);return Object(a["a"])(w)||(w=new p["a"]({resourceCache:m,gltf:t,gltfResource:o,baseResource:s,bufferViewId:c,draco:l,attributeSemantic:u,accessorId:d,cacheKey:C,asynchronous:h,dequantize:f,loadAsTypedArray:b}),m.load({resourceLoader:w})),w},m.loadIndexBuffer=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.gltf,o=e.accessorId,n=e.gltfResource,s=e.baseResource,c=e.draco,l=Object(r["a"])(e.asynchronous,!0),u=Object(r["a"])(e.loadAsTypedArray,!1);i["a"].typeOf.object("options.gltf",t),i["a"].typeOf.number("options.accessorId",o),i["a"].typeOf.object("options.gltfResource",n),i["a"].typeOf.object("options.baseResource",s);const h=g["a"].getIndexBufferCacheKey({gltf:t,accessorId:o,gltfResource:n,baseResource:s,draco:c,loadAsTypedArray:u});let f=m.get(h);return Object(a["a"])(f)||(f=new d["a"]({resourceCache:m,gltf:t,accessorId:o,gltfResource:n,baseResource:s,draco:c,cacheKey:h,asynchronous:l,loadAsTypedArray:u}),m.load({resourceLoader:f})),f},m.loadImage=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.gltf,o=e.imageId,n=e.gltfResource,s=e.baseResource;i["a"].typeOf.object("options.gltf",t),i["a"].typeOf.number("options.imageId",o),i["a"].typeOf.object("options.gltfResource",n),i["a"].typeOf.object("options.baseResource",s);const c=g["a"].getImageCacheKey({gltf:t,imageId:o,gltfResource:n,baseResource:s});let l=m.get(c);return Object(a["a"])(l)||(l=new u["a"]({resourceCache:m,gltf:t,imageId:o,gltfResource:n,baseResource:s,cacheKey:c}),m.load({resourceLoader:l})),l},m.loadTexture=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.gltf,o=e.textureInfo,n=e.gltfResource,s=e.baseResource,c=e.supportedImageFormats,l=Object(r["a"])(e.asynchronous,!0);i["a"].typeOf.object("options.gltf",t),i["a"].typeOf.object("options.textureInfo",o),i["a"].typeOf.object("options.gltfResource",n),i["a"].typeOf.object("options.baseResource",s);const u=g["a"].getTextureCacheKey({gltf:t,textureInfo:o,gltfResource:n,baseResource:s,supportedImageFormats:c});let d=m.get(u);return Object(a["a"])(d)||(d=new f["a"]({resourceCache:m,gltf:t,textureInfo:o,gltfResource:n,baseResource:s,supportedImageFormats:c,cacheKey:u,asynchronous:l}),m.load({resourceLoader:d})),d},m.clearForSpecs=function(){const e=[p["a"],d["a"],l["a"],f["a"],u["a"],c["a"],s["a"],b["a"],h["a"]];let t;const o=m.cacheEntries,i=[];for(t in o)o.hasOwnProperty(t)&&i.push(o[t]);i.sort((function(t,o){const i=e.indexOf(t.resourceLoader.constructor),r=e.indexOf(o.resourceLoader.constructor);return i-r}));const r=i.length;for(let n=0;n<r;++n){const e=i[n];t=e.resourceLoader.cacheKey,Object(a["a"])(o[t])&&(e.resourceLoader.destroy(),delete o[t])}},t["a"]=m}}]);