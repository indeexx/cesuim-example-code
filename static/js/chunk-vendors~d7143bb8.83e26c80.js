(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~d7143bb8"],{"1b6a":function(e,t,n){"use strict";var o=n("0e04"),a=n("f83b"),i=n("6af0"),l=n("1924"),r=n("85b2"),c=n("dde0"),s=n("8d54"),d=n("b975"),u=n("991b"),m=n("44e9"),p=n("4051"),h=n("0b4a"),f=n("3736"),b=n("1a5d"),g=n("61ad"),O=n("c937"),j=n("e2a6"),k=n("e107"),v=n("f7b5"),x=n("80b5"),y=n("478e"),w=n("4b7f"),_=n("aec1"),M=n("d0db"),T=n("fff3"),E=n("6247"),L=n("b8b5"),S=n("d05a"),C=n("e395"),I=n("e47d"),N=n("aea3"),R=n("7860"),P=n("cba3"),U=n("4a63"),D=n("9f38"),A=n("e2aa"),W=n("1b98"),F=n("3368"),B=n("3522"),K=n("2a50"),$=n("be66"),G=n("dc6c"),V=n("a34e"),q=n("02f9"),z=n("b177"),H=n("610e"),X=n("d911"),Q=n("794e"),Y=n("0b0b"),J=n("8a61"),Z=n("2b83"),ee=n("6318"),te=n("6ec6"),ne=n("3d93"),oe=n("1be1"),ae=n("1ba5"),ie=n("e540"),le=n("4da7"),re=n("3a8e5"),ce=n("b816"),se=n("c0c5"),de=n("c81d"),ue=n("996e"),me=n("9184"),pe=n("4e42"),he=n("d5d1"),fe=n("5ed8"),be=n("27dc"),ge=n("ae81");const Oe={avi:"video/x-msvideo",bmp:"image/bmp",bz2:"application/x-bzip2",chm:"application/vnd.ms-htmlhelp",css:"text/css",csv:"text/csv",doc:"application/msword",dvi:"application/x-dvi",eps:"application/postscript",flv:"video/x-flv",gif:"image/gif",gz:"application/x-gzip",htm:"text/html",html:"text/html",ico:"image/vnd.microsoft.icon",jnlp:"application/x-java-jnlp-file",jpeg:"image/jpeg",jpg:"image/jpeg",m3u:"audio/x-mpegurl",m4v:"video/mp4",mathml:"application/mathml+xml",mid:"audio/midi",midi:"audio/midi",mov:"video/quicktime",mp3:"audio/mpeg",mp4:"video/mp4",mp4v:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",ogg:"application/ogg",pdf:"application/pdf",png:"image/png",pps:"application/vnd.ms-powerpoint",ppt:"application/vnd.ms-powerpoint",ps:"application/postscript",qt:"video/quicktime",rdf:"application/rdf+xml",rss:"application/rss+xml",rtf:"application/rtf",svg:"image/svg+xml",swf:"application/x-shockwave-flash",text:"text/plain",tif:"image/tiff",tiff:"image/tiff",txt:"text/plain",wav:"audio/x-wav",wma:"audio/x-ms-wma",wmv:"video/x-ms-wmv",xml:"application/xml",zip:"application/zip",detectFromFilename:function(e){let t=e.toLowerCase();return t=Object(x["a"])(t),Oe[t]}};let je;"undefined"!==typeof DOMParser&&(je=new DOMParser);const ke=new V["a"]({stripPrefix:!1,email:!1,replaceFn:function(e){if(!e.protocolUrlMatch)return!1}}),ve=32,xe=2414016,ye=1,we=16093e3,_e=.1,Me=[null,void 0,"http://www.opengis.net/kml/2.2","http://earth.google.com/kml/2.2","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.0"],Te=["http://www.google.com/kml/ext/2.2"],Ee=["http://www.w3.org/2005/Atom"],Le={kml:Me,gx:Te,atom:Ee,kmlgx:Me.concat(Te)},Se={Document:It,Folder:Nt,Placemark:Rt,NetworkLink:Jt,GroundOverlay:$t,PhotoOverlay:Gt,ScreenOverlay:Kt,Tour:Ut};function Ce(e){this._dataSource=e,this._deferred=Object(g["a"])(),this._stack=[],this._promises=[],this._timeoutSet=!1,this._used=!1,this._started=0,this._timeThreshold=1e3}function Ie(e){const t=e.slice(0,Math.min(4,e.size)),n=Object(g["a"])(),o=new FileReader;return o.addEventListener("load",(function(){n.resolve(1347093252===new DataView(o.result).getUint32(0,!1))})),o.addEventListener("error",(function(){n.reject(o.error)})),o.readAsArrayBuffer(t),n.promise}function Ne(e){const t=Object(g["a"])(),n=new FileReader;return n.addEventListener("load",(function(){t.resolve(n.result)})),n.addEventListener("error",(function(){t.reject(n.error)})),n.readAsText(e),t.promise}function Re(e){const t={xsi:"http://www.w3.org/2001/XMLSchema-instance"};let n,o,a,i;for(const l in t)t.hasOwnProperty(l)&&(a=RegExp(`[< ]${l}:`),i=`xmlns:${l}=`,a.test(e)&&-1===e.indexOf(i)&&(Object(O["a"])(n)||(n=e.substr(0,e.indexOf("<kml")+4),o=e.substr(n.length)),n+=` ${i}"${t[l]}"`));return Object(O["a"])(n)&&(e=n+o),e}function Pe(e){let t=e.indexOf("xmlns:");const n=e.indexOf(">",t);let o,a,i;while(-1!==t&&t<n)o=e.slice(t,e.indexOf('"',t)),a=t,t=e.indexOf(o,t+1),-1!==t?(i=e.indexOf('"',e.indexOf('"',t)+1),e=e.slice(0,t-1)+e.slice(i+1,e.length),t=e.indexOf("xmlns:",a-1)):t=e.indexOf("xmlns:",a+1);return e}function Ue(e,t){return Promise.resolve(e.getData(new z["a"].TextWriter)).then((function(e){e=Re(e),e=Pe(e),t.kml=je.parseFromString(e,"application/xml")}))}function De(e,t){const n=Object(b["a"])(Oe.detectFromFilename(e.filename),"application/octet-stream");return Promise.resolve(e.getData(new z["a"].Data64URIWriter(n))).then((function(n){t[e.filename]=n}))}function Ae(e,t,n,o){const a=o.keys,i=new q["a"]("."),l=e.querySelectorAll(t);for(let r=0;r<l.length;r++){const e=l[r],c=e.getAttribute(n),s=new q["a"](c),d=s.absoluteTo(i).toString(),u=a.indexOf(d);if(-1!==u){const i=a[u];e.setAttribute(n,o[i]),"a"===t&&null===e.getAttribute("download")&&e.setAttribute("download",i)}}}function We(e,t,n,o){const a=e.querySelectorAll(t);for(let i=0;i<a.length;i++){const e=a[i],t=e.getAttribute(n),l=Je(t,o);e.setAttribute(n,l.url)}}function Fe(e,t,n){let o=Ve(e,"id");o=Object(O["a"])(o)&&0!==o.length?o:Object(h["a"])(),Object(O["a"])(n)&&(o=n+o);let a=t.getById(o);return Object(O["a"])(a)&&(o=Object(h["a"])(),Object(O["a"])(n)&&(o=n+o)),a=t.add(new Z["a"]({id:o})),Object(O["a"])(a.kml)||(a.addProperty("kml"),a.kml=new cn),a}function Be(e,t){return"absolute"===e||"relativeToGround"===e||"relativeToSeaFloor"===t}function Ke(e,t){if(!Object(O["a"])(e))return c["a"].fromDegrees(0,0,0,t);const n=e.match(/[^\s,\n]+/g);if(!Object(O["a"])(n))return c["a"].fromDegrees(0,0,0,t);let o=parseFloat(n[0]),a=parseFloat(n[1]),i=parseFloat(n[2]);return o=isNaN(o)?0:o,a=isNaN(a)?0:a,i=isNaN(i)?0:i,c["a"].fromDegrees(o,a,i,t)}function $e(e,t){if(!Object(O["a"])(e))return;const n=e.textContent.match(/[^\s\n]+/g);if(!Object(O["a"])(n))return;const o=n.length,a=new Array(o);let i=0;for(let l=0;l<o;l++)a[i++]=Ke(n[l],t);return a}function Ge(e,t){if(!Object(O["a"])(e))return;const n=e.getAttribute(t);if(null!==n){const e=parseFloat(n);return isNaN(e)?void 0:e}}function Ve(e,t){if(!Object(O["a"])(e))return;const n=e.getAttribute(t);return null!==n?n:void 0}function qe(e,t,n){if(!Object(O["a"])(e))return;const o=e.childNodes,a=o.length;for(let i=0;i<a;i++){const e=o[i];if(e.localName===t&&-1!==n.indexOf(e.namespaceURI))return e}}function ze(e,t,n){if(!Object(O["a"])(e))return;const o=[],a=e.getElementsByTagNameNS("*",t),i=a.length;for(let l=0;l<i;l++){const e=a[l];e.localName===t&&-1!==n.indexOf(e.namespaceURI)&&o.push(e)}return o}function He(e,t,n){if(!Object(O["a"])(e))return[];const o=[],a=e.childNodes,i=a.length;for(let l=0;l<i;l++){const e=a[l];e.localName===t&&-1!==n.indexOf(e.namespaceURI)&&o.push(e)}return o}function Xe(e,t,n){const o=qe(e,t,n);if(Object(O["a"])(o)){const e=parseFloat(o.textContent);return isNaN(e)?void 0:e}}function Qe(e,t,n){const o=qe(e,t,n);if(Object(O["a"])(o))return o.textContent.trim()}function Ye(e,t,n){const o=qe(e,t,n);if(Object(O["a"])(o)){const e=o.textContent.trim();return"1"===e||/^true$/i.test(e)}}function Je(e,t,n){if(!Object(O["a"])(e))return;let o;if(Object(O["a"])(n)){e=e.replace(/\\/g,"/");let a=n[e];if(Object(O["a"])(a))o=new D["a"]({url:a});else{const i=new q["a"](t.getUrlComponent()),l=new q["a"](e);a=n[l.absoluteTo(i)],Object(O["a"])(a)&&(o=new D["a"]({url:a}))}}return Object(O["a"])(o)||(o=t.getDerivedResource({url:e})),o}Object.defineProperties(Ce.prototype,{dataSource:{get:function(){return this._dataSource}}}),Ce.prototype.addNodes=function(e,t){this._stack.push({nodes:e,index:0,processingData:t}),this._used=!0},Ce.prototype.addPromise=function(e){this._promises.push(e)},Ce.prototype.wait=function(){const e=this._deferred;return this._used||e.resolve(),Promise.all([e.promise,Promise.all(this._promises)])},Ce.prototype.process=function(){const e=1===this._stack.length;return e&&(this._started=on._getTimestamp()),this._process(e)},Ce.prototype._giveUpTime=function(){if(this._timeoutSet)return;this._timeoutSet=!0,this._timeThreshold=50;const e=this;setTimeout((function(){e._timeoutSet=!1,e._started=on._getTimestamp(),e._process(!0)}),0)},Ce.prototype._nextNode=function(){const e=this._stack,t=e[e.length-1],n=t.index,o=t.nodes;if(n!==o.length)return++t.index,o[n]},Ce.prototype._pop=function(){const e=this._stack;return e.pop(),0!==e.length||(this._deferred.resolve(),!1)},Ce.prototype._process=function(e){const t=this.dataSource,n=this._stack[this._stack.length-1].processingData;let o=this._nextNode();while(Object(O["a"])(o)){const e=Se[o.localName];if(Object(O["a"])(e)&&(-1!==Le.kml.indexOf(o.namespaceURI)||-1!==Le.gx.indexOf(o.namespaceURI))&&(e(t,o,n,this),this._timeoutSet||on._getTimestamp()>this._started+this._timeThreshold))return void this._giveUpTime();o=this._nextNode()}this._pop()&&e&&this._process(!0)};const Ze={maximumRed:void 0,red:void 0,maximumGreen:void 0,green:void 0,maximumBlue:void 0,blue:void 0};function et(e,t){if(!Object(O["a"])(e)||/^\s*$/gm.test(e))return;"#"===e[0]&&(e=e.substring(1));const n=parseInt(e.substring(0,2),16)/255,o=parseInt(e.substring(2,4),16)/255,a=parseInt(e.substring(4,6),16)/255,i=parseInt(e.substring(6,8),16)/255;return t?(i>0?(Ze.maximumRed=i,Ze.red=void 0):(Ze.maximumRed=void 0,Ze.red=0),a>0?(Ze.maximumGreen=a,Ze.green=void 0):(Ze.maximumGreen=void 0,Ze.green=0),o>0?(Ze.maximumBlue=o,Ze.blue=void 0):(Ze.maximumBlue=void 0,Ze.blue=0),Ze.alpha=n,p["a"].fromRandom(Ze)):new p["a"](i,a,o,n)}function tt(e,t,n){const o=Qe(e,t,n);if(Object(O["a"])(o))return et(o,"random"===Qe(e,"colorMode",n))}function nt(e){const t=qe(e,"TimeStamp",Le.kmlgx),n=Qe(t,"when",Le.kmlgx);if(!Object(O["a"])(t)||!Object(O["a"])(n)||0===n.length)return;const o=E["a"].fromIso8601(n),a=new F["a"];return a.addInterval(new W["a"]({start:o,stop:T["a"].MAXIMUM_VALUE})),a}function ot(e){const t=qe(e,"TimeSpan",Le.kmlgx);if(!Object(O["a"])(t))return;let n;const o=qe(t,"begin",Le.kmlgx);let a=Object(O["a"])(o)?E["a"].fromIso8601(o.textContent):void 0;const i=qe(t,"end",Le.kmlgx);let l=Object(O["a"])(i)?E["a"].fromIso8601(i.textContent):void 0;if(Object(O["a"])(a)&&Object(O["a"])(l)){if(E["a"].lessThan(l,a)){const e=a;a=l,l=e}n=new F["a"],n.addInterval(new W["a"]({start:a,stop:l}))}else Object(O["a"])(a)?(n=new F["a"],n.addInterval(new W["a"]({start:a,stop:T["a"].MAXIMUM_VALUE}))):Object(O["a"])(l)&&(n=new F["a"],n.addInterval(new W["a"]({start:T["a"].MINIMUM_VALUE,stop:l})));return n}function at(){const e=new X["a"];return e.width=ve,e.height=ve,e.scaleByDistance=new S["a"](xe,ye,we,_e),e.pixelOffsetScaleByDistance=new S["a"](xe,ye,we,_e),e}function it(){const e=new se["a"];return e.outline=!0,e.outlineColor=p["a"].WHITE,e}function lt(){const e=new re["a"];return e.translucencyByDistance=new S["a"](3e6,1,5e6,0),e.pixelOffset=new r["a"](17,0),e.horizontalOrigin=K["a"].LEFT,e.font="16px sans-serif",e.style=$["a"].FILL_AND_OUTLINE,e}function rt(e,t,n,o,a){let i=Qe(e,"href",Le.kml);if(!Object(O["a"])(i)||0===i.length)return;if(0===i.indexOf("root://icons/palette-")){const t=i.charAt(21);let n=Object(b["a"])(Xe(e,"x",Le.gx),0),o=Object(b["a"])(Xe(e,"y",Le.gx),0);n=Math.min(n/32,7),o=7-Math.min(o/32,7);const a=8*o+n;i=`https://maps.google.com/mapfiles/kml/pal${t}/icon${a}.png`}const l=Je(i,n,o);if(a){const n=Qe(e,"refreshMode",Le.kml),o=Qe(e,"viewRefreshMode",Le.kml);"onInterval"===n||"onExpire"===n?Object(I["a"])("kml-refreshMode-"+n,"KML - Unsupported Icon refreshMode: "+n):"onStop"!==o&&"onRegion"!==o||Object(I["a"])("kml-refreshMode-"+o,"KML - Unsupported Icon viewRefreshMode: "+o);const a=Object(b["a"])(Qe(e,"viewBoundScale",Le.kml),1),i="onStop"===o?"BBOX=[bboxWest],[bboxSouth],[bboxEast],[bboxNorth]":"",r=Object(b["a"])(Qe(e,"viewFormat",Le.kml),i),c=Qe(e,"httpQuery",Le.kml);Object(O["a"])(r)&&l.setQueryParameters(Object(P["a"])(qt(r))),Object(O["a"])(c)&&l.setQueryParameters(Object(P["a"])(qt(c)));const s=t._ellipsoid;return Yt(l,t._camera,t._canvas,a,t._lastCameraView.bbox,s),l}return l}function ct(e,t,n,o,a){let l=Xe(t,"scale",Le.kml);const s=Xe(t,"heading",Le.kml),d=tt(t,"color",Le.kml),u=qe(t,"Icon",Le.kml);let m=rt(u,e,o,a,!1);Object(O["a"])(u)&&!Object(O["a"])(m)&&(m=!1);const p=Xe(u,"x",Le.gx),h=Xe(u,"y",Le.gx),f=Xe(u,"w",Le.gx),g=Xe(u,"h",Le.gx),j=qe(t,"hotSpot",Le.kml),k=Ge(j,"x"),v=Ge(j,"y"),x=Ve(j,"xunits"),y=Ve(j,"yunits");let w,_,M=n.billboard;Object(O["a"])(M)||(M=at(),n.billboard=M),M.image=m,M.scale=l,M.color=d,(Object(O["a"])(p)||Object(O["a"])(h)||Object(O["a"])(f)||Object(O["a"])(g))&&(M.imageSubRegion=new i["a"](p,h,f,g)),Object(O["a"])(s)&&0!==s&&(M.rotation=L["a"].toRadians(-s),M.alignedAxis=c["a"].UNIT_Z),l=Object(b["a"])(l,1),Object(O["a"])(k)&&("pixels"===x?w=-k*l:"insetPixels"===x?w=(k-ve)*l:"fraction"===x&&(w=-k*ve*l),w+=.5*ve*l),Object(O["a"])(v)&&("pixels"===y?_=v*l:"insetPixels"===y?_=(-v+ve)*l:"fraction"===y&&(_=v*ve*l),_-=.5*ve*l),(Object(O["a"])(w)||Object(O["a"])(_))&&(M.pixelOffset=new r["a"](w,_))}function st(e,t,n,o,a){for(let i=0,l=t.childNodes.length;i<l;i++){const l=t.childNodes.item(i);if("IconStyle"===l.localName)ct(e,l,n,o,a);else if("LabelStyle"===l.localName){let e=n.label;Object(O["a"])(e)||(e=lt(),n.label=e),e.scale=Object(b["a"])(Xe(l,"scale",Le.kml),e.scale),e.fillColor=Object(b["a"])(tt(l,"color",Le.kml),e.fillColor),e.text=n.name}else if("LineStyle"===l.localName){let e=n.polyline;Object(O["a"])(e)||(e=new de["a"],n.polyline=e),e.width=Xe(l,"width",Le.kml),e.material=tt(l,"color",Le.kml),Object(O["a"])(tt(l,"outerColor",Le.gx))&&Object(I["a"])("kml-gx:outerColor","KML - gx:outerColor is not supported in a LineStyle"),Object(O["a"])(Xe(l,"outerWidth",Le.gx))&&Object(I["a"])("kml-gx:outerWidth","KML - gx:outerWidth is not supported in a LineStyle"),Object(O["a"])(Xe(l,"physicalWidth",Le.gx))&&Object(I["a"])("kml-gx:physicalWidth","KML - gx:physicalWidth is not supported in a LineStyle"),Object(O["a"])(Ye(l,"labelVisibility",Le.gx))&&Object(I["a"])("kml-gx:labelVisibility","KML - gx:labelVisibility is not supported in a LineStyle")}else if("PolyStyle"===l.localName){let e=n.polygon;Object(O["a"])(e)||(e=it(),n.polygon=e),e.material=Object(b["a"])(tt(l,"color",Le.kml),e.material),e.fill=Object(b["a"])(Ye(l,"fill",Le.kml),e.fill),e.outline=Object(b["a"])(Ye(l,"outline",Le.kml),e.outline)}else if("BalloonStyle"===l.localName){const e=Object(b["a"])(et(Qe(l,"bgColor",Le.kml)),p["a"].WHITE),t=Object(b["a"])(et(Qe(l,"textColor",Le.kml)),p["a"].BLACK),o=Qe(l,"text",Le.kml);n.addProperty("balloonStyle"),n.balloonStyle={bgColor:e,textColor:t,text:o}}else if("ListStyle"===l.localName){const e=Qe(l,"listItemType",Le.kml);"radioFolder"!==e&&"checkOffOnly"!==e||Object(I["a"])("kml-listStyle-"+e,"KML - Unsupported ListStyle with listItemType: "+e)}}}function dt(e,t,n,o,a){const i=new Z["a"];let l,r=-1;const c=t.childNodes,s=c.length;for(let u=0;u<s;u++){const e=c[u];"Style"!==e.localName&&"StyleMap"!==e.localName||(r=u)}if(-1!==r){const t=c[r];if("Style"===t.localName)st(e,t,i,o,a);else{const r=He(t,"Pair",Le.kml);for(let t=0;t<r.length;t++){const c=r[t],s=Qe(c,"key",Le.kml);if("normal"===s){const t=Qe(c,"styleUrl",Le.kml);if(Object(O["a"])(t))l=n.getById(t),Object(O["a"])(l)||(l=n.getById("#"+t)),Object(O["a"])(l)&&i.merge(l);else{const t=qe(c,"Style",Le.kml);st(e,t,i,o,a)}}else Object(I["a"])("kml-styleMap-"+s,"KML - Unsupported StyleMap key: "+s)}}}const d=Qe(t,"styleUrl",Le.kml);if(Object(O["a"])(d)){let e=d;if("#"!==d[0]&&-1!==d.indexOf("#")){const t=d.split("#"),n=t[0],a=o.getDerivedResource({url:n});e=`${a.getUrlComponent()}#${t[1]}`}l=n.getById(e),Object(O["a"])(l)||(l=n.getById("#"+e)),Object(O["a"])(l)&&i.merge(l)}return i}function ut(e,t,n){return t.fetchXML().then((function(o){return mt(e,o,n,t,!0)}))}function mt(e,t,n,o,a,i){let l,r,c,s;const d=ze(t,"Style",Le.kml);if(Object(O["a"])(d)){const t=d.length;for(l=0;l<t;l++)s=d[l],r=Ve(s,"id"),Object(O["a"])(r)&&(r="#"+r,a&&Object(O["a"])(o)&&(r=o.getUrlComponent()+r),Object(O["a"])(n.getById(r))||(c=new Z["a"]({id:r}),n.add(c),st(e,s,c,o,i)))}const u=ze(t,"StyleMap",Le.kml);if(Object(O["a"])(u)){const t=u.length;for(l=0;l<t;l++){const t=u[l];if(r=Ve(t,"id"),Object(O["a"])(r)){const l=He(t,"Pair",Le.kml);for(let t=0;t<l.length;t++){const d=l[t],u=Qe(d,"key",Le.kml);if("normal"===u){if(r="#"+r,a&&Object(O["a"])(o)&&(r=o.getUrlComponent()+r),!Object(O["a"])(n.getById(r))){c=n.getOrCreateEntity(r);let t=Qe(d,"styleUrl",Le.kml);if(Object(O["a"])(t)){"#"!==t[0]&&(t="#"+t),a&&Object(O["a"])(o)&&(t=o.getUrlComponent()+t);const e=n.getById(t);Object(O["a"])(e)&&c.merge(e)}else s=qe(d,"Style",Le.kml),st(e,s,c,o,i)}}else Object(I["a"])("kml-styleMap-"+u,"KML - Unsupported StyleMap key: "+u)}}}}const m=[],p=t.getElementsByTagName("styleUrl"),h=p.length;for(l=0;l<h;l++){const t=p[l].textContent;if("#"!==t[0]){const a=t.split("#");if(2===a.length){const t=a[0],i=o.getDerivedResource({url:t});m.push(ut(e,i,n))}}}return m}function pt(e,t,n){const o=new pe["a"](e,t.id,["position"]),a=new fe["a"](t.position);t.polyline=Object(O["a"])(n.polyline)?n.polyline.clone():new de["a"],t.polyline.positions=new ue["a"]([o,a])}function ht(e,t){return!Object(O["a"])(e)&&!Object(O["a"])(t)||"clampToGround"===e?B["a"].CLAMP_TO_GROUND:"relativeToGround"===e?B["a"].RELATIVE_TO_GROUND:"absolute"===e?B["a"].NONE:"clampToSeaFloor"===t?(Object(I["a"])("kml-gx:altitudeMode-clampToSeaFloor","KML - <gx:altitudeMode>:clampToSeaFloor is currently not supported, using <kml:altitudeMode>:clampToGround."),B["a"].CLAMP_TO_GROUND):"relativeToSeaFloor"===t?(Object(I["a"])("kml-gx:altitudeMode-relativeToSeaFloor","KML - <gx:altitudeMode>:relativeToSeaFloor is currently not supported, using <kml:altitudeMode>:relativeToGround."),B["a"].RELATIVE_TO_GROUND):(Object(O["a"])(e)?Object(I["a"])("kml-altitudeMode-unknown",`KML - Unknown <kml:altitudeMode>:${e}, using <kml:altitudeMode>:CLAMP_TO_GROUND.`):Object(I["a"])("kml-gx:altitudeMode-unknown",`KML - Unknown <gx:altitudeMode>:${t}, using <kml:altitudeMode>:CLAMP_TO_GROUND.`),B["a"].CLAMP_TO_GROUND)}function ft(e,t,n){return"relativeToSeaFloor"===n||"absolute"===t||"relativeToGround"===t?e:((Object(O["a"])(t)&&"clampToGround"!==t||Object(O["a"])(n)&&"clampToSeaFloor"!==n)&&Object(I["a"])("kml-altitudeMode-unknown","KML - Unknown altitudeMode: "+Object(b["a"])(t,n)),new fe["a"](e))}function bt(e,t,n,o){if(!Object(O["a"])(e))return;if("relativeToSeaFloor"===n||"absolute"===t||"relativeToGround"===t)return e;(Object(O["a"])(t)&&"clampToGround"!==t||Object(O["a"])(n)&&"clampToSeaFloor"!==n)&&Object(I["a"])("kml-altitudeMode-unknown","KML - Unknown altitudeMode: "+Object(b["a"])(t,n));const a=e.length;for(let i=0;i<a;i++){const t=e[i];o.scaleToGeodeticSurface(t,t)}return e}function gt(e,t,n,o){let a=t.label;Object(O["a"])(a)||(a=Object(O["a"])(n.label)?n.label.clone():lt(),t.label=a),a.text=t.name;let i=t.billboard;Object(O["a"])(i)||(i=Object(O["a"])(n.billboard)?n.billboard.clone():at(),t.billboard=i),Object(O["a"])(i.image)?i.image.getValue()||(i.image=void 0):i.image=e._pinBuilder.fromColor(p["a"].YELLOW,64);let l=1;Object(O["a"])(i.scale)&&(l=i.scale.getValue(),0!==l?a.pixelOffset=new r["a"](16*l+1,0):(a.pixelOffset=void 0,a.horizontalOrigin=void 0)),Object(O["a"])(o)&&e._clampToGround&&(i.heightReference=o,a.heightReference=o)}function Ot(e,t){let n=e.path;Object(O["a"])(n)||(n=new ce["a"],n.leadTime=0,e.path=n);const o=t.polyline;Object(O["a"])(o)&&(n.material=o.material,n.width=o.width)}function jt(e,t,n,o,a){const i=Qe(n,"coordinates",Le.kml),l=Qe(n,"altitudeMode",Le.kml),r=Qe(n,"altitudeMode",Le.gx),c=Ye(n,"extrude",Le.kml),s=e._ellipsoid,d=Ke(i,s);return o.position=d,gt(e,o,a,ht(l,r)),c&&Be(l,r)&&pt(t,o,a),!0}function kt(e,t,n,a,i){const l=qe(n,"coordinates",Le.kml),r=Qe(n,"altitudeMode",Le.kml),c=Qe(n,"altitudeMode",Le.gx),s=Ye(n,"extrude",Le.kml),d=Ye(n,"tessellate",Le.kml),u=Be(r,c),m=Xe(n,"drawOrder",Le.gx),h=e._ellipsoid,f=$e(l,h);let g=i.polyline;if(u&&s){const e=new ge["a"];a.wall=e,e.positions=f;const t=i.polygon;Object(O["a"])(t)&&(e.fill=t.fill,e.material=t.material),e.outline=!0,Object(O["a"])(g)?(e.outlineColor=Object(O["a"])(g.material)?g.material.color:p["a"].WHITE,e.outlineWidth=g.width):Object(O["a"])(t)&&(e.outlineColor=Object(O["a"])(t.material)?t.material.color:p["a"].WHITE)}else if(e._clampToGround&&!u&&d){const e=new de["a"];e.clampToGround=!0,a.polyline=e,e.positions=f,Object(O["a"])(g)?(e.material=Object(O["a"])(g.material)?g.material.color.getValue(T["a"].MINIMUM_VALUE):p["a"].WHITE,e.width=Object(b["a"])(g.width,1)):(e.material=p["a"].WHITE,e.width=1),e.zIndex=m}else Object(O["a"])(m)&&Object(I["a"])("kml-gx:drawOrder","KML - gx:drawOrder is not supported in LineStrings when clampToGround is false"),e._clampToGround&&!d&&Object(I["a"])("kml-line-tesselate","Ignoring clampToGround for KML lines without the tessellate flag."),g=Object(O["a"])(g)?g.clone():new de["a"],a.polyline=g,g.positions=bt(f,r,c,h),d&&!u||(g.arcType=o["a"].NONE);return!0}function vt(e,t,n,o,a){const i=qe(n,"outerBoundaryIs",Le.kml);let l=qe(i,"LinearRing",Le.kml),r=qe(l,"coordinates",Le.kml);const c=e._ellipsoid;let s=$e(r,c);const d=Ye(n,"extrude",Le.kml),u=Qe(n,"altitudeMode",Le.kml),m=Qe(n,"altitudeMode",Le.gx),h=Be(u,m),f=Object(O["a"])(a.polygon)?a.polygon.clone():it(),b=a.polyline;if(Object(O["a"])(b)&&(f.outlineColor=Object(O["a"])(b.material)?b.material.color:p["a"].WHITE,f.outlineWidth=b.width),o.polygon=f,h?(f.perPositionHeight=!0,f.extrudedHeight=d?0:void 0):e._clampToGround||(f.height=0),Object(O["a"])(s)){const e=new R["a"](s),t=He(n,"innerBoundaryIs",Le.kml);for(let n=0;n<t.length;n++){l=He(t[n],"LinearRing",Le.kml);for(let t=0;t<l.length;t++)r=qe(l[t],"coordinates",Le.kml),s=$e(r,c),Object(O["a"])(s)&&e.holes.push(new R["a"](s))}f.hierarchy=e}return!0}function xt(e,t,n,o,a){const i=Qe(n,"altitudeMode",Le.kml),l=Qe(n,"altitudeMode",Le.gx),r=He(n,"coord",Le.gx),c=He(n,"angles",Le.gx),s=He(n,"when",Le.kml),d=Ye(n,"extrude",Le.kml),u=Be(i,l),m=e._ellipsoid;c.length>0&&Object(I["a"])("kml-gx:angles","KML - gx:angles are not supported in gx:Tracks");const p=Math.min(r.length,s.length),h=[],f=[];for(let g=0;g<p;g++){const e=Ke(r[g].textContent,m);h.push(e),f.push(E["a"].fromIso8601(s[g].textContent))}const b=new he["a"];return b.addSamples(f,h),o.position=b,gt(e,o,a,ht(i,l)),Ot(o,a),o.availability=new F["a"],s.length>0&&o.availability.addInterval(new W["a"]({start:f[0],stop:f[f.length-1]})),u&&d&&pt(t,o,a),!0}function yt(e,t,n,o,a,i,l,r,c){const s=e[0],d=e[e.length-1],u=new he["a"];u.addSamples(e,t),n.intervals.addInterval(new W["a"]({start:s,stop:d,isStartIncluded:c,isStopIncluded:c,data:ft(u,l,r)})),o.addInterval(new W["a"]({start:s,stop:d,isStartIncluded:c,isStopIncluded:c})),a.intervals.addInterval(new W["a"]({start:s,stop:d,isStartIncluded:c,isStopIncluded:c,data:i}))}function wt(e,t,n,o,a){const i=Ye(n,"interpolate",Le.gx),l=He(n,"Track",Le.gx);let r,c,s,d=!1;const u=new be["a"],m=new F["a"],p=new Q["a"],h=e._ellipsoid;for(let f=0,b=l.length;f<b;f++){const e=l[f],t=He(e,"when",Le.kml),n=He(e,"coord",Le.gx),o=Qe(e,"altitudeMode",Le.kml),a=Qe(e,"altitudeMode",Le.gx),b=Be(o,a),g=Ye(e,"extrude",Le.kml),j=Math.min(n.length,t.length),k=[];r=[];for(let i=0;i<j;i++){const e=Ke(n[i].textContent,h);k.push(e),r.push(E["a"].fromIso8601(t[i].textContent))}i&&(Object(O["a"])(c)&&yt([c,r[0]],[s,k[0]],p,m,u,!1,"absolute",void 0,!1),c=r[j-1],s=k[k.length-1]),yt(r,k,p,m,u,b&&g,o,a,!0),d=d||b&&g}return o.availability=m,o.position=p,gt(e,o,a),Ot(o,a),d&&(pt(t,o,a),o.polyline.show=u),!0}const _t={Point:jt,LineString:kt,LinearRing:kt,Polygon:vt,Track:xt,MultiTrack:wt,MultiGeometry:Mt,Model:Tt};function Mt(e,t,n,o,a,i){const l=n.childNodes;let r=!1;for(let c=0,s=l.length;c<s;c++){const n=l.item(c),s=_t[n.localName];if(Object(O["a"])(s)){const l=Fe(n,t,i);l.parent=o,l.name=o.name,l.availability=o.availability,l.description=o.description,l.kml=o.kml,s(e,t,n,l,a)&&(r=!0)}}return r}function Tt(e,t,n,o,a){return Object(I["a"])("kml-unsupportedGeometry","KML - Unsupported geometry: "+n.localName),!1}function Et(e,t){const n=qe(e,"ExtendedData",Le.kml);if(!Object(O["a"])(n))return;Object(O["a"])(qe(n,"SchemaData",Le.kml))&&Object(I["a"])("kml-schemaData","KML - SchemaData is unsupported"),Object(O["a"])(Ve(n,"xmlns:prefix"))&&Object(I["a"])("kml-extendedData","KML - ExtendedData with xmlns:prefix is unsupported");const o={},a=He(n,"Data",Le.kml);if(Object(O["a"])(a)){const e=a.length;for(let t=0;t<e;t++){const e=a[t],n=Ve(e,"name");Object(O["a"])(n)&&(o[n]={displayName:Qe(e,"displayName",Le.kml),value:Qe(e,"value",Le.kml)})}}t.kml.extendedData=o}let Lt;function St(e,t,n,o,a){let i,l,r;const c=t.kml,s=c.extendedData,d=Qe(e,"description",Le.kml),u=Object(b["a"])(t.balloonStyle,n.balloonStyle);let m,h=p["a"].WHITE,f=p["a"].BLACK,g=d;if(Object(O["a"])(u)&&(h=Object(b["a"])(u.bgColor,p["a"].WHITE),f=Object(b["a"])(u.textColor,p["a"].BLACK),g=Object(b["a"])(u.text,d)),Object(O["a"])(g)){if(g=g.replace("$[name]",Object(b["a"])(t.name,"")),g=g.replace("$[description]",Object(b["a"])(d,"")),g=g.replace("$[address]",Object(b["a"])(c.address,"")),g=g.replace("$[Snippet]",Object(b["a"])(c.snippet,"")),g=g.replace("$[id]",t.id),g=g.replace("$[geDirections]",""),Object(O["a"])(s)){const e=g.match(/\$\[.+?\]/g);if(null!==e)for(i=0;i<e.length;i++){const t=e[i];let n=t.substr(2,t.length-3);const o=/\/displayName$/.test(n);n=n.replace(/\/displayName$/,""),m=s[n],Object(O["a"])(m)&&(m=o?m.displayName:m.value),Object(O["a"])(m)&&(g=g.replace(t,Object(b["a"])(m,"")))}}}else if(Object(O["a"])(s)&&(r=Object.keys(s),r.length>0)){for(g='<table class="cesium-infoBox-defaultTable cesium-infoBox-defaultTable-lighter"><tbody>',i=0;i<r.length;i++)l=r[i],m=s[l],g+=`<tr><th>${Object(b["a"])(m.displayName,l)}</th><td>${Object(b["a"])(m.value,"")}</td></tr>`;g+="</tbody></table>"}if(!Object(O["a"])(g))return;g=ke.link(g),Lt.innerHTML=g;const j=Lt.querySelectorAll("a");for(i=0;i<j.length;i++)j[i].setAttribute("target","_blank");Object(O["a"])(o)&&o.keys.length>1&&(Ae(Lt,"a","href",o),Ae(Lt,"link","href",o),Ae(Lt,"area","href",o),Ae(Lt,"img","src",o),Ae(Lt,"iframe","src",o),Ae(Lt,"video","src",o),Ae(Lt,"audio","src",o),Ae(Lt,"source","src",o),Ae(Lt,"track","src",o),Ae(Lt,"input","src",o),Ae(Lt,"embed","src",o),Ae(Lt,"script","src",o),Ae(Lt,"video","poster",o)),We(Lt,"a","href",a),We(Lt,"link","href",a),We(Lt,"area","href",a),We(Lt,"img","src",a),We(Lt,"iframe","src",a),We(Lt,"video","src",a),We(Lt,"audio","src",a),We(Lt,"source","src",a),We(Lt,"track","src",a),We(Lt,"input","src",a),We(Lt,"embed","src",a),We(Lt,"script","src",a),We(Lt,"video","poster",a);let k='<div class="cesium-infoBox-description-lighter" style="';k+="overflow:auto;",k+="word-wrap:break-word;",k+=`background-color:${h.toCssColorString()};`,k+=`color:${f.toCssColorString()};`,k+='">',k+=Lt.innerHTML+"</div>",Lt.innerHTML="",t.description=k}function Ct(e,t,n){const o=n.entityCollection,a=n.parentEntity,i=n.sourceResource,l=n.uriResolver,r=Fe(t,o,n.context),c=r.kml,s=dt(e,t,n.styleCollection,i,l),d=Qe(t,"name",Le.kml);r.name=d,r.parent=a;let u=ot(t);function m(e){return!e||e.show&&m(e.parent)}Object(O["a"])(u)||(u=nt(t)),r.availability=u,an(r);const p=Ye(t,"visibility",Le.kml);r.show=m(a)&&Object(b["a"])(p,!0);const h=qe(t,"author",Le.atom),f=c.author;f.name=Qe(h,"name",Le.atom),f.uri=Qe(h,"uri",Le.atom),f.email=Qe(h,"email",Le.atom);const g=qe(t,"link",Le.atom),j=c.link;j.href=Ve(g,"href"),j.hreflang=Ve(g,"hreflang"),j.rel=Ve(g,"rel"),j.type=Ve(g,"type"),j.title=Ve(g,"title"),j.length=Ve(g,"length"),c.address=Qe(t,"address",Le.kml),c.phoneNumber=Qe(t,"phoneNumber",Le.kml),c.snippet=Qe(t,"Snippet",Le.kml),Et(t,r),St(t,r,s,l,i);const k=e._ellipsoid;return Bt(t,r,k),Ft(t,r,k),Object(O["a"])(qe(t,"Region",Le.kml))&&Object(I["a"])("kml-region","KML - Placemark Regions are unsupported"),{entity:r,styleEntity:s}}function It(e,t,n,o){o.addNodes(t.childNodes,n),o.process()}function Nt(e,t,n,o){const a=Ct(e,t,n),i=Object(m["a"])(n);i.parentEntity=a.entity,It(e,t,i,o)}function Rt(e,t,n,o){const a=Ct(e,t,n),i=a.entity,l=a.styleEntity;let r=!1;const c=t.childNodes;for(let s=0,d=c.length;s<d&&!r;s++){const t=c.item(s),o=_t[t.localName];Object(O["a"])(o)&&(o(e,n.entityCollection,t,i,l,i.id),r=!0)}r||(i.merge(l),gt(e,i,l))}"undefined"!==typeof document&&(Lt=document.createElement("div"));const Pt={FlyTo:Wt,Wait:At,SoundCue:Dt,AnimatedUpdate:Dt,TourControl:Dt};function Ut(e,t,n,o){const a=Qe(t,"name",Le.kml),i=Ve(t,"id"),l=new ae["a"](a,i),r=qe(t,"Playlist",Le.gx);if(r){const t=e._ellipsoid,n=r.childNodes;for(let e=0;e<n.length;e++){const o=n[e];if(o.localName){const e=Pt[o.localName];e?e(l,o,t):console.log("Unknown KML Tour playlist entry type "+o.localName)}}}e._kmlTours.push(l)}function Dt(e,t){Object(I["a"])("KML Tour unsupported node "+t.localName)}function At(e,t){const n=Xe(t,"duration",Le.gx);e.addPlaylistEntry(new le["a"](n))}function Wt(e,t,n){const o=Xe(t,"duration",Le.gx),a=Qe(t,"flyToMode",Le.gx),i={kml:{}};Bt(t,i,n),Ft(t,i,n);const l=i.kml.lookAt||i.kml.camera,r=new ie["a"](o,a,l);e.addPlaylistEntry(r)}function Ft(e,t,n){const o=qe(e,"Camera",Le.kml);if(Object(O["a"])(o)){const e=Object(b["a"])(Xe(o,"longitude",Le.kml),0),a=Object(b["a"])(Xe(o,"latitude",Le.kml),0),i=Object(b["a"])(Xe(o,"altitude",Le.kml),0),l=Object(b["a"])(Xe(o,"heading",Le.kml),0),r=Object(b["a"])(Xe(o,"tilt",Le.kml),0),s=Object(b["a"])(Xe(o,"roll",Le.kml),0),d=c["a"].fromDegrees(e,a,i,n),u=M["a"].fromDegrees(l,r-90,s);t.kml.camera=new ne["a"](d,u)}}function Bt(e,t,n){const o=qe(e,"LookAt",Le.kml);if(Object(O["a"])(o)){const e=Object(b["a"])(Xe(o,"longitude",Le.kml),0),a=Object(b["a"])(Xe(o,"latitude",Le.kml),0),i=Object(b["a"])(Xe(o,"altitude",Le.kml),0);let l=Xe(o,"heading",Le.kml),r=Xe(o,"tilt",Le.kml);const s=Object(b["a"])(Xe(o,"range",Le.kml),0);r=L["a"].toRadians(Object(b["a"])(r,0)),l=L["a"].toRadians(Object(b["a"])(l,0));const d=new _["a"](l,r-L["a"].PI_OVER_TWO,s),u=c["a"].fromDegrees(e,a,i,n);t.kml.lookAt=new oe["a"](u,d)}}function Kt(e,t,n,o){const a=n.screenOverlayContainer;if(!Object(O["a"])(a))return;const i=n.sourceResource,l=n.uriResolver,r=qe(t,"Icon",Le.kml),c=rt(r,e,i,l,!1);if(!Object(O["a"])(c))return;const s=document.createElement("img");e._screenOverlays.push(s),s.src=c.url,s.onload=function(){const e=["position: absolute"],n=qe(t,"screenXY",Le.kml),o=qe(t,"overlayXY",Le.kml),a=qe(t,"size",Le.kml);let i,l,r,c,d,u;Object(O["a"])(a)&&(i=Ge(a,"x"),l=Ge(a,"y"),r=Ve(a,"xunits"),c=Ve(a,"yunits"),Object(O["a"])(i)&&-1!==i&&0!==i&&("fraction"===r?d=`width: ${Math.floor(100*i)}%`:"pixels"===r&&(d=`width: ${i}px`),e.push(d)),Object(O["a"])(l)&&-1!==l&&0!==l&&("fraction"===c?u=`height: ${Math.floor(100*l)}%`:"pixels"===c&&(u=`height: ${l}px`),e.push(u))),s.style=e.join(";");let m=0,p=s.height;Object(O["a"])(o)&&(i=Ge(o,"x"),l=Ge(o,"y"),r=Ve(o,"xunits"),c=Ve(o,"yunits"),Object(O["a"])(i)&&("fraction"===r?m=i*s.width:("pixels"===r||"insetPixels"===r)&&(m=i)),Object(O["a"])(l)&&("fraction"===c?p=l*s.height:("pixels"===c||"insetPixels"===c)&&(p=l))),Object(O["a"])(n)&&(i=Ge(n,"x"),l=Ge(n,"y"),r=Ve(n,"xunits"),c=Ve(n,"yunits"),Object(O["a"])(i)&&("fraction"===r?d=`left: calc(${Math.floor(100*i)}% - ${m}px)`:"pixels"===r?d=`left: ${i-m}px`:"insetPixels"===r&&(d=`right: ${i-m}px`),e.push(d)),Object(O["a"])(l)&&("fraction"===c?u=`bottom: calc(${Math.floor(100*l)}% - ${p}px)`:"pixels"===c?u=`bottom: ${l-p}px`:"insetPixels"===c&&(u=`top: ${l-p}px`),e.push(u))),s.style=e.join(";")},a.appendChild(s)}function $t(e,t,n,o){const a=Ct(e,t,n),i=a.entity;let l,r=!1;const c=e._ellipsoid,s=$e(qe(t,"LatLonQuad",Le.gx),c),d=Xe(t,"drawOrder",Le.kml);if(Object(O["a"])(s))l=it(),l.hierarchy=new R["a"](s),l.zIndex=d,i.polygon=l,r=!0;else{l=new me["a"],l.zIndex=d,i.rectangle=l;const e=qe(t,"LatLonBox",Le.kml);if(Object(O["a"])(e)){let t=Xe(e,"west",Le.kml),n=Xe(e,"south",Le.kml),o=Xe(e,"east",Le.kml),a=Xe(e,"north",Le.kml);Object(O["a"])(t)&&(t=L["a"].negativePiToPi(L["a"].toRadians(t))),Object(O["a"])(n)&&(n=L["a"].clampToLatitudeRange(L["a"].toRadians(n))),Object(O["a"])(o)&&(o=L["a"].negativePiToPi(L["a"].toRadians(o))),Object(O["a"])(a)&&(a=L["a"].clampToLatitudeRange(L["a"].toRadians(a))),l.coordinates=new U["a"](t,n,o,a);const i=Xe(e,"rotation",Le.kml);if(Object(O["a"])(i)){const e=L["a"].toRadians(i);l.rotation=e,l.stRotation=e}}}const u=qe(t,"Icon",Le.kml),m=rt(u,e,n.sourceResource,n.uriResolver,!0);if(Object(O["a"])(m)){r&&Object(I["a"])("kml-gx:LatLonQuad","KML - gx:LatLonQuad Icon does not support texture projection.");const e=Xe(u,"x",Le.gx),n=Xe(u,"y",Le.gx),o=Xe(u,"w",Le.gx),a=Xe(u,"h",Le.gx);(Object(O["a"])(e)||Object(O["a"])(n)||Object(O["a"])(o)||Object(O["a"])(a))&&Object(I["a"])("kml-groundOverlay-xywh","KML - gx:x, gx:y, gx:w, gx:h aren't supported for GroundOverlays"),l.material=m,l.material.color=tt(t,"color",Le.kml),l.material.transparent=!0}else l.material=tt(t,"color",Le.kml);let p=Qe(t,"altitudeMode",Le.kml);Object(O["a"])(p)?"absolute"===p?(l.height=Xe(t,"altitude",Le.kml),l.zIndex=void 0):"clampToGround"!==p&&Object(I["a"])("kml-altitudeMode-unknown","KML - Unknown altitudeMode: "+p):(p=Qe(t,"altitudeMode",Le.gx),"relativeToSeaFloor"===p?(Object(I["a"])("kml-altitudeMode-relativeToSeaFloor","KML - altitudeMode relativeToSeaFloor is currently not supported, treating as absolute."),l.height=Xe(t,"altitude",Le.kml),l.zIndex=void 0):"clampToSeaFloor"===p?Object(I["a"])("kml-altitudeMode-clampToSeaFloor","KML - altitudeMode clampToSeaFloor is currently not supported, treating as clampToGround."):Object(O["a"])(p)&&Object(I["a"])("kml-altitudeMode-unknown","KML - Unknown altitudeMode: "+p))}function Gt(e,t,n,o){e._unsupportedNode.raiseEvent(e,n.parentEntity,t,n.entityCollection,n.styleCollection,n.sourceResource,n.uriResolver),Object(I["a"])("kml-unsupportedFeature-"+t.nodeName,"KML - Unsupported feature: "+t.nodeName)}const Vt={INTERVAL:0,EXPIRE:1,STOP:2};function qt(e){if(!Object(O["a"])(e)||0===e.length)return"";const t=e[0];return"&"!==t&&"?"!==t||(e=e.substring(1)),e}const zt=new U["a"],Ht=new s["a"],Xt=new r["a"],Qt=new c["a"];function Yt(e,t,n,o,a,i){function l(e){return e<-L["a"].PI_OVER_TWO?-L["a"].PI_OVER_TWO:e>L["a"].PI_OVER_TWO?L["a"].PI_OVER_TWO:e}function r(e){return e>L["a"].PI?e-L["a"].TWO_PI:e<-L["a"].PI?e+L["a"].TWO_PI:e}let s=Object(C["a"])(e.queryParameters);if(s=s.replace(/%5B/g,"[").replace(/%5D/g,"]"),Object(O["a"])(t)&&t._mode!==G["a"].MORPHING){let e,d;if(a=Object(b["a"])(a,zt),Object(O["a"])(n)&&(Xt.x=.5*n.clientWidth,Xt.y=.5*n.clientHeight,e=t.pickEllipsoid(Xt,i,Qt)),Object(O["a"])(e)?d=i.cartesianToCartographic(e,Ht):(d=U["a"].center(a,Ht),e=i.cartographicToCartesian(d)),Object(O["a"])(o)&&!L["a"].equalsEpsilon(o,1,L["a"].EPSILON9)){const e=a.width*o*.5,t=a.height*o*.5;a=new U["a"](r(d.longitude-e),l(d.latitude-t),r(d.longitude+e),l(d.latitude+t))}s=s.replace("[bboxWest]",L["a"].toDegrees(a.west).toString()),s=s.replace("[bboxSouth]",L["a"].toDegrees(a.south).toString()),s=s.replace("[bboxEast]",L["a"].toDegrees(a.east).toString()),s=s.replace("[bboxNorth]",L["a"].toDegrees(a.north).toString());const u=L["a"].toDegrees(d.longitude).toString(),m=L["a"].toDegrees(d.latitude).toString();s=s.replace("[lookatLon]",u),s=s.replace("[lookatLat]",m),s=s.replace("[lookatTilt]",L["a"].toDegrees(t.pitch).toString()),s=s.replace("[lookatHeading]",L["a"].toDegrees(t.heading).toString()),s=s.replace("[lookatRange]",c["a"].distance(t.positionWC,e)),s=s.replace("[lookatTerrainLon]",u),s=s.replace("[lookatTerrainLat]",m),s=s.replace("[lookatTerrainAlt]",d.height.toString()),i.cartesianToCartographic(t.positionWC,Ht),s=s.replace("[cameraLon]",L["a"].toDegrees(Ht.longitude).toString()),s=s.replace("[cameraLat]",L["a"].toDegrees(Ht.latitude).toString()),s=s.replace("[cameraAlt]",L["a"].toDegrees(Ht.height).toString());const p=t.frustum,h=p.aspectRatio;let f="",g="";if(Object(O["a"])(h)){const e=L["a"].toDegrees(p.fov);h>1?(f=e,g=e/h):(g=e,f=e*h)}s=s.replace("[horizFov]",f.toString()),s=s.replace("[vertFov]",g.toString())}else s=s.replace("[bboxWest]","-180"),s=s.replace("[bboxSouth]","-90"),s=s.replace("[bboxEast]","180"),s=s.replace("[bboxNorth]","90"),s=s.replace("[lookatLon]",""),s=s.replace("[lookatLat]",""),s=s.replace("[lookatRange]",""),s=s.replace("[lookatTilt]",""),s=s.replace("[lookatHeading]",""),s=s.replace("[lookatTerrainLon]",""),s=s.replace("[lookatTerrainLat]",""),s=s.replace("[lookatTerrainAlt]",""),s=s.replace("[cameraLon]",""),s=s.replace("[cameraLat]",""),s=s.replace("[cameraAlt]",""),s=s.replace("[horizFov]",""),s=s.replace("[vertFov]","");Object(O["a"])(n)?(s=s.replace("[horizPixels]",n.clientWidth),s=s.replace("[vertPixels]",n.clientHeight)):(s=s.replace("[horizPixels]",""),s=s.replace("[vertPixels]","")),s=s.replace("[terrainEnabled]","1"),s=s.replace("[clientVersion]","1"),s=s.replace("[kmlVersion]","2.2"),s=s.replace("[clientName]","Cesium"),s=s.replace("[language]","English"),e.setQueryParameters(Object(P["a"])(s))}function Jt(e,t,n,o){const a=Ct(e,t,n),i=a.entity,l=n.sourceResource,r=n.uriResolver;let c=qe(t,"Link",Le.kml);if(Object(O["a"])(c)||(c=qe(t,"Url",Le.kml)),Object(O["a"])(c)){let t,a,s=Qe(c,"href",Le.kml);if(Object(O["a"])(s)){let d=s;if(s=Je(s,l,n.uriResolver),/^data:/.test(s.getUrlComponent()))/\.kmz/i.test(l.getUrlComponent())||(d=l.getDerivedResource({url:d}));else{d=s.clone(),t=Qe(c,"viewRefreshMode",Le.kml),a=Object(b["a"])(Qe(c,"viewBoundScale",Le.kml),1);const n="onStop"===t?"BBOX=[bboxWest],[bboxSouth],[bboxEast],[bboxNorth]":"",o=Object(b["a"])(Qe(c,"viewFormat",Le.kml),n),i=Qe(c,"httpQuery",Le.kml);Object(O["a"])(o)&&s.setQueryParameters(Object(P["a"])(qt(o))),Object(O["a"])(i)&&s.setQueryParameters(Object(P["a"])(qt(i)));const l=e._ellipsoid;Yt(s,e._camera,e._canvas,a,e._lastCameraView.bbox,l)}const u={sourceUri:d,uriResolver:r,context:i.id,screenOverlayContainer:n.screenOverlayContainer},m=new te["a"],p=nn(e,m,s,u).then((function(n){const o=e._entityCollection,l=m.values;o.suspendEvents();for(let e=0;e<l.length;e++){const t=l[e];Object(O["a"])(t.parent)||(t.parent=i,an(t)),o.add(t)}o.resumeEvents();const r=Qe(c,"refreshMode",Le.kml);let d=Object(b["a"])(Xe(c,"refreshInterval",Le.kml),0);if("onInterval"===r&&d>0||"onExpire"===r||"onStop"===t){const t=qe(n,"NetworkLinkControl",Le.kml),o=Object(O["a"])(t),l=E["a"].now(),m={id:Object(h["a"])(),href:s,cookie:{},lastUpdated:l,updating:!1,entity:i,viewBoundScale:a,needsUpdate:!1,cameraUpdateTime:l};let p=0;if(o&&(m.cookie=Object(P["a"])(Object(b["a"])(Qe(t,"cookie",Le.kml),"")),p=Object(b["a"])(Xe(t,"minRefreshPeriod",Le.kml),0)),"onInterval"===r)o&&(d=Math.max(p,d)),m.refreshMode=Vt.INTERVAL,m.time=d;else if("onExpire"===r){let e;if(o&&(e=Qe(t,"expires",Le.kml)),Object(O["a"])(e))try{const t=E["a"].fromIso8601(e),n=E["a"].secondsDifference(t,l);n>0&&n<p&&E["a"].addSeconds(l,p,t),m.refreshMode=Vt.EXPIRE,m.time=t}catch(u){Object(I["a"])("kml-refreshMode-onInterval-onExpire","KML - NetworkLinkControl expires is not a valid date")}else Object(I["a"])("kml-refreshMode-onExpire","KML - refreshMode of onExpire requires the NetworkLinkControl to have an expires element")}else e._camera?(m.refreshMode=Vt.STOP,m.time=Object(b["a"])(Xe(c,"viewRefreshTime",Le.kml),0)):Object(I["a"])("kml-refrehMode-onStop-noCamera","A NetworkLink with viewRefreshMode=onStop requires a camera be passed in when creating the KmlDataSource");Object(O["a"])(m.refreshMode)&&e._networkLinks.set(m.id,m)}else"onRegion"===t&&Object(I["a"])("kml-refrehMode-onRegion","KML - Unsupported viewRefreshMode: onRegion")})).catch((function(t){Object(I["a"])("An error occured during loading "+s.url),e._error.raiseEvent(e,t)}));o.addPromise(p)}}}function Zt(e,t,n,o){const a=Se[t.localName];return Object(O["a"])(a)?a(e,t,n,o):Gt(e,t,n,o)}function en(e,t,n,o,a,i,l){t.removeAll();const r=n.documentElement,c="Document"===r.localName?r:qe(r,"Document",Le.kml);let s=Qe(c,"name",Le.kml);Object(O["a"])(s)||(s=Object(y["a"])(o.getUrlComponent())),Object(O["a"])(e._name)||(e._name=s);const d=new on._DeferredLoading(e),u=new te["a"](e);return Promise.all(mt(e,n,u,o,!1,a)).then((function(){let r=n.documentElement;if("kml"===r.localName){const e=r.childNodes;for(let t=0;t<e.length;t++){const n=e[t];if(Object(O["a"])(Se[n.localName])){r=n;break}}}const c={parentEntity:void 0,entityCollection:t,styleCollection:u,sourceResource:o,uriResolver:a,context:l,screenOverlayContainer:i};return t.suspendEvents(),Zt(e,r,c,d),t.resumeEvents(),d.wait().then((function(){return n.documentElement}))}))}function tn(e,t,n,o,a){const i=Object(l["a"])("ThirdParty/Workers/z-worker-pako.js");z["a"].configure({workerScripts:{deflate:[i,"./pako_deflate.min.js"],inflate:[i,"./pako_inflate.min.js"]}});const r=new z["a"].ZipReader(new z["a"].BlobReader(n));return Promise.resolve(r.getEntries()).then((function(n){const i=[],l={};let c;for(let e=0;e<n.length;e++){const t=n[e];t.directory||(/\.kml$/i.test(t.filename)?Object(O["a"])(c)&&/\//i.test(t.filename)?i.push(De(t,l)):(Object(O["a"])(c)&&i.push(De(c,l)),c=t):i.push(De(t,l)))}return Object(O["a"])(c)&&i.push(Ue(c,l)),Promise.all(i).then((function(){if(r.close(),!Object(O["a"])(l.kml))throw new A["a"]("KMZ file does not contain a KML document.");return l.keys=Object.keys(l),en(e,t,l.kml,o,l,a)}))}))}function nn(e,t,n,o){o=Object(b["a"])(o,b["a"].EMPTY_OBJECT);let a=o.sourceUri;const i=o.uriResolver,l=o.context;let r=o.screenOverlayContainer,c=n;if("string"===typeof n||n instanceof D["a"]){n=D["a"].createIfNeeded(n),c=n.fetchBlob(),a=Object(b["a"])(a,n.clone());const t=e._resourceCredits,o=n.credits;if(Object(O["a"])(o)){const e=o.length;for(let n=0;n<e;n++)t.push(o[n])}}else a=Object(b["a"])(a,D["a"].DEFAULT.clone());return a=D["a"].createIfNeeded(a),Object(O["a"])(r)&&(r=Object(H["a"])(r)),Promise.resolve(c).then((function(n){return n instanceof Blob?Ie(n).then((function(o){return o?tn(e,t,n,a,r):Ne(n).then((function(n){let o,c;n=Re(n),n=Pe(n);try{o=je.parseFromString(n,"application/xml")}catch(s){c=s.toString()}if(Object(O["a"])(c)||o.body||"parsererror"===o.documentElement.tagName){let e=Object(O["a"])(c)?c:o.documentElement.firstChild.nodeValue;throw e||(e=o.body.innerText),new A["a"](e)}return en(e,t,o,a,i,r,l)}))})):en(e,t,n,a,i,r,l)})).catch((function(t){return e._error.raiseEvent(e,t),console.log(t),Promise.reject(t)}))}function on(e){e=Object(b["a"])(e,b["a"].EMPTY_OBJECT);const t=e.camera,n=e.canvas;if(!Object(O["a"])(t))throw new j["a"]("options.camera is required.");if(!Object(O["a"])(n))throw new j["a"]("options.canvas is required.");this._changed=new v["a"],this._error=new v["a"],this._loading=new v["a"],this._refresh=new v["a"],this._unsupportedNode=new v["a"],this._clock=void 0,this._entityCollection=new te["a"](this),this._name=void 0,this._isLoading=!1,this._pinBuilder=new N["a"],this._networkLinks=new a["a"],this._entityCluster=new ee["a"],this._canvas=n,this._camera=t,this._lastCameraView={position:Object(O["a"])(t)?c["a"].clone(t.positionWC):void 0,direction:Object(O["a"])(t)?c["a"].clone(t.directionWC):void 0,up:Object(O["a"])(t)?c["a"].clone(t.upWC):void 0,bbox:Object(O["a"])(t)?t.computeViewRectangle():U["a"].clone(U["a"].MAX_VALUE)},this._ellipsoid=Object(b["a"])(e.ellipsoid,k["a"].WGS84);let o=e.credit;"string"===typeof o&&(o=new f["a"](o)),this._credit=o,this._resourceCredits=[],this._kmlTours=[],this._screenOverlays=[]}function an(e){const t=e.parent;if(Object(O["a"])(t)){const n=t.availability;if(Object(O["a"])(n)){const t=e.availability;Object(O["a"])(t)?t.intersect(n):e.availability=n}}}function ln(e,t,n,o,a){return function(i){if(!o.contains(t.id))return;let l=!1;const r=qe(i,"NetworkLinkControl",Le.kml),c=Object(O["a"])(r);let s=0;if(c){if(Object(O["a"])(qe(r,"Update",Le.kml)))return Object(I["a"])("kml-networkLinkControl-update","KML - NetworkLinkControl updates aren't supported."),t.updating=!1,void o.remove(t.id);t.cookie=Object(P["a"])(Object(b["a"])(Qe(r,"cookie",Le.kml),"")),s=Object(b["a"])(Xe(r,"minRefreshPeriod",Le.kml),0)}const d=E["a"].now(),u=t.refreshMode;if(u===Vt.INTERVAL)Object(O["a"])(r)&&(t.time=Math.max(s,t.time));else if(u===Vt.EXPIRE){let e;if(Object(O["a"])(r)&&(e=Qe(r,"expires",Le.kml)),Object(O["a"])(e))try{const n=E["a"].fromIso8601(e),o=E["a"].secondsDifference(n,d);o>0&&o<s&&E["a"].addSeconds(d,s,n),t.time=n}catch(_){Object(I["a"])("kml-networkLinkControl-expires","KML - NetworkLinkControl expires is not a valid date"),l=!0}else Object(I["a"])("kml-refreshMode-onExpire","KML - refreshMode of onExpire requires the NetworkLinkControl to have an expires element"),l=!0}const m=t.entity,p=e._entityCollection,h=n.values;function f(e){p.remove(e);const t=e._children,n=t.length;for(let o=0;o<n;++o)f(t[o])}p.suspendEvents();const g=p.values.slice();let j;for(j=0;j<g.length;++j){const e=g[j];e.parent===m&&(e.parent=void 0,f(e))}for(p.resumeEvents(),p.suspendEvents(),j=0;j<h.length;j++){const e=h[j];Object(O["a"])(e.parent)||(e.parent=m,an(e)),p.add(e)}p.resumeEvents(),l?o.remove(t.id):t.lastUpdated=d;const k=p.computeAvailability(),v=k.start,x=k.stop,y=E["a"].equals(v,T["a"].MINIMUM_VALUE),w=E["a"].equals(x,T["a"].MAXIMUM_VALUE);if(!y||!w){const t=e._clock;t.startTime===v&&t.stopTime===x||(t.startTime=v,t.stopTime=x,e._changed.raiseEvent(e))}t.updating=!1,t.needsUpdate=!1,e._refresh.raiseEvent(e,a.getUrlComponent(!0))}}on.load=function(e,t){t=Object(b["a"])(t,b["a"].EMPTY_OBJECT);const n=new on(t);return n.load(e,t)},Object.defineProperties(on.prototype,{name:{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._changed.raiseEvent(this))}},clock:{get:function(){return this._clock}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},refreshEvent:{get:function(){return this._refresh}},unsupportedNodeEvent:{get:function(){return this._unsupportedNode}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){if(!Object(O["a"])(e))throw new j["a"]("value must be defined.");this._entityCluster=e}},credit:{get:function(){return this._credit}},kmlTours:{get:function(){return this._kmlTours}}}),on.prototype.load=function(e,t){if(!Object(O["a"])(e))throw new j["a"]("data is required.");t=Object(b["a"])(t,b["a"].EMPTY_OBJECT),Y["a"].setLoading(this,!0);const n=this._name;this._name=void 0,this._clampToGround=Object(b["a"])(t.clampToGround,!1);const o=this;return nn(this,this._entityCollection,e,t).then((function(){let e;const t=o._entityCollection.computeAvailability();let a=t.start,i=t.stop;const l=E["a"].equals(a,T["a"].MINIMUM_VALUE),r=E["a"].equals(i,T["a"].MAXIMUM_VALUE);if(!l||!r){let t;l&&(t=new Date,t.setHours(0,0,0,0),a=E["a"].fromDate(t)),r&&(t=new Date,t.setHours(24,0,0,0),i=E["a"].fromDate(t)),e=new J["a"],e.startTime=a,e.stopTime=i,e.currentTime=E["a"].clone(a),e.clockRange=d["a"].LOOP_STOP,e.clockStep=u["a"].SYSTEM_CLOCK_MULTIPLIER,e.multiplier=Math.round(Math.min(Math.max(E["a"].secondsDifference(i,a)/60,1),31556900))}let c=!1;return e!==o._clock&&(o._clock=e,c=!0),n!==o._name&&(c=!0),c&&o._changed.raiseEvent(o),Y["a"].setLoading(o,!1),o})).catch((function(e){return Y["a"].setLoading(o,!1),o._error.raiseEvent(o,e),console.log(e),Promise.reject(e)}))},on.prototype.destroy=function(){while(this._screenOverlays.length>0){const e=this._screenOverlays.pop();e.remove()}};const rn=new a["a"];function cn(){this.author={name:void 0,uri:void 0,email:void 0},this.link={href:void 0,hreflang:void 0,rel:void 0,type:void 0,title:void 0,length:void 0},this.address=void 0,this.phoneNumber=void 0,this.snippet=void 0,this.extendedData=void 0}on.prototype.update=function(e){const t=this._networkLinks;if(0===t.length)return!0;const n=E["a"].now(),o=this;function i(e){const t=e._children,n=t.length;for(let o=0;o<n;++o){const e=t[o];rn.set(e.id,e),i(e)}}rn.removeAll();let l=!1;const r=this._lastCameraView,s=this._camera;!Object(O["a"])(s)||s.positionWC.equalsEpsilon(r.position,L["a"].EPSILON7)&&s.directionWC.equalsEpsilon(r.direction,L["a"].EPSILON7)&&s.upWC.equalsEpsilon(r.up,L["a"].EPSILON7)||(r.position=c["a"].clone(s.positionWC),r.direction=c["a"].clone(s.directionWC),r.up=c["a"].clone(s.upWC),r.bbox=s.computeViewRectangle(),l=!0);const d=new a["a"];let u=!1;return t.values.forEach((function(e){const t=e.entity;if(!rn.contains(t.id)){if(!e.updating){let a=!1;if(e.refreshMode===Vt.INTERVAL?E["a"].secondsDifference(n,e.lastUpdated)>e.time&&(a=!0):e.refreshMode===Vt.EXPIRE?E["a"].greaterThan(n,e.time)&&(a=!0):e.refreshMode===Vt.STOP&&(l&&(e.needsUpdate=!0,e.cameraUpdateTime=n),e.needsUpdate&&E["a"].secondsDifference(n,e.cameraUpdateTime)>=e.time&&(a=!0)),a){i(t),e.updating=!0;const n=new te["a"],a=e.href.clone();a.setQueryParameters(e.cookie);const l=Object(b["a"])(o._ellipsoid,k["a"].WGS84);Yt(a,o._camera,o._canvas,e.viewBoundScale,r.bbox,l),nn(o,n,a,{context:t.id}).then(ln(o,e,n,d,a)).catch((function(t){const n=`NetworkLink ${e.href} refresh failed: ${t}`;console.log(n),o._error.raiseEvent(o,n)})),u=!0}}d.set(e.id,e)}})),u&&(this._networkLinks=d,this._changed.raiseEvent(this)),!0},on._DeferredLoading=Ce,on._getTimestamp=w["a"],t["a"]=on},"1ba5":function(e,t,n){"use strict";var o=n("c937"),a=n("f7b5");function i(e,t){this.id=t,this.name=e,this.playlistIndex=0,this.playlist=[],this.tourStart=new a["a"],this.tourEnd=new a["a"],this.entryStart=new a["a"],this.entryEnd=new a["a"],this._activeEntries=[]}function l(e){for(let t=e.pop();void 0!==t;t=e.pop())t.stop()}function r(e,t,n){const a=this.playlist[this.playlistIndex];if(a){const o=c.bind(this,e,t,n);if(this._activeEntries.push(a),this.entryStart.raiseEvent(a),a.blocking)a.play(o,e.scene.camera,t);else{const i=this;a.play((function(){i.entryEnd.raiseEvent(a);const e=i._activeEntries.indexOf(a);e>=0&&i._activeEntries.splice(e,1)})),o(e,t,n)}}else Object(o["a"])(n)&&n(!1)}function c(e,t,n,o){const a=this.playlist[this.playlistIndex];if(this.entryEnd.raiseEvent(a,o),o)n(o);else{const o=this._activeEntries.indexOf(a);o>=0&&this._activeEntries.splice(o,1),this.playlistIndex++,r.call(this,e,t,n)}}i.prototype.addPlaylistEntry=function(e){this.playlist.push(e)},i.prototype.play=function(e,t){this.tourStart.raiseEvent();const n=this;r.call(this,e,t,(function(e){n.playlistIndex=0,e||l(n._activeEntries),n.tourEnd.raiseEvent(e)}))},i.prototype.stop=function(){l(this._activeEntries)},t["a"]=i},"1be1":function(e,t,n){"use strict";function o(e,t){this.position=e,this.headingPitchRange=t}t["a"]=o},"3d93":function(e,t,n){"use strict";function o(e,t){this.position=e,this.headingPitchRoll=t}t["a"]=o},"4da7":function(e,t,n){"use strict";var o=n("c937");function a(e){this.type="KmlTourWait",this.blocking=!0,this.duration=e,this.timeout=null}a.prototype.play=function(e){const t=this;this.activeCallback=e,this.timeout=setTimeout((function(){delete t.activeCallback,e(!1)}),1e3*this.duration)},a.prototype.stop=function(){clearTimeout(this.timeout),Object(o["a"])(this.activeCallback)&&this.activeCallback(!0)},t["a"]=a},e540:function(e,t,n){"use strict";var o=n("8656"),a=n("2fad"),i=n("c937"),l=n("7e67");function r(e,t,n){this.type="KmlTourFlyTo",this.blocking=!0,this.activeCamera=null,this.activeCallback=null,this.duration=e,this.view=n,this.flyToMode=t}r.prototype.play=function(e,t,n){if(this.activeCamera=t,Object(i["a"])(e)&&null!==e){const t=this;this.activeCallback=function(n){delete t.activeCallback,delete t.activeCamera,e(!Object(i["a"])(n)&&n)}}const a=this.getCameraOptions(n);if(this.view.headingPitchRoll)t.flyTo(a);else if(this.view.headingPitchRange){const e=new o["a"](this.view.position);t.flyToBoundingSphere(e,a)}},r.prototype.stop=function(){Object(i["a"])(this.activeCamera)&&this.activeCamera.cancelFlight(),Object(i["a"])(this.activeCallback)&&this.activeCallback(!0)},r.prototype.getCameraOptions=function(e){let t={duration:this.duration};return Object(i["a"])(this.activeCallback)&&(t.complete=this.activeCallback),"smooth"===this.flyToMode&&(t.easingFunction=l["a"].LINEAR_NONE),this.view.headingPitchRoll?(t.destination=this.view.position,t.orientation=this.view.headingPitchRoll):this.view.headingPitchRange&&(t.offset=this.view.headingPitchRange),Object(i["a"])(e)&&(t=Object(a["a"])(t,e)),t},t["a"]=r}}]);