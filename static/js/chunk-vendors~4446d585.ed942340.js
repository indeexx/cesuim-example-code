(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~4446d585"],{2507:function(e,t,a){"use strict";var i=a("85b2"),r=a("6b82"),n=a("1a5d"),s=a("c937"),o=a("21b7"),c=a("e2a6"),h=a("8e1f"),l=a("1f02"),u=a("2642"),p=a("b8b5"),m=a("0238"),g=a("4a63"),f=a("035e"),d=a("06d8"),y=a("bb9e"),_=a("5df2"),b=a("3242"),v=a("5be5"),E=a("6f54"),O=a("6ba7"),A=a("f4c7"),L=a("2341"),T=a("999a"),w=a("4d68"),x=a("8f7d"),j=a("b3ce"),I=a("1a75"),M=a("50de"),R=a("518b"),F=a("2189"),D=a("dc15"),S=a("aa5c"),C=a("483e"),N=a("58fc"),P=a("e607"),B=a("66a6"),H=a("1241");function U(e,t){this._imageryProvider=e,t=Object(n["a"])(t,n["a"].EMPTY_OBJECT),this.alpha=Object(n["a"])(t.alpha,Object(n["a"])(e.defaultAlpha,1)),this.nightAlpha=Object(n["a"])(t.nightAlpha,Object(n["a"])(e.defaultNightAlpha,1)),this.dayAlpha=Object(n["a"])(t.dayAlpha,Object(n["a"])(e.defaultDayAlpha,1)),this.brightness=Object(n["a"])(t.brightness,Object(n["a"])(e.defaultBrightness,U.DEFAULT_BRIGHTNESS)),this.contrast=Object(n["a"])(t.contrast,Object(n["a"])(e.defaultContrast,U.DEFAULT_CONTRAST)),this.hue=Object(n["a"])(t.hue,Object(n["a"])(e.defaultHue,U.DEFAULT_HUE)),this.saturation=Object(n["a"])(t.saturation,Object(n["a"])(e.defaultSaturation,U.DEFAULT_SATURATION)),this.gamma=Object(n["a"])(t.gamma,Object(n["a"])(e.defaultGamma,U.DEFAULT_GAMMA)),this.splitDirection=Object(n["a"])(t.splitDirection,Object(n["a"])(e.defaultSplit,U.DEFAULT_SPLIT)),this.minificationFilter=Object(n["a"])(t.minificationFilter,Object(n["a"])(e.defaultMinificationFilter,U.DEFAULT_MINIFICATION_FILTER)),this.magnificationFilter=Object(n["a"])(t.magnificationFilter,Object(n["a"])(e.defaultMagnificationFilter,U.DEFAULT_MAGNIFICATION_FILTER)),this.show=Object(n["a"])(t.show,!0),this._minimumTerrainLevel=t.minimumTerrainLevel,this._maximumTerrainLevel=t.maximumTerrainLevel,this._rectangle=Object(n["a"])(t.rectangle,g["a"].MAX_VALUE),this._maximumAnisotropy=t.maximumAnisotropy,this._imageryCache={},this._skeletonPlaceholder=new H["a"](N["a"].createPlaceholder(this)),this._show=!0,this._layerIndex=-1,this._isBaseLayer=!1,this._requestImageError=void 0,this._reprojectComputeCommands=[],this.cutoutRectangle=t.cutoutRectangle,this.colorToAlpha=t.colorToAlpha,this.colorToAlphaThreshold=Object(n["a"])(t.colorToAlphaThreshold,U.DEFAULT_APPLY_COLOR_TO_ALPHA_THRESHOLD)}Object.defineProperties(U.prototype,{imageryProvider:{get:function(){return this._imageryProvider}},rectangle:{get:function(){return this._rectangle}}}),U.DEFAULT_BRIGHTNESS=1,U.DEFAULT_CONTRAST=1,U.DEFAULT_HUE=0,U.DEFAULT_SATURATION=1,U.DEFAULT_GAMMA=1,U.DEFAULT_SPLIT=B["a"].NONE,U.DEFAULT_MINIFICATION_FILTER=R["a"].LINEAR,U.DEFAULT_MAGNIFICATION_FILTER=M["a"].LINEAR,U.DEFAULT_APPLY_COLOR_TO_ALPHA_THRESHOLD=.004,U.prototype.isBaseLayer=function(){return this._isBaseLayer},U.prototype.isDestroyed=function(){return!1},U.prototype.destroy=function(){return Object(o["a"])(this)};const q=new g["a"],G=new g["a"],Y=new g["a"],W=new g["a"];function k(e,t,a){return`${e}:${t}:${a}`}function V(e,t,a){return JSON.stringify([e,t,a])}U.prototype.getViewableRectangle=function(){const e=this._imageryProvider,t=this._rectangle;return e.readyPromise.then((function(){return g["a"].intersection(e.rectangle,t)}))},U.prototype._createTileImagerySkeletons=function(e,t,a){const i=e.data;if(Object(s["a"])(this._minimumTerrainLevel)&&e.level<this._minimumTerrainLevel)return!1;if(Object(s["a"])(this._maximumTerrainLevel)&&e.level>this._maximumTerrainLevel)return!1;const n=this._imageryProvider;if(Object(s["a"])(a)||(a=i.imagery.length),!n.ready)return this._skeletonPlaceholder.loadingImagery.addReference(),i.imagery.splice(a,0,this._skeletonPlaceholder),!0;const o=n.tilingScheme.projection instanceof v["a"]&&e.rectangle.north<v["a"].MaximumLatitude&&e.rectangle.south>-v["a"].MaximumLatitude,c=g["a"].intersection(n.rectangle,this._rectangle,q);let h=g["a"].intersection(e.rectangle,c,G);if(!Object(s["a"])(h)){if(!this.isBaseLayer())return!1;const t=c,a=e.rectangle;h=G,a.south>=t.north?h.north=h.south=t.north:a.north<=t.south?h.north=h.south=t.south:(h.south=Math.max(a.south,t.south),h.north=Math.min(a.north,t.north)),a.west>=t.east?h.west=h.east=t.east:a.east<=t.west?h.west=h.east=t.west:(h.west=Math.max(a.west,t.west),h.east=Math.min(a.east,t.east))}let l=0;h.south>0?l=h.south:h.north<0&&(l=h.north);const u=1,p=u*t.getLevelMaximumGeometricError(e.level);let m=z(this,p,l);m=Math.max(0,m);const f=n.maximumLevel;if(m>f&&(m=f),Object(s["a"])(n.minimumLevel)){const e=n.minimumLevel;m<e&&(m=e)}const d=n.tilingScheme,y=d.positionToTileXY(g["a"].northwest(h),m),_=d.positionToTileXY(g["a"].southeast(h),m);let b=e.rectangle.width/512,E=e.rectangle.height/512;const O=d.tileXYToRectangle(y.x,y.y,m);Math.abs(O.south-e.rectangle.north)<E&&y.y<_.y&&++y.y,Math.abs(O.east-e.rectangle.west)<b&&y.x<_.x&&++y.x;const A=d.tileXYToRectangle(_.x,_.y,m);Math.abs(A.north-e.rectangle.south)<E&&_.y>y.y&&--_.y,Math.abs(A.west-e.rectangle.east)<b&&_.x>y.x&&--_.x;const L=g["a"].clone(e.rectangle,W);let T,w,x=d.tileXYToRectangle(y.x,y.y,m),j=g["a"].intersection(x,c,Y);o?(d.rectangleToNativeRectangle(L,L),d.rectangleToNativeRectangle(x,x),d.rectangleToNativeRectangle(j,j),d.rectangleToNativeRectangle(c,c),T=d.tileXYToNativeRectangle.bind(d),b=L.width/512,E=L.height/512):T=d.tileXYToRectangle.bind(d);let I,M=0,R=1;!this.isBaseLayer()&&Math.abs(j.west-L.west)>=b&&(M=Math.min(1,(j.west-L.west)/L.width)),!this.isBaseLayer()&&Math.abs(j.north-L.north)>=E&&(R=Math.max(0,(j.north-L.south)/L.height));const F=R;for(let v=y.x;v<=_.x;v++)if(w=M,x=T(v,y.y,m),j=g["a"].simpleIntersection(x,c,Y),Object(s["a"])(j)){M=Math.min(1,(j.east-L.west)/L.width),v===_.x&&(this.isBaseLayer()||Math.abs(j.east-L.east)<b)&&(M=1),R=F;for(let e=y.y;e<=_.y;e++){if(I=R,x=T(v,e,m),j=g["a"].simpleIntersection(x,c,Y),!Object(s["a"])(j))continue;R=Math.max(0,(j.south-L.south)/L.height),e===_.y&&(this.isBaseLayer()||Math.abs(j.south-L.south)<E)&&(R=0);const t=new r["a"](w,R,M,I),n=this.getImageryFromCache(v,e,m);i.imagery.splice(a,0,new H["a"](n,t,o)),++a}}return!0},U.prototype._calculateTextureTranslationAndScale=function(e,t){let a=t.readyImagery.rectangle,i=e.rectangle;if(t.useWebMercatorT){const e=t.readyImagery.imageryLayer.imageryProvider.tilingScheme;a=e.rectangleToNativeRectangle(a,q),i=e.rectangleToNativeRectangle(i,W)}const n=i.width,s=i.height,o=n/a.width,c=s/a.height;return new r["a"](o*(i.west-a.west)/n,c*(i.south-a.south)/s,o,c)},U.prototype._requestImagery=function(e){const t=this._imageryProvider,a=this;function i(t){if(!Object(s["a"])(t))return r();e.image=t,e.state=P["a"].RECEIVED,e.request=void 0,b["a"].handleSuccess(a._requestImageError)}function r(i){if(e.request.state===d["a"].CANCELLED)return e.state=P["a"].UNLOADED,void(e.request=void 0);e.state=P["a"].FAILED,e.request=void 0;const r=`Failed to obtain image tile X: ${e.x} Y: ${e.y} Level: ${e.level}.`;a._requestImageError=b["a"].handleError(a._requestImageError,t,t.errorEvent,r,e.x,e.y,e.level,n,i)}function n(){const a=new f["a"]({throttle:!1,throttleByServer:!0,type:y["a"].IMAGERY});e.request=a,e.state=P["a"].TRANSITIONING;const n=t.requestImage(e.x,e.y,e.level,a);if(!Object(s["a"])(n))return e.state=P["a"].UNLOADED,void(e.request=void 0);Object(s["a"])(t.getTileCredits)&&(e.credits=t.getTileCredits(e.x,e.y,e.level)),n.then((function(e){i(e)})).catch((function(e){r(e)}))}n()},U.prototype._createTextureWebGL=function(e,t){const a=new w["a"]({minificationFilter:this.minificationFilter,magnificationFilter:this.magnificationFilter}),i=t.image;return Object(s["a"])(i.internalFormat)?new I["a"]({context:e,pixelFormat:i.internalFormat,width:i.width,height:i.height,source:{arrayBufferView:i.bufferView},sampler:a}):new I["a"]({context:e,source:i,pixelFormat:this._imageryProvider.hasAlphaChannel?m["a"].RGBA:m["a"].RGB,sampler:a})},U.prototype._createTexture=function(e,t){const a=this._imageryProvider,i=t.image;if(Object(s["a"])(a.tileDiscardPolicy)){const e=a.tileDiscardPolicy;if(Object(s["a"])(e)){if(!e.isReady())return void(t.state=P["a"].RECEIVED);if(e.shouldDiscardImage(i))return void(t.state=P["a"].INVALID)}}if(this.minificationFilter!==R["a"].NEAREST&&this.minificationFilter!==R["a"].LINEAR)throw new c["a"]("ImageryLayer minification filter must be NEAREST or LINEAR");const r=this._createTextureWebGL(e,t);a.tilingScheme.projection instanceof v["a"]?t.textureWebMercator=r:t.texture=r,t.image=void 0,t.state=P["a"].TEXTURE_LOADED},U.prototype._finalizeReprojectTexture=function(e,t){let a=this.minificationFilter;const i=this.magnificationFilter,r=a===R["a"].LINEAR&&i===M["a"].LINEAR;if(r&&!m["a"].isCompressedFormat(t.pixelFormat)&&p["a"].isPowerOfTwo(t.width)&&p["a"].isPowerOfTwo(t.height)){a=R["a"].LINEAR_MIPMAP_LINEAR;const r=L["a"].maximumTextureFilterAnisotropy,o=Math.min(r,Object(n["a"])(this._maximumAnisotropy,r)),c=k(a,i,o);let h=e.cache.imageryLayerMipmapSamplers;Object(s["a"])(h)||(h={},e.cache.imageryLayerMipmapSamplers=h);let l=h[c];Object(s["a"])(l)||(l=h[c]=new w["a"]({wrapS:F["a"].CLAMP_TO_EDGE,wrapT:F["a"].CLAMP_TO_EDGE,minificationFilter:a,magnificationFilter:i,maximumAnisotropy:o})),t.generateMipmap(T["a"].NICEST),t.sampler=l}else{const r=k(a,i,0);let n=e.cache.imageryLayerNonMipmapSamplers;Object(s["a"])(n)||(n={},e.cache.imageryLayerNonMipmapSamplers=n);let o=n[r];Object(s["a"])(o)||(o=n[r]=new w["a"]({wrapS:F["a"].CLAMP_TO_EDGE,wrapT:F["a"].CLAMP_TO_EDGE,minificationFilter:a,magnificationFilter:i})),t.sampler=o}},U.prototype._reprojectTexture=function(e,t,a){const i=t.textureWebMercator||t.texture,r=t.rectangle,s=e.context;if(a=Object(n["a"])(a,!0),a&&!(this._imageryProvider.tilingScheme.projection instanceof l["a"])&&r.width/i.width>1e-5){const e=this;t.addReference();const a=new A["a"]({persists:!0,owner:this,preExecute:function(e){$(e,s,i,t.rectangle)},postExecute:function(a){t.texture=a,e._finalizeReprojectTexture(s,a),t.state=P["a"].READY,t.releaseReference()},canceled:function(){t.state=P["a"].TEXTURE_LOADED,t.releaseReference()}});this._reprojectComputeCommands.push(a)}else a&&(t.texture=i),this._finalizeReprojectTexture(s,i),t.state=P["a"].READY},U.prototype.queueReprojectionCommands=function(e){const t=this._reprojectComputeCommands,a=t.length;for(let i=0;i<a;++i)e.commandList.push(t[i]);t.length=0},U.prototype.cancelReprojections=function(){this._reprojectComputeCommands.forEach((function(e){Object(s["a"])(e.canceled)&&e.canceled()})),this._reprojectComputeCommands.length=0},U.prototype.getImageryFromCache=function(e,t,a,i){const r=V(e,t,a);let n=this._imageryCache[r];return Object(s["a"])(n)||(n=new N["a"](this,e,t,a,i),this._imageryCache[r]=n),n.addReference(),n},U.prototype.removeImageryFromCache=function(e){const t=V(e.x,e.y,e.level);delete this._imageryCache[t]};const X={u_textureDimensions:function(){return this.textureDimensions},u_texture:function(){return this.texture},textureDimensions:new i["a"],texture:void 0},Z=h["a"].supportsTypedArrays()?new Float32Array(128):void 0;function $(e,t,a,i){let r=t.cache.imageryLayer_reproject;if(!Object(s["a"])(r)){r=t.cache.imageryLayer_reproject={vertexArray:void 0,shaderProgram:void 0,sampler:void 0,destroy:function(){Object(s["a"])(this.framebuffer)&&this.framebuffer.destroy(),Object(s["a"])(this.vertexArray)&&this.vertexArray.destroy(),Object(s["a"])(this.shaderProgram)&&this.shaderProgram.destroy()}};const e=new Float32Array(256);let a=0;for(let t=0;t<64;++t){const i=t/63;e[a++]=0,e[a++]=i,e[a++]=1,e[a++]=i}const i={position:0,webMercatorT:1},n=_["a"].getRegularGridIndices(2,64),o=E["a"].createIndexBuffer({context:t,typedArray:n,usage:O["a"].STATIC_DRAW,indexDatatype:u["a"].UNSIGNED_SHORT});r.vertexArray=new D["a"]({context:t,attributes:[{index:i.position,vertexBuffer:E["a"].createVertexBuffer({context:t,typedArray:e,usage:O["a"].STATIC_DRAW}),componentsPerAttribute:2},{index:i.webMercatorT,vertexBuffer:E["a"].createVertexBuffer({context:t,sizeInBytes:512,usage:O["a"].STREAM_DRAW}),componentsPerAttribute:1}],indexBuffer:o});const c=new j["a"]({sources:[C["a"]]});r.shaderProgram=x["a"].fromCache({context:t,vertexShaderSource:c,fragmentShaderSource:S["a"],attributeLocations:i}),r.sampler=new w["a"]({wrapS:F["a"].CLAMP_TO_EDGE,wrapT:F["a"].CLAMP_TO_EDGE,minificationFilter:R["a"].LINEAR,magnificationFilter:M["a"].LINEAR})}a.sampler=r.sampler;const n=a.width,o=a.height;X.textureDimensions.x=n,X.textureDimensions.y=o,X.texture=a;let c=Math.sin(i.south);const h=.5*Math.log((1+c)/(1-c));c=Math.sin(i.north);const l=.5*Math.log((1+c)/(1-c)),m=1/(l-h),g=new I["a"]({context:t,width:n,height:o,pixelFormat:a.pixelFormat,pixelDatatype:a.pixelDatatype,preMultiplyAlpha:a.preMultiplyAlpha});p["a"].isPowerOfTwo(n)&&p["a"].isPowerOfTwo(o)&&g.generateMipmap(T["a"].NICEST);const f=i.south,d=i.north,y=Z;let b=0;for(let s=0;s<64;++s){const e=s/63,t=p["a"].lerp(f,d,e);c=Math.sin(t);const a=.5*Math.log((1+c)/(1-c)),i=(a-h)*m;y[b++]=i,y[b++]=i}r.vertexArray.getAttribute(1).vertexBuffer.copyFromArrayView(y),e.shaderProgram=r.shaderProgram,e.outputTexture=g,e.uniformMap=X,e.vertexArray=r.vertexArray}function z(e,t,a){const i=e._imageryProvider,r=i.tilingScheme,n=r.ellipsoid,s=e._imageryProvider.tilingScheme.projection instanceof l["a"]?1:Math.cos(a),o=r.rectangle,c=n.maximumRadius*o.width*s/(i.tileWidth*r.getNumberOfXTilesAtLevel(0)),h=c/t,u=Math.log(h)/Math.log(2),p=Math.round(u);return 0|p}t["a"]=U},"3c2f":function(e,t,a){"use strict";var i=a("ae9b"),r=a("1a5d"),n=a("44c1"),s=a("7526"),o=a("e2aa");const c={};c._deprecationWarning=n["a"];const h=Uint32Array.BYTES_PER_ELEMENT;c.parse=function(e,t){i["a"].defined("arrayBuffer",e);const a=Object(r["a"])(t,0);t=a;const n=new Uint8Array(e),l=new DataView(e);t+=h;const u=l.getUint32(t,!0);if(1!==u)throw new o["a"](`Only Instanced 3D Model version 1 is supported. Version ${u} is not.`);t+=h;const p=l.getUint32(t,!0);t+=h;const m=l.getUint32(t,!0);if(0===m)throw new o["a"]("featureTableJsonByteLength is zero, the feature table must be defined.");t+=h;const g=l.getUint32(t,!0);t+=h;const f=l.getUint32(t,!0);t+=h;const d=l.getUint32(t,!0);t+=h;const y=l.getUint32(t,!0);if(1!==y&&0!==y)throw new o["a"](`Only glTF format 0 (uri) or 1 (embedded) are supported. Format ${y} is not.`);t+=h;const _=Object(s["a"])(n,t,m);t+=m;const b=new Uint8Array(e,t,g);let v,E;t+=g,f>0&&(v=Object(s["a"])(n,t,f),t+=f,d>0&&(E=new Uint8Array(e,t,d),E=new Uint8Array(E),t+=d));const O=a+p-t;if(0===O)throw new o["a"]("glTF byte length must be greater than 0.");let A;return t%4===0?A=new Uint8Array(e,t,O):(c._deprecationWarning("i3dm-glb-unaligned","The embedded glb is not aligned to a 4-byte boundary."),A=new Uint8Array(n.subarray(t,t+O))),{gltfFormat:y,featureTableJson:_,featureTableBinary:b,batchTableJson:v,batchTableBinary:E,gltf:A}},t["a"]=c},"58fc":function(e,t,a){"use strict";var i=a("c937"),r=a("21b7"),n=a("e607");function s(e,t,a,r,s){if(this.imageryLayer=e,this.x=t,this.y=a,this.level=r,this.request=void 0,0!==r){const i=t/2|0,n=a/2|0,s=r-1;this.parent=e.getImageryFromCache(i,n,s)}if(this.state=n["a"].UNLOADED,this.imageUrl=void 0,this.image=void 0,this.texture=void 0,this.textureWebMercator=void 0,this.credits=void 0,this.referenceCount=0,!Object(i["a"])(s)&&e.imageryProvider.ready){const i=e.imageryProvider.tilingScheme;s=i.tileXYToRectangle(t,a,r)}this.rectangle=s}s.createPlaceholder=function(e){const t=new s(e,0,0,0);return t.addReference(),t.state=n["a"].PLACEHOLDER,t},s.prototype.addReference=function(){++this.referenceCount},s.prototype.releaseReference=function(){return--this.referenceCount,0===this.referenceCount?(this.imageryLayer.removeImageryFromCache(this),Object(i["a"])(this.parent)&&this.parent.releaseReference(),Object(i["a"])(this.image)&&Object(i["a"])(this.image.destroy)&&this.image.destroy(),Object(i["a"])(this.texture)&&this.texture.destroy(),Object(i["a"])(this.textureWebMercator)&&this.texture!==this.textureWebMercator&&this.textureWebMercator.destroy(),Object(r["a"])(this),0):this.referenceCount},s.prototype.processStateMachine=function(e,t,a){this.state!==n["a"].UNLOADED||a||(this.state=n["a"].TRANSITIONING,this.imageryLayer._requestImagery(this)),this.state===n["a"].RECEIVED&&(this.state=n["a"].TRANSITIONING,this.imageryLayer._createTexture(e.context,this));const i=this.state===n["a"].READY&&t&&!this.texture;(this.state===n["a"].TEXTURE_LOADED||i)&&(this.state=n["a"].TRANSITIONING,this.imageryLayer._reprojectTexture(e,this,t))},t["a"]=s},7081:function(e,t,a){"use strict";var i=a("66a6"),r=a("44c1");const n={};function s(){Object(r["a"])("ImagerySplitDirection","ImagerySplitDirection was deprecated in Cesium 1.92. It will be removed in 1.94. Use SplitDirection instead.")}Object.defineProperties(n,{LEFT:{get:function(){return s(),i["a"].LEFT}},NONE:{get:function(){return s(),i["a"].NONE}},RIGHT:{get:function(){return s(),i["a"].RIGHT}}});Object.freeze(n)},a1a1:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var i=a("85b2"),r=a("ae9b"),n=a("c937"),s=a("1a5d"),o=a("21b7"),c=a("e2a6"),h=a("5ef1");function l(e){e=Object(s["a"])(e,s["a"].EMPTY_OBJECT);const t=Object(n["a"])(e.imageBasedLightingFactor)?i["a"].clone(e.imageBasedLightingFactor):new i["a"](1,1);r["a"].typeOf.object("options.imageBasedLightingFactor",t),r["a"].typeOf.number.greaterThanOrEquals("options.imageBasedLightingFactor.x",t.x,0),r["a"].typeOf.number.lessThanOrEquals("options.imageBasedLightingFactor.x",t.x,1),r["a"].typeOf.number.greaterThanOrEquals("options.imageBasedLightingFactor.y",t.y,0),r["a"].typeOf.number.lessThanOrEquals("options.imageBasedLightingFactor.y",t.y,1),this._imageBasedLightingFactor=t;const a=Object(s["a"])(e.luminanceAtZenith,.2);r["a"].typeOf.number("options.luminanceAtZenith",a),this._luminanceAtZenith=a;const o=e.sphericalHarmonicCoefficients;if(Object(n["a"])(o)&&(!Array.isArray(o)||9!==o.length))throw new c["a"]("options.sphericalHarmonicCoefficients must be an array of 9 Cartesian3 values.");this._sphericalHarmonicCoefficients=o,this._specularEnvironmentMaps=e.specularEnvironmentMaps,this._specularEnvironmentMapAtlas=void 0,this._specularEnvironmentMapAtlasDirty=!0,this._specularEnvironmentMapLoaded=!1,this._previousSpecularEnvironmentMapLoaded=!1,this._useDefaultSpecularMaps=!1,this._useDefaultSphericalHarmonics=!1,this._shouldRegenerateShaders=!1,this._previousFrameNumber=void 0,this._previousImageBasedLightingFactor=i["a"].clone(t),this._previousLuminanceAtZenith=a,this._previousSphericalHarmonicCoefficients=o}function u(e,t){if(h["a"].isSupported(t)){if(e._specularEnvironmentMapAtlas=e._specularEnvironmentMapAtlas&&e._specularEnvironmentMapAtlas.destroy(),Object(n["a"])(e._specularEnvironmentMaps)){const t=new h["a"](e._specularEnvironmentMaps);e._specularEnvironmentMapAtlas=t,t.readyPromise.then((function(){e._specularEnvironmentMapLoaded=!0})).catch((function(e){console.error("Error loading specularEnvironmentMaps: "+e)}))}e._shouldRegenerateShaders=!0}}Object.defineProperties(l.prototype,{imageBasedLightingFactor:{get:function(){return this._imageBasedLightingFactor},set:function(e){r["a"].typeOf.object("imageBasedLightingFactor",e),r["a"].typeOf.number.greaterThanOrEquals("imageBasedLightingFactor.x",e.x,0),r["a"].typeOf.number.lessThanOrEquals("imageBasedLightingFactor.x",e.x,1),r["a"].typeOf.number.greaterThanOrEquals("imageBasedLightingFactor.y",e.y,0),r["a"].typeOf.number.lessThanOrEquals("imageBasedLightingFactor.y",e.y,1),this._previousImageBasedLightingFactor=i["a"].clone(this._imageBasedLightingFactor,this._previousImageBasedLightingFactor),this._imageBasedLightingFactor=i["a"].clone(e,this._imageBasedLightingFactor)}},luminanceAtZenith:{get:function(){return this._luminanceAtZenith},set:function(e){this._previousLuminanceAtZenith=this._luminanceAtZenith,this._luminanceAtZenith=e}},sphericalHarmonicCoefficients:{get:function(){return this._sphericalHarmonicCoefficients},set:function(e){if(Object(n["a"])(e)&&(!Array.isArray(e)||9!==e.length))throw new c["a"]("sphericalHarmonicCoefficients must be an array of 9 Cartesian3 values.");this._previousSphericalHarmonicCoefficients=this._sphericalHarmonicCoefficients,this._sphericalHarmonicCoefficients=e}},specularEnvironmentMaps:{get:function(){return this._specularEnvironmentMaps},set:function(e){e!==this._specularEnvironmentMaps&&(this._specularEnvironmentMapAtlasDirty=this._specularEnvironmentMapAtlasDirty||e!==this._specularEnvironmentMaps,this._specularEnvironmentMapLoaded=!1),this._specularEnvironmentMaps=e}},enabled:{get:function(){return this._imageBasedLightingFactor.x>0||this._imageBasedLightingFactor.y>0}},shouldRegenerateShaders:{get:function(){return this._shouldRegenerateShaders}},useDefaultSphericalHarmonics:{get:function(){return this._useDefaultSphericalHarmonics}},useSphericalHarmonicCoefficients:{get:function(){return Object(n["a"])(this._sphericalHarmonicCoefficients)||this._useDefaultSphericalHarmonics}},specularEnvironmentMapAtlas:{get:function(){return this._specularEnvironmentMapAtlas}},useDefaultSpecularMaps:{get:function(){return this._useDefaultSpecularMaps}},useSpecularEnvironmentMaps:{get:function(){return Object(n["a"])(this._specularEnvironmentMapAtlas)&&this._specularEnvironmentMapAtlas.ready||this._useDefaultSpecularMaps}}}),l.prototype.update=function(e){if(e.frameNumber===this._previousFrameNumber)return;this._previousFrameNumber=e.frameNumber;const t=e.context;e.brdfLutGenerator.update(e),this._shouldRegenerateShaders=!1;const a=this._imageBasedLightingFactor,r=this._previousImageBasedLightingFactor;i["a"].equals(a,r)||(this._shouldRegenerateShaders=a.x>0&&0===r.x||0===a.x&&r.x>0,this._shouldRegenerateShaders=this._shouldRegenerateShaders||a.y>0&&0===r.y||0===a.y&&r.y>0,this._previousImageBasedLightingFactor=i["a"].clone(this._imageBasedLightingFactor,this._previousImageBasedLightingFactor)),this._luminanceAtZenith!==this._previousLuminanceAtZenith&&(this._shouldRegenerateShaders=this._shouldRegenerateShaders||Object(n["a"])(this._luminanceAtZenith)!==Object(n["a"])(this._previousLuminanceAtZenith),this._previousLuminanceAtZenith=this._luminanceAtZenith),this._previousSphericalHarmonicCoefficients!==this._sphericalHarmonicCoefficients&&(this._shouldRegenerateShaders=this._shouldRegenerateShaders||Object(n["a"])(this._previousSphericalHarmonicCoefficients)!==Object(n["a"])(this._sphericalHarmonicCoefficients),this._previousSphericalHarmonicCoefficients=this._sphericalHarmonicCoefficients),this._shouldRegenerateShaders=this._shouldRegenerateShaders||this._previousSpecularEnvironmentMapLoaded!==this._specularEnvironmentMapLoaded,this._previousSpecularEnvironmentMapLoaded=this._specularEnvironmentMapLoaded,this._specularEnvironmentMapAtlasDirty&&(u(this,t),this._specularEnvironmentMapAtlasDirty=!1),Object(n["a"])(this._specularEnvironmentMapAtlas)&&this._specularEnvironmentMapAtlas.update(e);const s=!Object(n["a"])(this._specularEnvironmentMapAtlas)&&Object(n["a"])(e.specularEnvironmentMaps)&&!this._useDefaultSpecularMaps,o=!Object(n["a"])(e.specularEnvironmentMaps)&&this._useDefaultSpecularMaps,c=!Object(n["a"])(this._sphericalHarmonicCoefficients)&&Object(n["a"])(e.sphericalHarmonicCoefficients)&&!this._useDefaultSphericalHarmonics,h=!Object(n["a"])(e.sphericalHarmonicCoefficients)&&this._useDefaultSphericalHarmonics;this._shouldRegenerateShaders=this._shouldRegenerateShaders||s||o||c||h,this._useDefaultSpecularMaps=!Object(n["a"])(this._specularEnvironmentMapAtlas)&&Object(n["a"])(e.specularEnvironmentMaps),this._useDefaultSphericalHarmonics=!Object(n["a"])(this._sphericalHarmonicCoefficients)&&Object(n["a"])(e.sphericalHarmonicCoefficients)},l.prototype.isDestroyed=function(){return!1},l.prototype.destroy=function(){return this._specularEnvironmentMapAtlas=this._specularEnvironmentMapAtlas&&this._specularEnvironmentMapAtlas.destroy(),Object(o["a"])(this)}},a507:function(e,t,a){"use strict";var i=a("c937");function r(){this.name=void 0,this.description=void 0,this.position=void 0,this.data=void 0,this.imageryLayer=void 0}r.prototype.configureNameFromProperties=function(e){let t,a=10;for(const i in e)if(e.hasOwnProperty(i)&&e[i]){const e=i.toLowerCase();a>1&&"name"===e?(a=1,t=i):a>2&&"title"===e?(a=2,t=i):a>3&&/name/i.test(i)?(a=3,t=i):a>4&&/title/i.test(i)&&(a=4,t=i)}Object(i["a"])(t)&&(this.name=e[t])},r.prototype.configureDescriptionFromProperties=function(e){function t(e){let a='<table class="cesium-infoBox-defaultTable">';for(const r in e)if(e.hasOwnProperty(r)){const n=e[r];Object(i["a"])(n)&&(a+="object"===typeof n?`<tr><td>${r}</td><td>${t(n)}</td></tr>`:`<tr><td>${r}</td><td>${n}</td></tr>`)}return a+="</table>",a}this.description=t(e)},t["a"]=r},e607:function(e,t,a){"use strict";const i={UNLOADED:0,TRANSITIONING:1,RECEIVED:2,TEXTURE_LOADED:3,READY:4,FAILED:5,INVALID:6,PLACEHOLDER:7};t["a"]=Object.freeze(i)},e956:function(e,t,a){"use strict";var i=a("ae9b"),r=a("c937"),n=a("e2a6"),s=a("0dea"),o=a("9f38");function c(){this.defaultAlpha=void 0,this.defaultNightAlpha=void 0,this.defaultDayAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0,n["a"].throwInstantiationError()}Object.defineProperties(c.prototype,{ready:{get:n["a"].throwInstantiationError},readyPromise:{get:n["a"].throwInstantiationError},rectangle:{get:n["a"].throwInstantiationError},tileWidth:{get:n["a"].throwInstantiationError},tileHeight:{get:n["a"].throwInstantiationError},maximumLevel:{get:n["a"].throwInstantiationError},minimumLevel:{get:n["a"].throwInstantiationError},tilingScheme:{get:n["a"].throwInstantiationError},tileDiscardPolicy:{get:n["a"].throwInstantiationError},errorEvent:{get:n["a"].throwInstantiationError},credit:{get:n["a"].throwInstantiationError},proxy:{get:n["a"].throwInstantiationError},hasAlphaChannel:{get:n["a"].throwInstantiationError}}),c.prototype.getTileCredits=function(e,t,a){n["a"].throwInstantiationError()},c.prototype.requestImage=function(e,t,a,i){n["a"].throwInstantiationError()},c.prototype.pickFeatures=function(e,t,a,i,r){n["a"].throwInstantiationError()};const h=/\.ktx2$/i;c.loadImage=function(e,t){i["a"].defined("url",t);const a=o["a"].createIfNeeded(t);return h.test(a.url)?Object(s["a"])(a):Object(r["a"])(e)&&Object(r["a"])(e.tileDiscardPolicy)?a.fetchImage({preferBlob:!0,preferImageBitmap:!0,flipY:!0}):a.fetchImage({preferImageBitmap:!0,flipY:!0})},t["a"]=c},f0f6:function(e,t,a){"use strict";var i=a("1a5d"),r=a("c937"),n=a("21b7"),s=a("e2a6"),o=a("f7b5"),c=a("b8b5"),h=a("4a63"),l=a("2507");function u(){this._layers=[],this.layerAdded=new o["a"],this.layerRemoved=new o["a"],this.layerMoved=new o["a"],this.layerShownOrHidden=new o["a"]}function p(e,t){if(!Object(r["a"])(t))throw new s["a"]("layer is required.");const a=e.indexOf(t);if(-1===a)throw new s["a"]("layer is not in this collection.");return a}function m(e,t,a){const i=e._layers;if(t=c["a"].clamp(t,0,i.length-1),a=c["a"].clamp(a,0,i.length-1),t===a)return;const r=i[t];i[t]=i[a],i[a]=r,e._update(),e.layerMoved.raiseEvent(r,a,t)}Object.defineProperties(u.prototype,{length:{get:function(){return this._layers.length}}}),u.prototype.add=function(e,t){const a=Object(r["a"])(t);if(!Object(r["a"])(e))throw new s["a"]("layer is required.");if(a){if(t<0)throw new s["a"]("index must be greater than or equal to zero.");if(t>this._layers.length)throw new s["a"]("index must be less than or equal to the number of layers.")}a?this._layers.splice(t,0,e):(t=this._layers.length,this._layers.push(e)),this._update(),this.layerAdded.raiseEvent(e,t)},u.prototype.addImageryProvider=function(e,t){if(!Object(r["a"])(e))throw new s["a"]("imageryProvider is required.");const a=new l["a"](e);return this.add(a,t),a},u.prototype.remove=function(e,t){t=Object(i["a"])(t,!0);const a=this._layers.indexOf(e);return-1!==a&&(this._layers.splice(a,1),this._update(),this.layerRemoved.raiseEvent(e,a),t&&e.destroy(),!0)},u.prototype.removeAll=function(e){e=Object(i["a"])(e,!0);const t=this._layers;for(let a=0,i=t.length;a<i;a++){const i=t[a];this.layerRemoved.raiseEvent(i,a),e&&i.destroy()}this._layers=[]},u.prototype.contains=function(e){return-1!==this.indexOf(e)},u.prototype.indexOf=function(e){return this._layers.indexOf(e)},u.prototype.get=function(e){if(!Object(r["a"])(e))throw new s["a"]("index is required.","index");return this._layers[e]},u.prototype.raise=function(e){const t=p(this._layers,e);m(this,t,t+1)},u.prototype.lower=function(e){const t=p(this._layers,e);m(this,t,t-1)},u.prototype.raiseToTop=function(e){const t=p(this._layers,e);t!==this._layers.length-1&&(this._layers.splice(t,1),this._layers.push(e),this._update(),this.layerMoved.raiseEvent(e,this._layers.length-1,t))},u.prototype.lowerToBottom=function(e){const t=p(this._layers,e);0!==t&&(this._layers.splice(t,1),this._layers.splice(0,0,e),this._update(),this.layerMoved.raiseEvent(e,0,t))};const g=new h["a"];function f(e,t,a,i){const n=e.globe._surface._tilesToRender;let s;for(let c=0;!Object(r["a"])(s)&&c<n.length;++c){const e=n[c];h["a"].contains(e.rectangle,t)&&(s=e)}if(!Object(r["a"])(s))return;const o=s.data.imagery;for(let l=o.length-1;l>=0;--l){const e=o[l],n=e.readyImagery;if(!Object(r["a"])(n))continue;const u=n.imageryLayer.imageryProvider;if(a&&!Object(r["a"])(u.pickFeatures))continue;if(!h["a"].contains(n.rectangle,t))continue;const p=g,m=1/1024;p.west=c["a"].lerp(s.rectangle.west,s.rectangle.east,e.textureCoordinateRectangle.x-m),p.east=c["a"].lerp(s.rectangle.west,s.rectangle.east,e.textureCoordinateRectangle.z+m),p.south=c["a"].lerp(s.rectangle.south,s.rectangle.north,e.textureCoordinateRectangle.y-m),p.north=c["a"].lerp(s.rectangle.south,s.rectangle.north,e.textureCoordinateRectangle.w+m),h["a"].contains(p,t)&&i(n)}}u.prototype.pickImageryLayers=function(e,t){const a=t.globe.pick(e,t);if(!Object(r["a"])(a))return;const i=t.globe.ellipsoid.cartesianToCartographic(a),n=[];return f(t,i,!1,(function(e){n.push(e.imageryLayer)})),0!==n.length?n:void 0},u.prototype.pickImageryLayerFeatures=function(e,t){const a=t.globe.pick(e,t);if(!Object(r["a"])(a))return;const i=t.globe.ellipsoid.cartesianToCartographic(a),n=[],s=[];return f(t,i,!0,(function(e){const t=e.imageryLayer.imageryProvider,a=t.pickFeatures(e.x,e.y,e.level,i.longitude,i.latitude);Object(r["a"])(a)&&(n.push(a),s.push(e.imageryLayer))})),0!==n.length?Promise.all(n).then((function(e){const t=[];for(let a=0;a<e.length;++a){const n=e[a],o=s[a];if(Object(r["a"])(n)&&n.length>0)for(let e=0;e<n.length;++e){const a=n[e];a.imageryLayer=o,Object(r["a"])(a.position)||(a.position=i),t.push(a)}}return t})):void 0},u.prototype.queueReprojectionCommands=function(e){const t=this._layers;for(let a=0,i=t.length;a<i;++a)t[a].queueReprojectionCommands(e)},u.prototype.cancelReprojections=function(){const e=this._layers;for(let t=0,a=e.length;t<a;++t)e[t].cancelReprojections()},u.prototype.isDestroyed=function(){return!1},u.prototype.destroy=function(){return this.removeAll(!0),Object(n["a"])(this)},u.prototype._update=function(){let e=!0;const t=this._layers;let a,i,n,s;for(n=0,s=t.length;n<s;++n)i=t[n],i._layerIndex=n,i.show?(i._isBaseLayer=e,e=!1):i._isBaseLayer=!1,i.show!==i._show&&(Object(r["a"])(i._show)&&(Object(r["a"])(a)||(a=[]),a.push(i)),i._show=i.show);if(Object(r["a"])(a))for(n=0,s=a.length;n<s;++n)i=a[n],this.layerShownOrHidden.raiseEvent(i,i._layerIndex,i.show)},t["a"]=u}}]);