(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~7324a8a3"],{"1b9c":function(t,e,n){"use strict";var i=n("dde0"),r=n("ae9b"),a=n("1a5d"),o=n("c937"),s=n("8e1f"),c=n("b8b5"),u=n("d767");function h(t,e,n,i){this.x=Object(a["a"])(t,0),this.y=Object(a["a"])(e,0),this.z=Object(a["a"])(n,0),this.w=Object(a["a"])(i,0)}let l=new i["a"];h.fromAxisAngle=function(t,e,n){r["a"].typeOf.object("axis",t),r["a"].typeOf.number("angle",e);const a=e/2,s=Math.sin(a);l=i["a"].normalize(t,l);const c=l.x*s,u=l.y*s,d=l.z*s,f=Math.cos(a);return Object(o["a"])(n)?(n.x=c,n.y=u,n.z=d,n.w=f,n):new h(c,u,d,f)};const d=[1,2,0],f=new Array(3);h.fromRotationMatrix=function(t,e){let n,i,a,s,c;r["a"].typeOf.object("matrix",t);const l=t[u["a"].COLUMN0ROW0],p=t[u["a"].COLUMN1ROW1],m=t[u["a"].COLUMN2ROW2],y=l+p+m;if(y>0)n=Math.sqrt(y+1),c=.5*n,n=.5/n,i=(t[u["a"].COLUMN1ROW2]-t[u["a"].COLUMN2ROW1])*n,a=(t[u["a"].COLUMN2ROW0]-t[u["a"].COLUMN0ROW2])*n,s=(t[u["a"].COLUMN0ROW1]-t[u["a"].COLUMN1ROW0])*n;else{const e=d;let r=0;p>l&&(r=1),m>l&&m>p&&(r=2);const o=e[r],h=e[o];n=Math.sqrt(t[u["a"].getElementIndex(r,r)]-t[u["a"].getElementIndex(o,o)]-t[u["a"].getElementIndex(h,h)]+1);const y=f;y[r]=.5*n,n=.5/n,c=(t[u["a"].getElementIndex(h,o)]-t[u["a"].getElementIndex(o,h)])*n,y[o]=(t[u["a"].getElementIndex(o,r)]+t[u["a"].getElementIndex(r,o)])*n,y[h]=(t[u["a"].getElementIndex(h,r)]+t[u["a"].getElementIndex(r,h)])*n,i=-y[0],a=-y[1],s=-y[2]}return Object(o["a"])(e)?(e.x=i,e.y=a,e.z=s,e.w=c,e):new h(i,a,s,c)};const p=new h;let m=new h,y=new h,b=new h;h.fromHeadingPitchRoll=function(t,e){return r["a"].typeOf.object("headingPitchRoll",t),b=h.fromAxisAngle(i["a"].UNIT_X,t.roll,p),y=h.fromAxisAngle(i["a"].UNIT_Y,-t.pitch,e),e=h.multiply(y,b,y),m=h.fromAxisAngle(i["a"].UNIT_Z,-t.heading,p),h.multiply(m,e,e)};const w=new i["a"],g=new i["a"],O=new h,j=new h,_=new h;h.packedLength=4,h.pack=function(t,e,n){return r["a"].typeOf.object("value",t),r["a"].defined("array",e),n=Object(a["a"])(n,0),e[n++]=t.x,e[n++]=t.y,e[n++]=t.z,e[n]=t.w,e},h.unpack=function(t,e,n){return r["a"].defined("array",t),e=Object(a["a"])(e,0),Object(o["a"])(n)||(n=new h),n.x=t[e],n.y=t[e+1],n.z=t[e+2],n.w=t[e+3],n},h.packedInterpolationLength=3,h.convertPackedArrayForInterpolation=function(t,e,n,i){h.unpack(t,4*n,_),h.conjugate(_,_);for(let r=0,a=n-e+1;r<a;r++){const n=3*r;h.unpack(t,4*(e+r),O),h.multiply(O,_,O),O.w<0&&h.negate(O,O),h.computeAxis(O,w);const a=h.computeAngle(O);Object(o["a"])(i)||(i=[]),i[n]=w.x*a,i[n+1]=w.y*a,i[n+2]=w.z*a}},h.unpackInterpolationResult=function(t,e,n,r,a){Object(o["a"])(a)||(a=new h),i["a"].fromArray(t,0,g);const s=i["a"].magnitude(g);return h.unpack(e,4*r,j),0===s?h.clone(h.IDENTITY,O):h.fromAxisAngle(g,s,O),h.multiply(O,j,a)},h.clone=function(t,e){if(Object(o["a"])(t))return Object(o["a"])(e)?(e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e):new h(t.x,t.y,t.z,t.w)},h.conjugate=function(t,e){return r["a"].typeOf.object("quaternion",t),r["a"].typeOf.object("result",e),e.x=-t.x,e.y=-t.y,e.z=-t.z,e.w=t.w,e},h.magnitudeSquared=function(t){return r["a"].typeOf.object("quaternion",t),t.x*t.x+t.y*t.y+t.z*t.z+t.w*t.w},h.magnitude=function(t){return Math.sqrt(h.magnitudeSquared(t))},h.normalize=function(t,e){r["a"].typeOf.object("result",e);const n=1/h.magnitude(t),i=t.x*n,a=t.y*n,o=t.z*n,s=t.w*n;return e.x=i,e.y=a,e.z=o,e.w=s,e},h.inverse=function(t,e){r["a"].typeOf.object("result",e);const n=h.magnitudeSquared(t);return e=h.conjugate(t,e),h.multiplyByScalar(e,1/n,e)},h.add=function(t,e,n){return r["a"].typeOf.object("left",t),r["a"].typeOf.object("right",e),r["a"].typeOf.object("result",n),n.x=t.x+e.x,n.y=t.y+e.y,n.z=t.z+e.z,n.w=t.w+e.w,n},h.subtract=function(t,e,n){return r["a"].typeOf.object("left",t),r["a"].typeOf.object("right",e),r["a"].typeOf.object("result",n),n.x=t.x-e.x,n.y=t.y-e.y,n.z=t.z-e.z,n.w=t.w-e.w,n},h.negate=function(t,e){return r["a"].typeOf.object("quaternion",t),r["a"].typeOf.object("result",e),e.x=-t.x,e.y=-t.y,e.z=-t.z,e.w=-t.w,e},h.dot=function(t,e){return r["a"].typeOf.object("left",t),r["a"].typeOf.object("right",e),t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w},h.multiply=function(t,e,n){r["a"].typeOf.object("left",t),r["a"].typeOf.object("right",e),r["a"].typeOf.object("result",n);const i=t.x,a=t.y,o=t.z,s=t.w,c=e.x,u=e.y,h=e.z,l=e.w,d=s*c+i*l+a*h-o*u,f=s*u-i*h+a*l+o*c,p=s*h+i*u-a*c+o*l,m=s*l-i*c-a*u-o*h;return n.x=d,n.y=f,n.z=p,n.w=m,n},h.multiplyByScalar=function(t,e,n){return r["a"].typeOf.object("quaternion",t),r["a"].typeOf.number("scalar",e),r["a"].typeOf.object("result",n),n.x=t.x*e,n.y=t.y*e,n.z=t.z*e,n.w=t.w*e,n},h.divideByScalar=function(t,e,n){return r["a"].typeOf.object("quaternion",t),r["a"].typeOf.number("scalar",e),r["a"].typeOf.object("result",n),n.x=t.x/e,n.y=t.y/e,n.z=t.z/e,n.w=t.w/e,n},h.computeAxis=function(t,e){r["a"].typeOf.object("quaternion",t),r["a"].typeOf.object("result",e);const n=t.w;if(Math.abs(n-1)<c["a"].EPSILON6)return e.x=e.y=e.z=0,e;const i=1/Math.sqrt(1-n*n);return e.x=t.x*i,e.y=t.y*i,e.z=t.z*i,e},h.computeAngle=function(t){return r["a"].typeOf.object("quaternion",t),Math.abs(t.w-1)<c["a"].EPSILON6?0:2*Math.acos(t.w)};let x=new h;h.lerp=function(t,e,n,i){return r["a"].typeOf.object("start",t),r["a"].typeOf.object("end",e),r["a"].typeOf.number("t",n),r["a"].typeOf.object("result",i),x=h.multiplyByScalar(e,n,x),i=h.multiplyByScalar(t,1-n,i),h.add(x,i,i)};let q=new h,S=new h,I=new h;h.slerp=function(t,e,n,i){r["a"].typeOf.object("start",t),r["a"].typeOf.object("end",e),r["a"].typeOf.number("t",n),r["a"].typeOf.object("result",i);let a=h.dot(t,e),o=e;if(a<0&&(a=-a,o=q=h.negate(e,q)),1-a<c["a"].EPSILON6)return h.lerp(t,o,n,i);const s=Math.acos(a);return S=h.multiplyByScalar(t,Math.sin((1-n)*s),S),I=h.multiplyByScalar(o,Math.sin(n*s),I),i=h.add(S,I,i),h.multiplyByScalar(i,1/Math.sin(s),i)},h.log=function(t,e){r["a"].typeOf.object("quaternion",t),r["a"].typeOf.object("result",e);const n=c["a"].acosClamped(t.w);let a=0;return 0!==n&&(a=n/Math.sin(n)),i["a"].multiplyByScalar(t,a,e)},h.exp=function(t,e){r["a"].typeOf.object("cartesian",t),r["a"].typeOf.object("result",e);const n=i["a"].magnitude(t);let a=0;return 0!==n&&(a=Math.sin(n)/n),e.x=t.x*a,e.y=t.y*a,e.z=t.z*a,e.w=Math.cos(n),e};const z=new i["a"],M=new i["a"],H=new h,k=new h;h.computeInnerQuadrangle=function(t,e,n,a){r["a"].typeOf.object("q0",t),r["a"].typeOf.object("q1",e),r["a"].typeOf.object("q2",n),r["a"].typeOf.object("result",a);const o=h.conjugate(e,H);h.multiply(o,n,k);const s=h.log(k,z);h.multiply(o,t,k);const c=h.log(k,M);return i["a"].add(s,c,s),i["a"].multiplyByScalar(s,.25,s),i["a"].negate(s,s),h.exp(s,H),h.multiply(e,H,a)},h.squad=function(t,e,n,i,a,o){r["a"].typeOf.object("q0",t),r["a"].typeOf.object("q1",e),r["a"].typeOf.object("s0",n),r["a"].typeOf.object("s1",i),r["a"].typeOf.number("t",a),r["a"].typeOf.object("result",o);const s=h.slerp(t,e,a,H),c=h.slerp(n,i,a,k);return h.slerp(s,c,2*a*(1-a),o)};const v=new h,T=1.9011074535173003,R=s["a"].supportsTypedArrays()?new Float32Array(8):[],A=s["a"].supportsTypedArrays()?new Float32Array(8):[],N=s["a"].supportsTypedArrays()?new Float32Array(8):[],E=s["a"].supportsTypedArrays()?new Float32Array(8):[];for(let B=0;B<7;++B){const t=B+1,e=2*t+1;R[B]=1/(t*e),A[B]=t/e}R[7]=T/136,A[7]=8*T/17,h.fastSlerp=function(t,e,n,i){r["a"].typeOf.object("start",t),r["a"].typeOf.object("end",e),r["a"].typeOf.number("t",n),r["a"].typeOf.object("result",i);let a,o=h.dot(t,e);o>=0?a=1:(a=-1,o=-o);const s=o-1,c=1-n,u=n*n,l=c*c;for(let r=7;r>=0;--r)N[r]=(R[r]*u-A[r])*s,E[r]=(R[r]*l-A[r])*s;const d=a*n*(1+N[0]*(1+N[1]*(1+N[2]*(1+N[3]*(1+N[4]*(1+N[5]*(1+N[6]*(1+N[7])))))))),f=c*(1+E[0]*(1+E[1]*(1+E[2]*(1+E[3]*(1+E[4]*(1+E[5]*(1+E[6]*(1+E[7])))))))),p=h.multiplyByScalar(t,f,v);return h.multiplyByScalar(e,d,i),h.add(p,i,i)},h.fastSquad=function(t,e,n,i,a,o){r["a"].typeOf.object("q0",t),r["a"].typeOf.object("q1",e),r["a"].typeOf.object("s0",n),r["a"].typeOf.object("s1",i),r["a"].typeOf.number("t",a),r["a"].typeOf.object("result",o);const s=h.fastSlerp(t,e,a,H),c=h.fastSlerp(n,i,a,k);return h.fastSlerp(s,c,2*a*(1-a),o)},h.equals=function(t,e){return t===e||Object(o["a"])(t)&&Object(o["a"])(e)&&t.x===e.x&&t.y===e.y&&t.z===e.z&&t.w===e.w},h.equalsEpsilon=function(t,e,n){return n=Object(a["a"])(n,0),t===e||Object(o["a"])(t)&&Object(o["a"])(e)&&Math.abs(t.x-e.x)<=n&&Math.abs(t.y-e.y)<=n&&Math.abs(t.z-e.z)<=n&&Math.abs(t.w-e.w)<=n},h.ZERO=Object.freeze(new h(0,0,0,0)),h.IDENTITY=Object.freeze(new h(0,0,0,1)),h.prototype.clone=function(t){return h.clone(this,t)},h.prototype.equals=function(t){return h.equals(this,t)},h.prototype.equalsEpsilon=function(t,e){return h.equalsEpsilon(this,t,e)},h.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z}, ${this.w})`},e["a"]=h},"62f2":function(t,e,n){"use strict";var i=n("10a0"),r=n("e2a6"),a=n("b8b5"),o=n("8b8d");const s={};function c(t,e,n,r){const s=t*t,c=e-3*s/8,u=n-e*t/2+s*t/8,h=r-n*t/4+e*s/16-3*s*s/256,l=i["a"].computeRealRoots(1,2*c,c*c-4*h,-u*u);if(l.length>0){const e=-t/4,n=l[l.length-1];if(Math.abs(n)<a["a"].EPSILON14){const t=o["a"].computeRealRoots(1,c,h);if(2===t.length){const n=t[0],i=t[1];let r;if(n>=0&&i>=0){const t=Math.sqrt(n),r=Math.sqrt(i);return[e-r,e-t,e+t,e+r]}if(n>=0&&i<0)return r=Math.sqrt(n),[e-r,e+r];if(n<0&&i>=0)return r=Math.sqrt(i),[e-r,e+r]}return[]}if(n>0){const t=Math.sqrt(n),i=(c+n-u/t)/2,r=(c+n+u/t)/2,a=o["a"].computeRealRoots(1,t,i),s=o["a"].computeRealRoots(1,-t,r);return 0!==a.length?(a[0]+=e,a[1]+=e,0!==s.length?(s[0]+=e,s[1]+=e,a[1]<=s[0]?[a[0],a[1],s[0],s[1]]:s[1]<=a[0]?[s[0],s[1],a[0],a[1]]:a[0]>=s[0]&&a[1]<=s[1]?[s[0],a[0],a[1],s[1]]:s[0]>=a[0]&&s[1]<=a[1]?[a[0],s[0],s[1],a[1]]:a[0]>s[0]&&a[0]<s[1]?[s[0],a[0],s[1],a[1]]:[a[0],s[0],a[1],s[1]]):a):0!==s.length?(s[0]+=e,s[1]+=e,s):[]}}return[]}function u(t,e,n,r){const s=n*n,c=e*e,u=t*t,h=-2*e,l=n*t+c-4*r,d=u*r-n*e*t+s,f=i["a"].computeRealRoots(1,h,l,d);if(f.length>0){const i=f[0],s=e-i,c=s*s,h=t/2,l=s/2,d=c-4*r,p=c+4*Math.abs(r),m=u-4*i,y=u+4*Math.abs(i);let b,w,g,O,j,_;if(i<0||d*y<m*p){const e=Math.sqrt(m);b=e/2,w=0===e?0:(t*l-n)/e}else{const e=Math.sqrt(d);b=0===e?0:(t*l-n)/e,w=e/2}0===h&&0===b?(g=0,O=0):a["a"].sign(h)===a["a"].sign(b)?(g=h+b,O=i/g):(O=h-b,g=i/O),0===l&&0===w?(j=0,_=0):a["a"].sign(l)===a["a"].sign(w)?(j=l+w,_=r/j):(_=l-w,j=r/_);const x=o["a"].computeRealRoots(1,g,j),q=o["a"].computeRealRoots(1,O,_);if(0!==x.length)return 0!==q.length?x[1]<=q[0]?[x[0],x[1],q[0],q[1]]:q[1]<=x[0]?[q[0],q[1],x[0],x[1]]:x[0]>=q[0]&&x[1]<=q[1]?[q[0],x[0],x[1],q[1]]:q[0]>=x[0]&&q[1]<=x[1]?[x[0],q[0],q[1],x[1]]:x[0]>q[0]&&x[0]<q[1]?[q[0],x[0],q[1],x[1]]:[x[0],q[0],x[1],q[1]]:x;if(0!==q.length)return q}return[]}s.computeDiscriminant=function(t,e,n,i,a){if("number"!==typeof t)throw new r["a"]("a is a required number.");if("number"!==typeof e)throw new r["a"]("b is a required number.");if("number"!==typeof n)throw new r["a"]("c is a required number.");if("number"!==typeof i)throw new r["a"]("d is a required number.");if("number"!==typeof a)throw new r["a"]("e is a required number.");const o=t*t,s=o*t,c=e*e,u=c*e,h=n*n,l=h*n,d=i*i,f=d*i,p=a*a,m=p*a,y=c*h*d-4*u*f-4*t*l*d+18*t*e*n*f-27*o*d*d+256*s*m+a*(18*u*n*i-4*c*l+16*t*h*h-80*t*e*h*i-6*t*c*d+144*o*n*d)+p*(144*t*c*n-27*c*c-128*o*h-192*o*e*i);return y},s.computeRealRoots=function(t,e,n,o,s){if("number"!==typeof t)throw new r["a"]("a is a required number.");if("number"!==typeof e)throw new r["a"]("b is a required number.");if("number"!==typeof n)throw new r["a"]("c is a required number.");if("number"!==typeof o)throw new r["a"]("d is a required number.");if("number"!==typeof s)throw new r["a"]("e is a required number.");if(Math.abs(t)<a["a"].EPSILON15)return i["a"].computeRealRoots(e,n,o,s);const h=e/t,l=n/t,d=o/t,f=s/t;let p=h<0?1:0;switch(p+=l<0?p+1:p,p+=d<0?p+1:p,p+=f<0?p+1:p,p){case 0:return c(h,l,d,f);case 1:return u(h,l,d,f);case 2:return u(h,l,d,f);case 3:return c(h,l,d,f);case 4:return c(h,l,d,f);case 5:return u(h,l,d,f);case 6:return c(h,l,d,f);case 7:return c(h,l,d,f);case 8:return u(h,l,d,f);case 9:return c(h,l,d,f);case 10:return c(h,l,d,f);case 11:return u(h,l,d,f);case 12:return c(h,l,d,f);case 13:return c(h,l,d,f);case 14:return c(h,l,d,f);case 15:return c(h,l,d,f);default:return}},e["a"]=s},"6fb5":function(t,e,n){"use strict";var i=n("1a5d"),r=n("c937"),a=n("e2a6"),o=n("1b9c"),s=n("4721");function c(t){const e=t.points,n=t.times;return function(i,a){Object(r["a"])(a)||(a=new o["a"]);const s=t._lastTimeIndex=t.findTimeInterval(i,t._lastTimeIndex),c=(i-n[s])/(n[s+1]-n[s]),u=e[s],h=e[s+1];return o["a"].fastSlerp(u,h,c,a)}}function u(t){t=Object(i["a"])(t,i["a"].EMPTY_OBJECT);const e=t.points,n=t.times;if(!Object(r["a"])(e)||!Object(r["a"])(n))throw new a["a"]("points and times are required.");if(e.length<2)throw new a["a"]("points.length must be greater than or equal to 2.");if(n.length!==e.length)throw new a["a"]("times.length must be equal to points.length.");this._times=n,this._points=e,this._evaluateFunction=c(this),this._lastTimeIndex=0}Object.defineProperties(u.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}}}),u.prototype.findTimeInterval=s["a"].prototype.findTimeInterval,u.prototype.wrapTime=s["a"].prototype.wrapTime,u.prototype.clampTime=s["a"].prototype.clampTime,u.prototype.evaluate=function(t,e){return this._evaluateFunction(t,e)},e["a"]=u},"8b8d":function(t,e,n){"use strict";var i=n("e2a6"),r=n("b8b5");const a={};function o(t,e,n){const i=t+e;return r["a"].sign(t)!==r["a"].sign(e)&&Math.abs(i/Math.max(Math.abs(t),Math.abs(e)))<n?0:i}a.computeDiscriminant=function(t,e,n){if("number"!==typeof t)throw new i["a"]("a is a required number.");if("number"!==typeof e)throw new i["a"]("b is a required number.");if("number"!==typeof n)throw new i["a"]("c is a required number.");const r=e*e-4*t*n;return r},a.computeRealRoots=function(t,e,n){if("number"!==typeof t)throw new i["a"]("a is a required number.");if("number"!==typeof e)throw new i["a"]("b is a required number.");if("number"!==typeof n)throw new i["a"]("c is a required number.");let a;if(0===t)return 0===e?[]:[-n/e];if(0===e){if(0===n)return[0,0];const e=Math.abs(n),i=Math.abs(t);if(e<i&&e/i<r["a"].EPSILON14)return[0,0];if(e>i&&i/e<r["a"].EPSILON14)return[];if(a=-n/t,a<0)return[];const o=Math.sqrt(a);return[-o,o]}if(0===n)return a=-e/t,a<0?[a,0]:[0,a];const s=e*e,c=4*t*n,u=o(s,-c,r["a"].EPSILON14);if(u<0)return[];const h=-.5*o(e,r["a"].sign(e)*Math.sqrt(u),r["a"].EPSILON14);return e>0?[h/t,n/h]:[n/h,h/t]},e["a"]=a},a5ef:function(t,e,n){"use strict";function i(){this._array=[],this._offset=0,this._length=0}Object.defineProperties(i.prototype,{length:{get:function(){return this._length}}}),i.prototype.enqueue=function(t){this._array.push(t),this._length++},i.prototype.dequeue=function(){if(0===this._length)return;const t=this._array;let e=this._offset;const n=t[e];return t[e]=void 0,e++,e>10&&2*e>t.length&&(this._array=t.slice(e),e=0),this._offset=e,this._length--,n},i.prototype.peek=function(){if(0!==this._length)return this._array[this._offset]},i.prototype.contains=function(t){return-1!==this._array.indexOf(t)},i.prototype.clear=function(){this._array.length=this._offset=this._length=0},i.prototype.sort=function(t){this._offset>0&&(this._array=this._array.slice(this._offset),this._offset=0),this._array.sort(t)},e["a"]=i},a603:function(t,e,n){"use strict";var i=n("8656"),r=n("85b2"),a=n("dde0"),o=n("ae9b"),s=n("1a5d"),c=n("c937"),u=n("e2a6"),h=n("2642"),l=n("1673"),d=n("b8b5"),f=n("22d6"),p=n("86a0"),m=n("5c55"),y=n("30e6"),b=n("325c");function w(t){if(!Object(c["a"])(t)||!Object(c["a"])(t.quantizedVertices))throw new u["a"]("options.quantizedVertices is required.");if(!Object(c["a"])(t.indices))throw new u["a"]("options.indices is required.");if(!Object(c["a"])(t.minimumHeight))throw new u["a"]("options.minimumHeight is required.");if(!Object(c["a"])(t.maximumHeight))throw new u["a"]("options.maximumHeight is required.");if(!Object(c["a"])(t.maximumHeight))throw new u["a"]("options.maximumHeight is required.");if(!Object(c["a"])(t.boundingSphere))throw new u["a"]("options.boundingSphere is required.");if(!Object(c["a"])(t.horizonOcclusionPoint))throw new u["a"]("options.horizonOcclusionPoint is required.");if(!Object(c["a"])(t.westIndices))throw new u["a"]("options.westIndices is required.");if(!Object(c["a"])(t.southIndices))throw new u["a"]("options.southIndices is required.");if(!Object(c["a"])(t.eastIndices))throw new u["a"]("options.eastIndices is required.");if(!Object(c["a"])(t.northIndices))throw new u["a"]("options.northIndices is required.");if(!Object(c["a"])(t.westSkirtHeight))throw new u["a"]("options.westSkirtHeight is required.");if(!Object(c["a"])(t.southSkirtHeight))throw new u["a"]("options.southSkirtHeight is required.");if(!Object(c["a"])(t.eastSkirtHeight))throw new u["a"]("options.eastSkirtHeight is required.");if(!Object(c["a"])(t.northSkirtHeight))throw new u["a"]("options.northSkirtHeight is required.");this._quantizedVertices=t.quantizedVertices,this._encodedNormals=t.encodedNormals,this._indices=t.indices,this._minimumHeight=t.minimumHeight,this._maximumHeight=t.maximumHeight,this._boundingSphere=t.boundingSphere,this._orientedBoundingBox=t.orientedBoundingBox,this._horizonOcclusionPoint=t.horizonOcclusionPoint,this._credits=t.credits;const e=this._quantizedVertices.length/3,n=this._uValues=this._quantizedVertices.subarray(0,e),i=this._vValues=this._quantizedVertices.subarray(e,2*e);function r(t,e){return i[t]-i[e]}function a(t,e){return n[t]-n[e]}this._heightValues=this._quantizedVertices.subarray(2*e,3*e),this._westIndices=O(t.westIndices,r,e),this._southIndices=O(t.southIndices,a,e),this._eastIndices=O(t.eastIndices,r,e),this._northIndices=O(t.northIndices,a,e),this._westSkirtHeight=t.westSkirtHeight,this._southSkirtHeight=t.southSkirtHeight,this._eastSkirtHeight=t.eastSkirtHeight,this._northSkirtHeight=t.northSkirtHeight,this._childTileMask=Object(s["a"])(t.childTileMask,15),this._createdByUpsampling=Object(s["a"])(t.createdByUpsampling,!1),this._waterMask=t.waterMask,this._mesh=void 0}Object.defineProperties(w.prototype,{credits:{get:function(){return this._credits}},waterMask:{get:function(){return this._waterMask}},childTileMask:{get:function(){return this._childTileMask}},canUpsample:{get:function(){return Object(c["a"])(this._mesh)}}});const g=[];function O(t,e,n){g.length=t.length;let i=!1;for(let r=0,a=t.length;r<a;++r)g[r]=t[r],i=i||r>0&&e(t[r-1],t[r])>0;return i?(g.sort(e),h["a"].createTypedArray(n,g)):t}const j="createVerticesFromQuantizedTerrainMesh",_=new p["a"](j),x=new p["a"](j,m["a"].maximumAsynchronousTasks);w.prototype.createMesh=function(t){t=Object(s["a"])(t,s["a"].EMPTY_OBJECT),o["a"].typeOf.object("options.tilingScheme",t.tilingScheme),o["a"].typeOf.number("options.x",t.x),o["a"].typeOf.number("options.y",t.y),o["a"].typeOf.number("options.level",t.level);const e=t.tilingScheme,n=t.x,i=t.y,r=t.level,u=Object(s["a"])(t.exaggeration,1),l=Object(s["a"])(t.exaggerationRelativeHeight,0),d=Object(s["a"])(t.throttle,!0),f=e.ellipsoid,p=e.tileXYToRectangle(n,i,r),m=d?x:_,w=m.scheduleTask({minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,quantizedVertices:this._quantizedVertices,octEncodedNormals:this._encodedNormals,includeWebMercatorT:!0,indices:this._indices,westIndices:this._westIndices,southIndices:this._southIndices,eastIndices:this._eastIndices,northIndices:this._northIndices,westSkirtHeight:this._westSkirtHeight,southSkirtHeight:this._southSkirtHeight,eastSkirtHeight:this._eastSkirtHeight,northSkirtHeight:this._northSkirtHeight,rectangle:p,relativeToCenter:this._boundingSphere.center,ellipsoid:f,exaggeration:u,exaggerationRelativeHeight:l});if(!Object(c["a"])(w))return;const g=this;return Promise.resolve(w).then((function(t){const e=g._quantizedVertices.length/3,n=e+g._westIndices.length+g._southIndices.length+g._eastIndices.length+g._northIndices.length,i=h["a"].createTypedArray(n,t.indices),r=new Float32Array(t.vertices),o=t.center,c=t.minimumHeight,u=t.maximumHeight,l=g._boundingSphere,d=g._orientedBoundingBox,f=Object(s["a"])(a["a"].clone(t.occludeePointInScaledSpace),g._horizonOcclusionPoint),p=t.vertexStride,m=y["a"].clone(t.encoding);return g._mesh=new b["a"](o,r,i,t.indexCountWithoutSkirts,e,c,u,l,f,p,d,m,t.westIndicesSouthToNorth,t.southIndicesEastToWest,t.eastIndicesNorthToSouth,t.northIndicesWestToEast),g._quantizedVertices=void 0,g._encodedNormals=void 0,g._indices=void 0,g._uValues=void 0,g._vValues=void 0,g._heightValues=void 0,g._westIndices=void 0,g._southIndices=void 0,g._eastIndices=void 0,g._northIndices=void 0,g._mesh}))};const q=new p["a"]("upsampleQuantizedTerrainMesh",m["a"].maximumAsynchronousTasks);w.prototype.upsample=function(t,e,n,r,o,s,l){if(!Object(c["a"])(t))throw new u["a"]("tilingScheme is required.");if(!Object(c["a"])(e))throw new u["a"]("thisX is required.");if(!Object(c["a"])(n))throw new u["a"]("thisY is required.");if(!Object(c["a"])(r))throw new u["a"]("thisLevel is required.");if(!Object(c["a"])(o))throw new u["a"]("descendantX is required.");if(!Object(c["a"])(s))throw new u["a"]("descendantY is required.");if(!Object(c["a"])(l))throw new u["a"]("descendantLevel is required.");const d=l-r;if(d>1)throw new u["a"]("Upsampling through more than one level at a time is not currently supported.");const p=this._mesh;if(!Object(c["a"])(this._mesh))return;const m=2*e!==o,y=2*n===s,b=t.ellipsoid,g=t.tileXYToRectangle(o,s,l),O=q.scheduleTask({vertices:p.vertices,vertexCountWithoutSkirts:p.vertexCountWithoutSkirts,indices:p.indices,indexCountWithoutSkirts:p.indexCountWithoutSkirts,encoding:p.encoding,minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,isEastChild:m,isNorthChild:y,childRectangle:g,ellipsoid:b});if(!Object(c["a"])(O))return;let j=Math.min(this._westSkirtHeight,this._eastSkirtHeight);j=Math.min(j,this._southSkirtHeight),j=Math.min(j,this._northSkirtHeight);const _=m?.5*j:this._westSkirtHeight,x=y?.5*j:this._southSkirtHeight,S=m?this._eastSkirtHeight:.5*j,I=y?this._northSkirtHeight:.5*j,z=this._credits;return Promise.resolve(O).then((function(t){const e=new Uint16Array(t.vertices),n=h["a"].createTypedArray(e.length/3,t.indices);let r;return Object(c["a"])(t.encodedNormals)&&(r=new Uint8Array(t.encodedNormals)),new w({quantizedVertices:e,indices:n,encodedNormals:r,minimumHeight:t.minimumHeight,maximumHeight:t.maximumHeight,boundingSphere:i["a"].clone(t.boundingSphere),orientedBoundingBox:f["a"].clone(t.orientedBoundingBox),horizonOcclusionPoint:a["a"].clone(t.horizonOcclusionPoint),westIndices:t.westIndices,southIndices:t.southIndices,eastIndices:t.eastIndices,northIndices:t.northIndices,westSkirtHeight:_,southSkirtHeight:x,eastSkirtHeight:S,northSkirtHeight:I,childTileMask:0,credits:z,createdByUpsampling:!0})}))};const S=32767,I=new a["a"];function z(t,e,n,i,r,a,o,s){const c=Math.min(n,r,o),u=Math.max(n,r,o),h=Math.min(i,a,s),l=Math.max(i,a,s);return t>=c&&t<=u&&e>=h&&e<=l}w.prototype.interpolateHeight=function(t,e,n){let i=d["a"].clamp((e-t.west)/t.width,0,1);i*=S;let r=d["a"].clamp((n-t.south)/t.height,0,1);return r*=S,Object(c["a"])(this._mesh)?v(this,i,r):T(this,i,r)};const M=new r["a"],H=new r["a"],k=new r["a"];function v(t,e,n){const i=t._mesh,r=i.vertices,a=i.encoding,o=i.indices;for(let s=0,c=o.length;s<c;s+=3){const t=o[s],i=o[s+1],c=o[s+2],u=a.decodeTextureCoordinates(r,t,M),h=a.decodeTextureCoordinates(r,i,H),d=a.decodeTextureCoordinates(r,c,k);if(z(e,n,u.x,u.y,h.x,h.y,d.x,d.y)){const o=l["a"].computeBarycentricCoordinates(e,n,u.x,u.y,h.x,h.y,d.x,d.y,I);if(o.x>=-1e-15&&o.y>=-1e-15&&o.z>=-1e-15){const e=a.decodeHeight(r,t),n=a.decodeHeight(r,i),s=a.decodeHeight(r,c);return o.x*e+o.y*n+o.z*s}}}}function T(t,e,n){const i=t._uValues,r=t._vValues,a=t._heightValues,o=t._indices;for(let s=0,c=o.length;s<c;s+=3){const c=o[s],u=o[s+1],h=o[s+2],f=i[c],p=i[u],m=i[h],y=r[c],b=r[u],w=r[h];if(z(e,n,f,y,p,b,m,w)){const i=l["a"].computeBarycentricCoordinates(e,n,f,y,p,b,m,w,I);if(i.x>=-1e-15&&i.y>=-1e-15&&i.z>=-1e-15){const e=i.x*a[c]+i.y*a[u]+i.z*a[h];return d["a"].lerp(t._minimumHeight,t._maximumHeight,e/S)}}}}w.prototype.isChildAvailable=function(t,e,n,i){if(!Object(c["a"])(t))throw new u["a"]("thisX is required.");if(!Object(c["a"])(e))throw new u["a"]("thisY is required.");if(!Object(c["a"])(n))throw new u["a"]("childX is required.");if(!Object(c["a"])(i))throw new u["a"]("childY is required.");let r=2;return n!==2*t&&++r,i!==2*e&&(r-=2),0!==(this._childTileMask&1<<r)},w.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling},e["a"]=w}}]);