(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~61fe596b"],{"06c1":function(e,t,n){"use strict";var i=n("5c8a"),a=n("0e04"),r=n("554f"),o=n("8656"),s=n("dde0"),c=n("8d54"),l=n("ae9b"),h=n("cbf0"),u=n("1a5d"),d=n("c937"),g=n("e2a6"),f=n("e107"),p=n("c993"),m=n("2039"),b=n("d809"),y=n("1f02"),w=n("5a72"),_=n("f3a4"),O=n("7f05"),E=n("b8b5"),T=n("d767"),j=n("a7b2"),v=n("1b9c"),S=n("4a63"),P=n("5be5");const I=[y["a"],P["a"]],A=I.length,x=Math.cos(E["a"].toRadians(30)),R=Math.cos(E["a"].toRadians(150)),N=0,k=1e3;function M(e){e=Object(u["a"])(e,u["a"].EMPTY_OBJECT);const t=e.positions;if(!Object(d["a"])(t)||t.length<2)throw new g["a"]("At least two positions are required.");if(Object(d["a"])(e.arcType)&&e.arcType!==a["a"].GEODESIC&&e.arcType!==a["a"].RHUMB)throw new g["a"]("Valid options for arcType are ArcType.GEODESIC and ArcType.RHUMB.");this.width=Object(u["a"])(e.width,1),this._positions=t,this.granularity=Object(u["a"])(e.granularity,9999),this.loop=Object(u["a"])(e.loop,!1),this.arcType=Object(u["a"])(e.arcType,a["a"].GEODESIC),this._ellipsoid=f["a"].WGS84,this._projectionIndex=0,this._workerName="createGroundPolylineGeometry",this._scene3DOnly=!1}Object.defineProperties(M.prototype,{packedLength:{get:function(){return 1+3*this._positions.length+1+1+1+f["a"].packedLength+1+1}}}),M.setProjectionAndEllipsoid=function(e,t){let n=0;for(let i=0;i<A;i++)if(t instanceof I[i]){n=i;break}e._projectionIndex=n,e._ellipsoid=t.ellipsoid};const D=new s["a"],B=new s["a"],C=new s["a"];function H(e,t,n,i,a){const r=Y(i,e,0,D),o=Y(i,e,n,B),c=Y(i,t,0,C),l=V(o,r,B),h=V(c,r,C);return s["a"].cross(h,l,a),s["a"].normalize(a,a)}const q=new c["a"],F=new s["a"],U=new s["a"],L=new s["a"];function G(e,t,n,i,r,o,c,l,h,u,d){if(0===r)return;let g;o===a["a"].GEODESIC?g=new p["a"](e,t,c):o===a["a"].RHUMB&&(g=new m["a"](e,t,c));const f=g.surfaceDistance;if(f<r)return;const b=H(e,t,i,c,L),y=Math.ceil(f/r),w=f/y;let _=w;const O=y-1;let E=l.length;for(let a=0;a<O;a++){const e=g.interpolateUsingSurfaceDistance(_,q),t=Y(c,e,n,F),a=Y(c,e,i,U);s["a"].pack(b,l,E),s["a"].pack(t,h,E),s["a"].pack(a,u,E),d.push(e.latitude),d.push(e.longitude),E+=3,_+=w}}const z=new c["a"];function Y(e,t,n,i){return c["a"].clone(t,z),z.height=n,c["a"].toCartesian(z,e,i)}function V(e,t,n){return s["a"].subtract(e,t,n),s["a"].normalize(n,n),n}function W(e,t,n,i){return i=V(e,t,i),i=s["a"].cross(i,n,i),i=s["a"].normalize(i,i),i=s["a"].cross(n,i,i),i}M.pack=function(e,t,n){l["a"].typeOf.object("value",e),l["a"].defined("array",t);let i=Object(u["a"])(n,0);const a=e._positions,r=a.length;t[i++]=r;for(let o=0;o<r;++o){const e=a[o];s["a"].pack(e,t,i),i+=3}return t[i++]=e.granularity,t[i++]=e.loop?1:0,t[i++]=e.arcType,f["a"].pack(e._ellipsoid,t,i),i+=f["a"].packedLength,t[i++]=e._projectionIndex,t[i++]=e._scene3DOnly?1:0,t},M.unpack=function(e,t,n){l["a"].defined("array",e);let i=Object(u["a"])(t,0);const a=e[i++],r=new Array(a);for(let l=0;l<a;l++)r[l]=s["a"].unpack(e,i),i+=3;const o=e[i++],c=1===e[i++],h=e[i++],g=f["a"].unpack(e,i);i+=f["a"].packedLength;const p=e[i++],m=1===e[i++];return Object(d["a"])(n)||(n=new M({positions:r})),n._positions=r,n.granularity=o,n.loop=c,n.arcType=h,n._ellipsoid=g,n._projectionIndex=p,n._scene3DOnly=m,n};const X=new s["a"],Q=new s["a"],K=new s["a"],J=new s["a"],Z=0,$=-1;function ee(e,t,n,i,a){const r=V(n,t,J),o=W(e,t,r,X),c=W(i,t,r,Q);if(E["a"].equalsEpsilon(s["a"].dot(o,c),$,E["a"].EPSILON5))return a=s["a"].cross(r,o,a),a=s["a"].normalize(a,a),a;a=s["a"].add(c,o,a),a=s["a"].normalize(a,a);const l=s["a"].cross(r,a,K);return s["a"].dot(c,l)<Z&&(a=s["a"].negate(a,a)),a}const te=j["a"].fromPointNormal(s["a"].ZERO,s["a"].UNIT_Y),ne=new s["a"],ie=new s["a"],ae=new s["a"],re=new s["a"],oe=new s["a"],se=new s["a"],ce=new c["a"],le=new c["a"],he=new c["a"];M.createGeometry=function(e){const t=!e._scene3DOnly;let n=e.loop;const i=e._ellipsoid,o=e.granularity,l=e.arcType,h=new I[e._projectionIndex](i),u=N,g=k;let f,p;const b=e._positions,y=b.length;let w,_,T,j;2===y&&(n=!1);const v=new m["a"](void 0,void 0,i);let S,P,A;const x=[b[0]];for(p=0;p<y-1;p++)w=b[p],_=b[p+1],S=O["a"].lineSegmentPlane(w,_,te,se),!Object(d["a"])(S)||s["a"].equalsEpsilon(S,w,E["a"].EPSILON7)||s["a"].equalsEpsilon(S,_,E["a"].EPSILON7)||(e.arcType===a["a"].GEODESIC?x.push(s["a"].clone(S)):e.arcType===a["a"].RHUMB&&(A=i.cartesianToCartographic(S,ce).longitude,T=i.cartesianToCartographic(w,ce),j=i.cartesianToCartographic(_,le),v.setEndPoints(T,j),P=v.findIntersectionWithLongitude(A,he),S=i.cartographicToCartesian(P,se),!Object(d["a"])(S)||s["a"].equalsEpsilon(S,w,E["a"].EPSILON7)||s["a"].equalsEpsilon(S,_,E["a"].EPSILON7)||x.push(s["a"].clone(S)))),x.push(_);n&&(w=b[y-1],_=b[0],S=O["a"].lineSegmentPlane(w,_,te,se),!Object(d["a"])(S)||s["a"].equalsEpsilon(S,w,E["a"].EPSILON7)||s["a"].equalsEpsilon(S,_,E["a"].EPSILON7)||(e.arcType===a["a"].GEODESIC?x.push(s["a"].clone(S)):e.arcType===a["a"].RHUMB&&(A=i.cartesianToCartographic(S,ce).longitude,T=i.cartesianToCartographic(w,ce),j=i.cartesianToCartographic(_,le),v.setEndPoints(T,j),P=v.findIntersectionWithLongitude(A,he),S=i.cartographicToCartesian(P,se),!Object(d["a"])(S)||s["a"].equalsEpsilon(S,w,E["a"].EPSILON7)||s["a"].equalsEpsilon(S,_,E["a"].EPSILON7)||x.push(s["a"].clone(S)))));let R=x.length,M=new Array(R);for(p=0;p<R;p++){const e=c["a"].fromCartesian(x[p],i);e.height=0,M[p]=e}if(M=Object(r["a"])(M,c["a"].equalsEpsilon),R=M.length,R<2)return;const D=[],B=[],C=[],q=[];let F=ne,U=ie,L=ae,z=re,V=oe;const W=M[0],X=M[1],Q=M[R-1];for(F=Y(i,Q,u,F),z=Y(i,X,u,z),U=Y(i,W,u,U),L=Y(i,W,g,L),V=n?ee(F,U,L,z,V):H(W,X,g,i,V),s["a"].pack(V,B,0),s["a"].pack(U,C,0),s["a"].pack(L,q,0),D.push(W.latitude),D.push(W.longitude),G(W,X,u,g,o,l,i,B,C,q,D),p=1;p<R-1;++p){F=s["a"].clone(U,F),U=s["a"].clone(z,U);const e=M[p];Y(i,e,g,L),Y(i,M[p+1],u,z),ee(F,U,L,z,V),f=B.length,s["a"].pack(V,B,f),s["a"].pack(U,C,f),s["a"].pack(L,q,f),D.push(e.latitude),D.push(e.longitude),G(M[p],M[p+1],u,g,o,l,i,B,C,q,D)}const K=M[R-1],J=M[R-2];if(U=Y(i,K,u,U),L=Y(i,K,g,L),n){const e=M[0];F=Y(i,J,u,F),z=Y(i,e,u,z),V=ee(F,U,L,z,V)}else V=H(J,K,g,i,V);if(f=B.length,s["a"].pack(V,B,f),s["a"].pack(U,C,f),s["a"].pack(L,q,f),D.push(K.latitude),D.push(K.longitude),n){for(G(K,W,u,g,o,l,i,B,C,q,D),f=B.length,p=0;p<3;++p)B[f+p]=B[p],C[f+p]=C[p],q[f+p]=q[p];D.push(W.latitude),D.push(W.longitude)}return it(n,h,C,q,B,D,t)};const ue=new s["a"],de=new T["a"],ge=new v["a"];function fe(e,t,n,i){const a=V(n,t,ue),r=s["a"].dot(a,e);if(r>x||r<R){const t=V(i,n,J),a=r<R?E["a"].PI_OVER_TWO:-E["a"].PI_OVER_TWO,o=v["a"].fromAxisAngle(t,a,ge),s=T["a"].fromQuaternion(o,de);return T["a"].multiplyByVector(s,e,e),!0}return!1}const pe=new c["a"],me=new s["a"],be=new s["a"];function ye(e,t,n,i,a){const r=c["a"].toCartesian(t,e._ellipsoid,me);let o=s["a"].add(r,n,be),l=!1;const h=e._ellipsoid;let u=h.cartesianToCartographic(o,pe);Math.abs(t.longitude-u.longitude)>E["a"].PI_OVER_TWO&&(l=!0,o=s["a"].subtract(r,n,be),u=h.cartesianToCartographic(o,pe)),u.height=0;const d=e.project(u,a);return a=s["a"].subtract(d,i,a),a.z=0,a=s["a"].normalize(a,a),l&&s["a"].negate(a,a),a}const we=new s["a"],_e=new s["a"];function Oe(e,t,n,i,a,r){const o=s["a"].subtract(t,e,we);s["a"].normalize(o,o);const c=n-N;let l=s["a"].multiplyByScalar(o,c,_e);s["a"].add(e,l,a);const h=i-k;l=s["a"].multiplyByScalar(o,h,_e),s["a"].add(t,l,r)}const Ee=new s["a"];function Te(e,t){const n=j["a"].getPointDistance(te,e),i=j["a"].getPointDistance(te,t);let a=Ee;E["a"].equalsEpsilon(n,0,E["a"].EPSILON2)?(a=V(t,e,a),s["a"].multiplyByScalar(a,E["a"].EPSILON2,a),s["a"].add(e,a,e)):E["a"].equalsEpsilon(i,0,E["a"].EPSILON2)&&(a=V(e,t,a),s["a"].multiplyByScalar(a,E["a"].EPSILON2,a),s["a"].add(t,a,t))}function je(e,t){const n=Math.abs(e.longitude),i=Math.abs(t.longitude);if(E["a"].equalsEpsilon(n,E["a"].PI,E["a"].EPSILON11)){const i=E["a"].sign(t.longitude);return e.longitude=i*(n-E["a"].EPSILON11),1}if(E["a"].equalsEpsilon(i,E["a"].PI,E["a"].EPSILON11)){const n=E["a"].sign(e.longitude);return t.longitude=n*(i-E["a"].EPSILON11),2}return 0}const ve=new c["a"],Se=new c["a"],Pe=new s["a"],Ie=new s["a"],Ae=new s["a"],xe=new s["a"],Re=new s["a"],Ne=new s["a"],ke=[ve,Se],Me=new S["a"],De=new s["a"],Be=new s["a"],Ce=new s["a"],He=new s["a"],qe=new s["a"],Fe=new s["a"],Ue=new s["a"],Le=new s["a"],Ge=new s["a"],ze=new s["a"],Ye=new s["a"],Ve=new s["a"],We=new s["a"],Xe=new s["a"],Qe=new b["a"],Ke=new b["a"],Je=new s["a"],Ze=new s["a"],$e=new s["a"],et=[new o["a"],new o["a"]],tt=[0,2,1,0,3,2,0,7,3,0,4,7,0,5,4,0,1,5,5,7,4,5,6,7,5,2,6,5,1,2,3,6,2,3,7,6],nt=tt.length;function it(e,t,n,a,r,c,l){let u,d;const g=t._ellipsoid,f=n.length/3-1,p=8*f,m=4*p,y=36*f,O=p>65535?new Uint32Array(y):new Uint16Array(y),T=new Float64Array(3*p),j=new Float32Array(m),v=new Float32Array(m),P=new Float32Array(m),I=new Float32Array(m),A=new Float32Array(m);let R,N,k,M;l&&(R=new Float32Array(m),N=new Float32Array(m),k=new Float32Array(m),M=new Float32Array(2*p));const D=c.length/2;let B=0;const C=ve;C.height=0;const H=Se;H.height=0;let q=Pe,F=Ie;if(l)for(d=0,u=1;u<D;u++)C.latitude=c[d],C.longitude=c[d+1],H.latitude=c[d+2],H.longitude=c[d+3],q=t.project(C,q),F=t.project(H,F),B+=s["a"].distance(q,F),d+=2;const U=a.length/3;F=s["a"].unpack(a,0,F);let L,G=0;for(d=3,u=1;u<U;u++)q=s["a"].clone(F,q),F=s["a"].unpack(a,d,F),G+=s["a"].distance(q,F),d+=3;d=3;let z=0,Y=0,W=0,X=0,Q=!1,K=s["a"].unpack(n,0,xe),J=s["a"].unpack(a,0,Ie),Z=s["a"].unpack(r,0,Ne);if(e){const e=s["a"].unpack(n,n.length-6,Ae);fe(Z,e,K,J)&&(Z=s["a"].negate(Z,Z))}let $=0,ee=0,te=0;for(u=0;u<f;u++){const e=s["a"].clone(K,Ae),o=s["a"].clone(J,Pe);let h,u,f,p,m=s["a"].clone(Z,Re);if(Q&&(m=s["a"].negate(m,m)),K=s["a"].unpack(n,d,xe),J=s["a"].unpack(a,d,Ie),Z=s["a"].unpack(r,d,Ne),Q=fe(Z,e,K,J),C.latitude=c[z],C.longitude=c[z+1],H.latitude=c[z+2],H.longitude=c[z+3],l){const e=je(C,H);h=t.project(C,qe),u=t.project(H,Fe);const n=V(u,h,Je);n.y=Math.abs(n.y),f=Ue,p=Le,0===e||s["a"].dot(n,s["a"].UNIT_Y)>x?(f=ye(t,C,m,h,Ue),p=ye(t,H,Z,u,Le)):1===e?(p=ye(t,H,Z,u,Le),f.x=0,f.y=E["a"].sign(C.longitude-Math.abs(H.longitude)),f.z=0):(f=ye(t,C,m,h,Ue),p.x=0,p.y=E["a"].sign(C.longitude-H.longitude),p.z=0)}const y=s["a"].distance(o,J),w=b["a"].fromCartesian(e,Qe),_=s["a"].subtract(K,e,Ge),O=s["a"].normalize(_,Ve);let D=s["a"].subtract(o,e,ze);D=s["a"].normalize(D,D);let q=s["a"].cross(O,D,Ve);q=s["a"].normalize(q,q);let F=s["a"].cross(D,m,We);F=s["a"].normalize(F,F);let U=s["a"].subtract(J,K,Ye);U=s["a"].normalize(U,U);let ne=s["a"].cross(Z,U,Xe);ne=s["a"].normalize(ne,ne);const ie=y/G,ae=$/G;let re,oe,se,ce=0,le=0,he=0;if(l){ce=s["a"].distance(h,u),re=b["a"].fromCartesian(h,Ke),oe=s["a"].subtract(u,h,Je),se=s["a"].normalize(oe,Ze);const e=se.x;se.x=se.y,se.y=-e,le=ce/B,he=ee/B}for(L=0;L<8;L++){const e=X+4*L,t=Y+2*L,n=e+3,i=L<4?1:-1,a=2===L||3===L||6===L||7===L?1:-1;s["a"].pack(w.high,j,e),j[n]=_.x,s["a"].pack(w.low,v,e),v[n]=_.y,s["a"].pack(F,P,e),P[n]=_.z,s["a"].pack(ne,I,e),I[n]=ie*i,s["a"].pack(q,A,e);let r=ae*a;0===r&&a<0&&(r=9),A[n]=r,l&&(R[e]=re.high.x,R[e+1]=re.high.y,R[e+2]=re.low.x,R[e+3]=re.low.y,k[e]=-f.y,k[e+1]=f.x,k[e+2]=p.y,k[e+3]=-p.x,N[e]=oe.x,N[e+1]=oe.y,N[e+2]=se.x,N[e+3]=se.y,M[t]=le*i,r=he*a,0===r&&a<0&&(r=9),M[t+1]=r)}const ue=Ce,de=He,ge=De,pe=Be,me=S["a"].fromCartographicArray(ke,Me),be=i["a"].getMinimumMaximumHeights(me,g),we=be.minimumTerrainHeight,_e=be.maximumTerrainHeight;te+=we,te+=_e,Oe(e,o,we,_e,ue,ge),Oe(K,J,we,_e,de,pe);let Ee=s["a"].multiplyByScalar(q,E["a"].EPSILON5,$e);s["a"].add(ue,Ee,ue),s["a"].add(de,Ee,de),s["a"].add(ge,Ee,ge),s["a"].add(pe,Ee,pe),Te(ue,de),Te(ge,pe),s["a"].pack(ue,T,W),s["a"].pack(de,T,W+3),s["a"].pack(pe,T,W+6),s["a"].pack(ge,T,W+9),Ee=s["a"].multiplyByScalar(q,-2*E["a"].EPSILON5,$e),s["a"].add(ue,Ee,ue),s["a"].add(de,Ee,de),s["a"].add(ge,Ee,ge),s["a"].add(pe,Ee,pe),Te(ue,de),Te(ge,pe),s["a"].pack(ue,T,W+12),s["a"].pack(de,T,W+15),s["a"].pack(pe,T,W+18),s["a"].pack(ge,T,W+21),z+=2,d+=3,Y+=16,W+=24,X+=32,$+=y,ee+=ce}d=0;let ne=0;for(u=0;u<f;u++){for(L=0;L<nt;L++)O[d+L]=tt[L]+ne;ne+=8,d+=nt}const ie=et;o["a"].fromVertices(n,s["a"].ZERO,3,ie[0]),o["a"].fromVertices(a,s["a"].ZERO,3,ie[1]);const ae=o["a"].fromBoundingSpheres(ie);ae.radius+=te/(2*f);const re={position:new _["a"]({componentDatatype:h["a"].DOUBLE,componentsPerAttribute:3,normalize:!1,values:T}),startHiAndForwardOffsetX:at(j),startLoAndForwardOffsetY:at(v),startNormalAndForwardOffsetZ:at(P),endNormalAndTextureCoordinateNormalizationX:at(I),rightNormalAndTextureCoordinateNormalizationY:at(A)};return l&&(re.startHiLo2D=at(R),re.offsetAndRight2D=at(N),re.startEndNormals2D=at(k),re.texcoordNormalization2D=new _["a"]({componentDatatype:h["a"].FLOAT,componentsPerAttribute:2,normalize:!1,values:M})),new w["a"]({attributes:re,indices:O,boundingSphere:ae})}function at(e){return new _["a"]({componentDatatype:h["a"].FLOAT,componentsPerAttribute:4,normalize:!1,values:e})}M._projectNormal=ye,t["a"]=M},1011:function(e,t,n){"use strict";var i=n("1a5d"),a=n("c937"),r=n("e2a6"),o=n("b8b5");const s=o["a"].factorial;function c(e,t,n,i,a,r){let o,s,l,h=0;if(i>0){for(s=0;s<a;s++){for(o=!1,l=0;l<r.length&&!o;l++)s===r[l]&&(o=!0);o||(r.push(s),h+=c(e,t,n,i-1,a,r),r.splice(r.length-1,1))}return h}for(h=1,s=0;s<a;s++){for(o=!1,l=0;l<r.length&&!o;l++)s===r[l]&&(o=!0);o||(h*=e-n[t[s]])}return h}const l={type:"Hermite",getRequiredDataPoints:function(e,t){if(t=Object(i["a"])(t,0),!Object(a["a"])(e))throw new r["a"]("degree is required.");if(e<0)throw new r["a"]("degree must be 0 or greater.");if(t<0)throw new r["a"]("inputOrder must be 0 or greater.");return Math.max(Math.floor((e+1)/(t+1)),2)},interpolateOrderZero:function(e,t,n,i,r){let o,l,h,u,d,g;Object(a["a"])(r)||(r=new Array(i));const f=t.length,p=new Array(i);for(o=0;o<i;o++){r[o]=0;const e=new Array(f);for(p[o]=e,l=0;l<f;l++)e[l]=[]}const m=f,b=new Array(m);for(o=0;o<m;o++)b[o]=o;let y=f-1;for(u=0;u<i;u++){for(l=0;l<m;l++)g=b[l]*i+u,p[u][0].push(n[g]);for(o=1;o<m;o++){let e=!1;for(l=0;l<m-o;l++){const a=t[b[l]],r=t[b[l+o]];let c;r-a<=0?(g=b[l]*i+i*o+u,c=n[g],p[u][o].push(c/s(o))):(c=p[u][o-1][l+1]-p[u][o-1][l],p[u][o].push(c/(r-a))),e=e||0!==c}e||(y=o-1)}}for(h=0,d=0;h<=d;h++)for(o=h;o<=y;o++){const n=c(e,b,t,h,o,[]);for(u=0;u<i;u++){const e=p[u][o][0];r[u+h*i]+=e*n}}return r}},h=[];function u(e,t,n,i,a,r){let s,c,l=-1;const h=t.length,u=h*(h+1)/2;for(let d=0;d<a;d++){const g=Math.floor(d*u);for(s=0;s<h;s++)c=t[s]*a*(r+1)+d,e[g+s]=i[c];for(let u=1;u<h;u++){let f=0;const p=Math.floor(u*(1-u)/2)+h*u;let m=!1;for(s=0;s<h-u;s++){const l=n[t[s]],b=n[t[s+u]];let y,w;if(b-l<=0)c=t[s]*a*(r+1)+a*u+d,y=i[c],w=y/o["a"].factorial(u),e[g+p+f]=w,f++;else{const t=Math.floor((u-1)*(2-u)/2)+h*(u-1);y=e[g+t+s+1]-e[g+t+s],w=y/(b-l),e[g+p+f]=w,f++}m=m||0!==y}m&&(l=Math.max(l,u))}}return l}l.interpolate=function(e,t,n,i,r,o,s){const l=i*(o+1);Object(a["a"])(s)||(s=new Array(l));for(let a=0;a<l;a++)s[a]=0;const d=t.length,g=new Array(d*(r+1));let f;for(f=0;f<d;f++)for(let e=0;e<r+1;e++)g[f*(r+1)+e]=f;const p=g.length,m=h,b=u(m,g,t,n,i,r),y=[],w=p*(p+1)/2,_=Math.min(b,o);for(let a=0;a<=_;a++)for(f=a;f<=b;f++){y.length=0;const n=c(e,g,t,a,f,y),r=Math.floor(f*(1-f)/2)+p*f;for(let e=0;e<i;e++){const t=Math.floor(e*w),o=m[t+r];s[e+a*i]+=o*n}}return s},t["a"]=l},"2e15":function(e,t,n){"use strict";var i=n("8656"),a=n("85b2"),r=n("dde0"),o=n("ae9b"),s=n("1a5d"),c=n("c937"),l=n("e2a6"),h=n("2642"),u=n("1673"),d=n("b8b5"),g=n("22d6"),f=n("a603"),p=n("4a63"),m=n("86a0"),b=n("5c55"),y=n("30e6"),w=n("325c");function _(e){e=Object(s["a"])(e,s["a"].EMPTY_OBJECT),o["a"].typeOf.object("options.buffer",e.buffer),o["a"].typeOf.number("options.negativeAltitudeExponentBias",e.negativeAltitudeExponentBias),o["a"].typeOf.number("options.negativeElevationThreshold",e.negativeElevationThreshold),this._buffer=e.buffer,this._credits=e.credits,this._negativeAltitudeExponentBias=e.negativeAltitudeExponentBias,this._negativeElevationThreshold=e.negativeElevationThreshold;const t=Object(s["a"])(e.childTileMask,15);let n=3&t;n|=4&t?8:0,n|=8&t?4:0,this._childTileMask=n,this._createdByUpsampling=Object(s["a"])(e.createdByUpsampling,!1),this._skirtHeight=void 0,this._bufferType=this._buffer.constructor,this._mesh=void 0,this._minimumHeight=void 0,this._maximumHeight=void 0}Object.defineProperties(_.prototype,{credits:{get:function(){return this._credits}},waterMask:{get:function(){}}});const O="createVerticesFromGoogleEarthEnterpriseBuffer",E=new m["a"](O),T=new m["a"](O,b["a"].maximumAsynchronousTasks),j=new p["a"],v=new p["a"];_.prototype.createMesh=function(e){e=Object(s["a"])(e,s["a"].EMPTY_OBJECT),o["a"].typeOf.object("options.tilingScheme",e.tilingScheme),o["a"].typeOf.number("options.x",e.x),o["a"].typeOf.number("options.y",e.y),o["a"].typeOf.number("options.level",e.level);const t=e.tilingScheme,n=e.x,a=e.y,l=e.level,h=Object(s["a"])(e.exaggeration,1),u=Object(s["a"])(e.exaggerationRelativeHeight,0),d=Object(s["a"])(e.throttle,!0),f=t.ellipsoid;t.tileXYToNativeRectangle(n,a,l,j),t.tileXYToRectangle(n,a,l,v);const m=f.cartographicToCartesian(p["a"].center(v)),b=40075.16,_=b/(1<<l);this._skirtHeight=Math.min(8*_,1e3);const O=d?T:E,S=O.scheduleTask({buffer:this._buffer,nativeRectangle:j,rectangle:v,relativeToCenter:m,ellipsoid:f,skirtHeight:this._skirtHeight,exaggeration:h,exaggerationRelativeHeight:u,includeWebMercatorT:!0,negativeAltitudeExponentBias:this._negativeAltitudeExponentBias,negativeElevationThreshold:this._negativeElevationThreshold});if(!Object(c["a"])(S))return;const P=this;return S.then((function(e){return P._mesh=new w["a"](m,new Float32Array(e.vertices),new Uint16Array(e.indices),e.indexCountWithoutSkirts,e.vertexCountWithoutSkirts,e.minimumHeight,e.maximumHeight,i["a"].clone(e.boundingSphere3D),r["a"].clone(e.occludeePointInScaledSpace),e.numberOfAttributes,g["a"].clone(e.orientedBoundingBox),y["a"].clone(e.encoding),e.westIndicesSouthToNorth,e.southIndicesEastToWest,e.eastIndicesNorthToSouth,e.northIndicesWestToEast),P._minimumHeight=e.minimumHeight,P._maximumHeight=e.maximumHeight,P._buffer=void 0,P._mesh}))},_.prototype.interpolateHeight=function(e,t,n){const i=d["a"].clamp((t-e.west)/e.width,0,1),a=d["a"].clamp((n-e.south)/e.height,0,1);return Object(c["a"])(this._mesh)?R(this,i,a):C(this,i,a,e)};const S=new m["a"]("upsampleQuantizedTerrainMesh",b["a"].maximumAsynchronousTasks);_.prototype.upsample=function(e,t,n,a,s,u,d){o["a"].typeOf.object("tilingScheme",e),o["a"].typeOf.number("thisX",t),o["a"].typeOf.number("thisY",n),o["a"].typeOf.number("thisLevel",a),o["a"].typeOf.number("descendantX",s),o["a"].typeOf.number("descendantY",u),o["a"].typeOf.number("descendantLevel",d);const p=d-a;if(p>1)throw new l["a"]("Upsampling through more than one level at a time is not currently supported.");const m=this._mesh;if(!Object(c["a"])(this._mesh))return;const b=2*t!==s,y=2*n===u,w=e.ellipsoid,_=e.tileXYToRectangle(s,u,d),O=S.scheduleTask({vertices:m.vertices,indices:m.indices,indexCountWithoutSkirts:m.indexCountWithoutSkirts,vertexCountWithoutSkirts:m.vertexCountWithoutSkirts,encoding:m.encoding,minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,isEastChild:b,isNorthChild:y,childRectangle:_,ellipsoid:w});if(!Object(c["a"])(O))return;const E=this;return O.then((function(e){const t=new Uint16Array(e.vertices),n=h["a"].createTypedArray(t.length/3,e.indices),a=E._skirtHeight;return new f["a"]({quantizedVertices:t,indices:n,minimumHeight:e.minimumHeight,maximumHeight:e.maximumHeight,boundingSphere:i["a"].clone(e.boundingSphere),orientedBoundingBox:g["a"].clone(e.orientedBoundingBox),horizonOcclusionPoint:r["a"].clone(e.horizonOcclusionPoint),westIndices:e.westIndices,southIndices:e.southIndices,eastIndices:e.eastIndices,northIndices:e.northIndices,westSkirtHeight:a,southSkirtHeight:a,eastSkirtHeight:a,northSkirtHeight:a,childTileMask:0,createdByUpsampling:!0,credits:E._credits})}))},_.prototype.isChildAvailable=function(e,t,n,i){o["a"].typeOf.number("thisX",e),o["a"].typeOf.number("thisY",t),o["a"].typeOf.number("childX",n),o["a"].typeOf.number("childY",i);let a=2;return n!==2*e&&++a,i!==2*t&&(a-=2),0!==(this._childTileMask&1<<a)},_.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling};const P=new a["a"],I=new a["a"],A=new a["a"],x=new r["a"];function R(e,t,n){const i=e._mesh,a=i.vertices,r=i.encoding,o=i.indices;for(let s=0,c=o.length;s<c;s+=3){const e=o[s],i=o[s+1],c=o[s+2],l=r.decodeTextureCoordinates(a,e,P),h=r.decodeTextureCoordinates(a,i,I),d=r.decodeTextureCoordinates(a,c,A),g=u["a"].computeBarycentricCoordinates(t,n,l.x,l.y,h.x,h.y,d.x,d.y,x);if(g.x>=-1e-15&&g.y>=-1e-15&&g.z>=-1e-15){const t=r.decodeHeight(a,e),n=r.decodeHeight(a,i),o=r.decodeHeight(a,c);return g.x*t+g.y*n+g.z*o}}}const N=Uint16Array.BYTES_PER_ELEMENT,k=Uint32Array.BYTES_PER_ELEMENT,M=Int32Array.BYTES_PER_ELEMENT,D=Float32Array.BYTES_PER_ELEMENT,B=Float64Array.BYTES_PER_ELEMENT;function C(e,t,n,i){const a=e._buffer;let r=0,o=0,s=0;n>.5?(t>.5?(r=2,o=.5):r=3,s=.5):t>.5&&(r=1,o=.5);const c=new DataView(a);let l=0;for(let u=0;u<r;++u)l+=c.getUint32(l,!0),l+=k;l+=k,l+=2*B;const h=d["a"].toRadians(180*c.getFloat64(l,!0));l+=B;const g=d["a"].toRadians(180*c.getFloat64(l,!0));l+=B;const f=i.width/h/2,p=i.height/g/2,m=c.getInt32(l,!0);l+=M;const b=3*c.getInt32(l,!0);l+=M,l+=M;const y=new Array(m),w=new Array(m),_=new Array(m);let O;for(O=0;O<m;++O)y[O]=o+c.getUint8(l++)*f,w[O]=s+c.getUint8(l++)*p,_[O]=6371010*c.getFloat32(l,!0),l+=D;const E=new Array(b);for(O=0;O<b;++O)E[O]=c.getUint16(l,!0),l+=N;for(O=0;O<b;O+=3){const e=E[O],i=E[O+1],a=E[O+2],r=y[e],o=y[i],s=y[a],c=w[e],l=w[i],h=w[a],d=u["a"].computeBarycentricCoordinates(t,n,r,c,o,l,s,h,x);if(d.x>=-1e-15&&d.y>=-1e-15&&d.z>=-1e-15)return d.x*_[e]+d.y*_[i]+d.z*_[a]}}t["a"]=_},"3f9f":function(e,t,n){"use strict";var i=n("c937"),a=n("d9fe"),r=n("6247"),o=n("b8b5"),s=n("865c");const c={},l=32.184,h=2451545,u=-.0529921,d=-.1059842,g=13.0120009,f=13.3407154,p=.9856003,m=26.4057084,b=13.064993,y=.3287146,w=1.7484877,_=-.1589763,O=.0036096,E=.1643573,T=12.9590088;let j=new r["a"];c.ComputeMoon=function(e,t){Object(i["a"])(e)||(e=r["a"].now()),j=r["a"].addSeconds(e,l,j);const n=r["a"].totalDays(j)-h,c=n/s["a"].DAYS_PER_JULIAN_CENTURY,v=(125.045+u*n)*o["a"].RADIANS_PER_DEGREE,S=(250.089+d*n)*o["a"].RADIANS_PER_DEGREE,P=(260.008+g*n)*o["a"].RADIANS_PER_DEGREE,I=(176.625+f*n)*o["a"].RADIANS_PER_DEGREE,A=(357.529+p*n)*o["a"].RADIANS_PER_DEGREE,x=(311.589+m*n)*o["a"].RADIANS_PER_DEGREE,R=(134.963+b*n)*o["a"].RADIANS_PER_DEGREE,N=(276.617+y*n)*o["a"].RADIANS_PER_DEGREE,k=(34.226+w*n)*o["a"].RADIANS_PER_DEGREE,M=(15.134+_*n)*o["a"].RADIANS_PER_DEGREE,D=(119.743+O*n)*o["a"].RADIANS_PER_DEGREE,B=(239.961+E*n)*o["a"].RADIANS_PER_DEGREE,C=(25.053+T*n)*o["a"].RADIANS_PER_DEGREE,H=Math.sin(v),q=Math.sin(S),F=Math.sin(P),U=Math.sin(I),L=Math.sin(A),G=Math.sin(x),z=Math.sin(R),Y=Math.sin(N),V=Math.sin(k),W=Math.sin(M),X=Math.sin(D),Q=Math.sin(B),K=Math.sin(C),J=Math.cos(v),Z=Math.cos(S),$=Math.cos(P),ee=Math.cos(I),te=Math.cos(A),ne=Math.cos(x),ie=Math.cos(R),ae=Math.cos(N),re=Math.cos(k),oe=Math.cos(M),se=Math.cos(D),ce=Math.cos(B),le=Math.cos(C),he=(269.9949+.0031*c-3.8787*H-.1204*q+.07*F-.0172*U+.0072*G-.0052*W+.0043*K)*o["a"].RADIANS_PER_DEGREE,ue=(66.5392+.013*c+1.5419*J+.0239*Z-.0278*$+.0068*ee-.0029*ne+9e-4*ie+8e-4*oe-9e-4*le)*o["a"].RADIANS_PER_DEGREE,de=(38.3213+13.17635815*n-14e-13*n*n+3.561*H+.1208*q-.0642*F+.0158*U+.0252*L-.0066*G-.0047*z-.0046*Y+.0028*V+.0052*W+.004*X+.0019*Q-.0044*K)*o["a"].RADIANS_PER_DEGREE,ge=(13.17635815-2*n*14e-13+3.561*J*u+.1208*Z*d-.0642*$*g+.0158*ee*f+.0252*te*p-.0066*ne*m-.0047*ie*b-.0046*ae*y+.0028*re*w+.0052*oe*_+.004*se*O+.0019*ce*E-.0044*le*T)/86400*o["a"].RADIANS_PER_DEGREE;return Object(i["a"])(t)||(t=new a["a"]),t.rightAscension=he,t.declination=ue,t.rotation=de,t.rotationRate=ge,t},t["a"]=c},"5b85":function(e,t,n){"use strict";function i(e,t,n){this.x=e,this.y=t,this.s=n}t["a"]=i},"6acf":function(e,t,n){"use strict";var i=n("1924"),a=n("1a5d"),r=n("61ad"),o=n("c937"),s=n("5b85"),c=n("6247"),l=n("9f38"),h=n("6804");function u(e){e=Object(a["a"])(e,a["a"].EMPTY_OBJECT),this._xysFileUrlTemplate=l["a"].createIfNeeded(e.xysFileUrlTemplate),this._interpolationOrder=Object(a["a"])(e.interpolationOrder,9),this._sampleZeroJulianEphemerisDate=Object(a["a"])(e.sampleZeroJulianEphemerisDate,2442396.5),this._sampleZeroDateTT=new c["a"](this._sampleZeroJulianEphemerisDate,0,h["a"].TAI),this._stepSizeDays=Object(a["a"])(e.stepSizeDays,1),this._samplesPerXysFile=Object(a["a"])(e.samplesPerXysFile,1e3),this._totalSamples=Object(a["a"])(e.totalSamples,27426),this._samples=new Array(3*this._totalSamples),this._chunkDownloadsInProgress=[];const t=this._interpolationOrder,n=this._denominators=new Array(t+1),i=this._xTable=new Array(t+1),r=Math.pow(this._stepSizeDays,t);for(let a=0;a<=t;++a){n[a]=r,i[a]=a*this._stepSizeDays;for(let e=0;e<=t;++e)e!==a&&(n[a]*=a-e);n[a]=1/n[a]}this._work=new Array(t+1),this._coef=new Array(t+1)}const d=new c["a"](0,0,h["a"].TAI);function g(e,t,n){const i=d;return i.dayNumber=t,i.secondsOfDay=n,c["a"].daysDifference(i,e._sampleZeroDateTT)}function f(e,t){if(e._chunkDownloadsInProgress[t])return e._chunkDownloadsInProgress[t];const n=Object(r["a"])();let a;e._chunkDownloadsInProgress[t]=n;const s=e._xysFileUrlTemplate;return a=Object(o["a"])(s)?s.getDerivedResource({templateValues:{0:t}}):new l["a"]({url:Object(i["a"])(`Assets/IAU2006_XYS/IAU2006_XYS_${t}.json`)}),a.fetchJson().then((function(i){e._chunkDownloadsInProgress[t]=!1;const a=e._samples,r=i.samples,o=t*e._samplesPerXysFile*3;for(let e=0,t=r.length;e<t;++e)a[o+e]=r[e];n.resolve()})),n.promise}u.prototype.preload=function(e,t,n,i){const a=g(this,e,t),r=g(this,n,i);let o=a/this._stepSizeDays-this._interpolationOrder/2|0;o<0&&(o=0);let s=r/this._stepSizeDays-this._interpolationOrder/2|0+this._interpolationOrder;s>=this._totalSamples&&(s=this._totalSamples-1);const c=o/this._samplesPerXysFile|0,l=s/this._samplesPerXysFile|0,h=[];for(let u=c;u<=l;++u)h.push(f(this,u));return Promise.all(h)},u.prototype.computeXysRadians=function(e,t,n){const i=g(this,e,t);if(i<0)return;const a=i/this._stepSizeDays|0;if(a>=this._totalSamples)return;const r=this._interpolationOrder;let c=a-(r/2|0);c<0&&(c=0);let l=c+r;l>=this._totalSamples&&(l=this._totalSamples-1,c=l-r,c<0&&(c=0));let h=!1;const u=this._samples;if(Object(o["a"])(u[3*c])||(f(this,c/this._samplesPerXysFile|0),h=!0),Object(o["a"])(u[3*l])||(f(this,l/this._samplesPerXysFile|0),h=!0),h)return;Object(o["a"])(n)?(n.x=0,n.y=0,n.s=0):n=new s["a"](0,0,0);const d=i-c*this._stepSizeDays,p=this._work,m=this._denominators,b=this._coef,y=this._xTable;let w,_;for(w=0;w<=r;++w)p[w]=d-y[w];for(w=0;w<=r;++w){for(b[w]=1,_=0;_<=r;++_)_!==w&&(b[w]*=p[_]);b[w]*=m[w];let e=3*(c+w);n.x+=b[w]*u[e++],n.y+=b[w]*u[e++],n.s+=b[w]*u[e]}return n},t["a"]=u},7787:function(e,t,n){"use strict";function i(e,t,n,i,a,r,o,s){this.year=e,this.month=t,this.day=n,this.hour=i,this.minute=a,this.second=r,this.millisecond=o,this.isLeapSecond=s}t["a"]=i},8853:function(e,t,n){"use strict";var i=n("dde0"),a=n("6b82"),r=n("1a5d"),o=n("c937"),s=n("e2a6"),c=n("40da"),l=n("722e"),h=n("4721"),u=n("19e9");const d=[],g=[],f=[],p=[];function m(e,t,n){const a=d,r=f,s=g,c=p;let l;a.length=r.length=e.length-1,s.length=c.length=e.length,a[0]=s[0]=1,r[0]=0;let h=c[0];for(Object(o["a"])(h)||(h=c[0]=new i["a"]),i["a"].clone(t,h),l=1;l<a.length-1;++l)a[l]=r[l]=1,s[l]=4,h=c[l],Object(o["a"])(h)||(h=c[l]=new i["a"]),i["a"].subtract(e[l+1],e[l-1],h),i["a"].multiplyByScalar(h,3,h);return a[l]=0,r[l]=1,s[l]=4,h=c[l],Object(o["a"])(h)||(h=c[l]=new i["a"]),i["a"].subtract(e[l+1],e[l-1],h),i["a"].multiplyByScalar(h,3,h),s[l+1]=1,h=c[l+1],Object(o["a"])(h)||(h=c[l+1]=new i["a"]),i["a"].clone(n,h),u["a"].solve(a,s,r,c)}function b(e){const t=d,n=f,a=g,r=p;let s;t.length=n.length=e.length-1,a.length=r.length=e.length,t[0]=n[0]=1,a[0]=2;let c=r[0];for(Object(o["a"])(c)||(c=r[0]=new i["a"]),i["a"].subtract(e[1],e[0],c),i["a"].multiplyByScalar(c,3,c),s=1;s<t.length;++s)t[s]=n[s]=1,a[s]=4,c=r[s],Object(o["a"])(c)||(c=r[s]=new i["a"]),i["a"].subtract(e[s+1],e[s-1],c),i["a"].multiplyByScalar(c,3,c);return a[s]=2,c=r[s],Object(o["a"])(c)||(c=r[s]=new i["a"]),i["a"].subtract(e[s],e[s-1],c),i["a"].multiplyByScalar(c,3,c),u["a"].solve(t,a,n,r)}function y(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.points,n=e.times,i=e.inTangents,a=e.outTangents;if(!Object(o["a"])(t)||!Object(o["a"])(n)||!Object(o["a"])(i)||!Object(o["a"])(a))throw new s["a"]("times, points, inTangents, and outTangents are required.");if(t.length<2)throw new s["a"]("points.length must be greater than or equal to 2.");if(n.length!==t.length)throw new s["a"]("times.length must be equal to points.length.");if(i.length!==a.length||i.length!==t.length-1)throw new s["a"]("inTangents and outTangents must have a length equal to points.length - 1.");this._times=n,this._points=t,this._inTangents=i,this._outTangents=a,this._lastTimeIndex=0}Object.defineProperties(y.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}},inTangents:{get:function(){return this._inTangents}},outTangents:{get:function(){return this._outTangents}}}),y.createC1=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.times,n=e.points,i=e.tangents;if(!Object(o["a"])(n)||!Object(o["a"])(t)||!Object(o["a"])(i))throw new s["a"]("points, times and tangents are required.");if(n.length<2)throw new s["a"]("points.length must be greater than or equal to 2.");if(t.length!==n.length||t.length!==i.length)throw new s["a"]("times, points and tangents must have the same length.");const a=i.slice(0,i.length-1),c=i.slice(1,i.length);return new y({times:t,points:n,inTangents:c,outTangents:a})},y.createNaturalCubic=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.times,n=e.points;if(!Object(o["a"])(n)||!Object(o["a"])(t))throw new s["a"]("points and times are required.");if(n.length<2)throw new s["a"]("points.length must be greater than or equal to 2.");if(t.length!==n.length)throw new s["a"]("times.length must be equal to points.length.");if(n.length<3)return new c["a"]({points:n,times:t});const i=b(n),a=i.slice(0,i.length-1),l=i.slice(1,i.length);return new y({times:t,points:n,inTangents:l,outTangents:a})},y.createClampedCubic=function(e){e=Object(r["a"])(e,r["a"].EMPTY_OBJECT);const t=e.times,n=e.points,i=e.firstTangent,a=e.lastTangent;if(!Object(o["a"])(n)||!Object(o["a"])(t)||!Object(o["a"])(i)||!Object(o["a"])(a))throw new s["a"]("points, times, firstTangent and lastTangent are required.");if(n.length<2)throw new s["a"]("points.length must be greater than or equal to 2.");if(t.length!==n.length)throw new s["a"]("times.length must be equal to points.length.");if(n.length<3)return new c["a"]({points:n,times:t});const l=m(n,i,a),h=l.slice(0,l.length-1),u=l.slice(1,l.length);return new y({times:t,points:n,inTangents:u,outTangents:h})},y.hermiteCoefficientMatrix=new l["a"](2,-3,0,1,-2,3,0,0,1,-2,1,0,1,-1,0,0),y.prototype.findTimeInterval=h["a"].prototype.findTimeInterval;const w=new a["a"],_=new i["a"];y.prototype.wrapTime=h["a"].prototype.wrapTime,y.prototype.clampTime=h["a"].prototype.clampTime,y.prototype.evaluate=function(e,t){Object(o["a"])(t)||(t=new i["a"]);const n=this.points,a=this.times,r=this.inTangents,s=this.outTangents,c=this._lastTimeIndex=this.findTimeInterval(e,this._lastTimeIndex),h=(e-a[c])/(a[c+1]-a[c]),u=w;u.z=h,u.y=h*h,u.x=u.y*h,u.w=1;const d=l["a"].multiplyByVector(y.hermiteCoefficientMatrix,u,u);return t=i["a"].multiplyByScalar(n[c],d.x,t),i["a"].multiplyByScalar(n[c+1],d.y,_),i["a"].add(t,_,t),i["a"].multiplyByScalar(s[c],d.z,_),i["a"].add(t,_,t),i["a"].multiplyByScalar(r[c],d.w,_),i["a"].add(t,_,t)},t["a"]=y},a066:function(e,t,n){"use strict";var i=n("ad6a"),a=n("8656"),r=n("85b2"),o=n("dde0"),s=n("1a5d"),c=n("c937"),l=n("e2a6"),h=n("e107"),u=n("a76e"),d=n("b8b5"),g=n("722e"),f=n("22d6"),p=n("4a63"),m=n("30e6"),b=n("6f7c"),y=n("5be5");const w={};w.DEFAULT_STRUCTURE=Object.freeze({heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1});const _=new o["a"],O=new g["a"],E=new o["a"],T=new o["a"];w.computeVertices=function(e){if(!Object(c["a"])(e)||!Object(c["a"])(e.heightmap))throw new l["a"]("options.heightmap is required.");if(!Object(c["a"])(e.width)||!Object(c["a"])(e.height))throw new l["a"]("options.width and options.height are required.");if(!Object(c["a"])(e.nativeRectangle))throw new l["a"]("options.nativeRectangle is required.");if(!Object(c["a"])(e.skirtHeight))throw new l["a"]("options.skirtHeight is required.");const t=Math.cos,n=Math.sin,j=Math.sqrt,v=Math.atan,S=Math.exp,P=d["a"].PI_OVER_TWO,I=d["a"].toRadians,A=e.heightmap,x=e.width,R=e.height,N=e.skirtHeight,k=N>0,M=Object(s["a"])(e.isGeographic,!0),D=Object(s["a"])(e.ellipsoid,h["a"].WGS84),B=1/D.maximumRadius,C=p["a"].clone(e.nativeRectangle),H=p["a"].clone(e.rectangle);let q,F,U,L;Object(c["a"])(H)?(q=H.west,F=H.south,U=H.east,L=H.north):M?(q=I(C.west),F=I(C.south),U=I(C.east),L=I(C.north)):(q=C.west*B,F=P-2*v(S(-C.south*B)),U=C.east*B,L=P-2*v(S(-C.north*B)));let G=e.relativeToCenter;const z=Object(c["a"])(G);G=z?G:o["a"].ZERO;const Y=Object(s["a"])(e.includeWebMercatorT,!1),V=Object(s["a"])(e.exaggeration,1),W=Object(s["a"])(e.exaggerationRelativeHeight,0),X=1!==V,Q=X,K=Object(s["a"])(e.structure,w.DEFAULT_STRUCTURE),J=Object(s["a"])(K.heightScale,w.DEFAULT_STRUCTURE.heightScale),Z=Object(s["a"])(K.heightOffset,w.DEFAULT_STRUCTURE.heightOffset),$=Object(s["a"])(K.elementsPerHeight,w.DEFAULT_STRUCTURE.elementsPerHeight),ee=Object(s["a"])(K.stride,w.DEFAULT_STRUCTURE.stride),te=Object(s["a"])(K.elementMultiplier,w.DEFAULT_STRUCTURE.elementMultiplier),ne=Object(s["a"])(K.isBigEndian,w.DEFAULT_STRUCTURE.isBigEndian);let ie=p["a"].computeWidth(C),ae=p["a"].computeHeight(C);const re=ie/(x-1),oe=ae/(R-1);M||(ie*=B,ae*=B);const se=D.radiiSquared,ce=se.x,le=se.y,he=se.z;let ue=65536,de=-65536;const ge=b["a"].eastNorthUpToFixedFrame(G,D),fe=g["a"].inverseTransformation(ge,O);let pe,me;Y&&(pe=y["a"].geodeticLatitudeToMercatorAngle(F),me=1/(y["a"].geodeticLatitudeToMercatorAngle(L)-pe));const be=E;be.x=Number.POSITIVE_INFINITY,be.y=Number.POSITIVE_INFINITY,be.z=Number.POSITIVE_INFINITY;const ye=T;ye.x=Number.NEGATIVE_INFINITY,ye.y=Number.NEGATIVE_INFINITY,ye.z=Number.NEGATIVE_INFINITY;let we=Number.POSITIVE_INFINITY;const _e=x*R,Oe=N>0?2*x+2*R:0,Ee=_e+Oe,Te=new Array(Ee),je=new Array(Ee),ve=new Array(Ee),Se=Y?new Array(Ee):[],Pe=Q?new Array(Ee):[];let Ie=0,Ae=R,xe=0,Re=x;k&&(--Ie,++Ae,--xe,++Re);const Ne=1e-5;for(let i=Ie;i<Ae;++i){let e=i;e<0&&(e=0),e>=R&&(e=R-1);let a=C.north-oe*e;a=M?I(a):P-2*v(S(-a*B));let s=(a-F)/(L-F);s=d["a"].clamp(s,0,1);const c=i===Ie,l=i===Ae-1;N>0&&(c?a+=Ne*ae:l&&(a-=Ne*ae));const h=t(a),u=n(a),f=he*u;let p;Y&&(p=(y["a"].geodeticLatitudeToMercatorAngle(a)-pe)*me);for(let i=xe;i<Re;++i){let a=i;a<0&&(a=0),a>=x&&(a=x-1);const m=e*(x*ee)+a*ee;let b;if(1===$)b=A[m];else{let e;if(b=0,ne)for(e=0;e<$;++e)b=b*te+A[m+e];else for(e=$-1;e>=0;--e)b=b*te+A[m+e]}b=b*J+Z,de=Math.max(de,b),ue=Math.min(ue,b);let y=C.west+re*a;M?y=I(y):y*=B;let w=(y-q)/(U-q);w=d["a"].clamp(w,0,1);let O=e*x+a;if(N>0){const t=i===xe,n=i===Re-1,r=c||l||t||n,o=(c||l)&&(t||n);if(o)continue;r&&(b-=N,t?(O=_e+(R-e-1),y-=Ne*ie):l?O=_e+R+(x-a-1):n?(O=_e+R+x+e,y+=Ne*ie):c&&(O=_e+R+x+R+a))}const E=h*t(y),T=h*n(y),v=ce*E,S=le*T,P=j(v*E+S*T+f*u),k=1/P,H=v*k,F=S*k,L=f*k,G=new o["a"];G.x=H+E*b,G.y=F+T*b,G.z=L+u*b,g["a"].multiplyByPoint(fe,G,_),o["a"].minimumByComponent(_,be,be),o["a"].maximumByComponent(_,ye,ye),we=Math.min(we,b),Te[O]=G,ve[O]=new r["a"](w,s),je[O]=b,Y&&(Se[O]=p),Q&&(Pe[O]=D.geodeticSurfaceNormal(G))}}const ke=a["a"].fromPoints(Te);let Me,De;if(Object(c["a"])(H)&&(Me=f["a"].fromRectangle(H,ue,de,D)),z){const e=new u["a"](D);De=e.computeHorizonCullingPointPossiblyUnderEllipsoid(G,Te,ue)}const Be=new i["a"](be,ye,G),Ce=new m["a"](G,Be,we,de,ge,!1,Y,Q,V,W),He=new Float32Array(Ee*Ce.stride);let qe=0;for(let i=0;i<Ee;++i)qe=Ce.encode(He,qe,Te[i],ve[i],je[i],void 0,Se[i],Pe[i]);return{vertices:He,maximumHeight:de,minimumHeight:ue,encoding:Ce,boundingSphere3D:ke,orientedBoundingBox:Me,occludeePointInScaledSpace:De}},t["a"]=w},aec1:function(e,t,n){"use strict";var i=n("1a5d"),a=n("c937");function r(e,t,n){this.heading=Object(i["a"])(e,0),this.pitch=Object(i["a"])(t,0),this.range=Object(i["a"])(n,0)}r.clone=function(e,t){if(Object(a["a"])(e))return Object(a["a"])(t)||(t=new r),t.heading=e.heading,t.pitch=e.pitch,t.range=e.range,t},t["a"]=r},b869:function(e,t,n){"use strict";var i=n("8656"),a=n("dde0"),r=n("ae9b"),o=n("1a5d"),s=n("c937"),c=n("e2a6"),l=n("1f02"),h=n("bf0c"),u=n("a066"),d=n("b8b5"),g=n("22d6"),f=n("4a63"),p=n("86a0"),m=n("5c55"),b=n("30e6"),y=n("325c"),w=n("5df2");function _(e){if(!Object(s["a"])(e)||!Object(s["a"])(e.buffer))throw new c["a"]("options.buffer is required.");if(!Object(s["a"])(e.width))throw new c["a"]("options.width is required.");if(!Object(s["a"])(e.height))throw new c["a"]("options.height is required.");this._buffer=e.buffer,this._width=e.width,this._height=e.height,this._childTileMask=Object(o["a"])(e.childTileMask,15),this._encoding=Object(o["a"])(e.encoding,h["a"].NONE);const t=u["a"].DEFAULT_STRUCTURE;let n=e.structure;Object(s["a"])(n)?n!==t&&(n.heightScale=Object(o["a"])(n.heightScale,t.heightScale),n.heightOffset=Object(o["a"])(n.heightOffset,t.heightOffset),n.elementsPerHeight=Object(o["a"])(n.elementsPerHeight,t.elementsPerHeight),n.stride=Object(o["a"])(n.stride,t.stride),n.elementMultiplier=Object(o["a"])(n.elementMultiplier,t.elementMultiplier),n.isBigEndian=Object(o["a"])(n.isBigEndian,t.isBigEndian)):n=t,this._structure=n,this._createdByUpsampling=Object(o["a"])(e.createdByUpsampling,!1),this._waterMask=e.waterMask,this._skirtHeight=void 0,this._bufferType=this._encoding===h["a"].LERC?Float32Array:this._buffer.constructor,this._mesh=void 0}Object.defineProperties(_.prototype,{credits:{get:function(){}},waterMask:{get:function(){return this._waterMask}},childTileMask:{get:function(){return this._childTileMask}}});const O="createVerticesFromHeightmap",E=new p["a"](O),T=new p["a"](O,m["a"].maximumAsynchronousTasks);function j(e,t,n,i,a,r,o,s,c,l){const h=(c-r.west)*(o-1)/(r.east-r.west),u=(l-r.south)*(s-1)/(r.north-r.south);let d=0|h,g=d+1;g>=o&&(g=o-1,d=o-2);let f=0|u,p=f+1;p>=s&&(p=s-1,f=s-2);const m=h-d,b=u-f;f=s-1-f,p=s-1-p;const y=P(e,t,n,i,a,f*o+d),w=P(e,t,n,i,a,f*o+g),_=P(e,t,n,i,a,p*o+d),O=P(e,t,n,i,a,p*o+g);return S(m,b,y,w,_,O)}function v(e,t,n,i,a,r,o,s,c){const l=(s-a.west)*(r-1)/(a.east-a.west),h=(c-a.south)*(o-1)/(a.north-a.south);let u=0|l,d=u+1;d>=r&&(d=r-1,u=r-2);let g=0|h,f=g+1;f>=o&&(f=o-1,g=o-2);const p=l-u,m=h-g;g=o-1-g,f=o-1-f;const b=(t.decodeHeight(e,g*r+u)-n)/i,y=(t.decodeHeight(e,g*r+d)-n)/i,w=(t.decodeHeight(e,f*r+u)-n)/i,_=(t.decodeHeight(e,f*r+d)-n)/i;return S(p,m,b,y,w,_)}function S(e,t,n,i,a,r){return t<e?n+e*(i-n)+t*(r-i):n+e*(r-a)+t*(a-n)}function P(e,t,n,i,a,r){r*=i;let o,s=0;if(a)for(o=0;o<t;++o)s=s*n+e[r+o];else for(o=t-1;o>=0;--o)s=s*n+e[r+o];return s}function I(e,t,n,i,a,r,o,s){let c;if(o*=a,r)for(c=0;c<t-1;++c)e[o+c]=s/i|0,s-=e[o+c]*i,i/=n;else for(c=t-1;c>0;--c)e[o+c]=s/i|0,s-=e[o+c]*i,i/=n;e[o+c]=s}_.prototype.createMesh=function(e){e=Object(o["a"])(e,o["a"].EMPTY_OBJECT),r["a"].typeOf.object("options.tilingScheme",e.tilingScheme),r["a"].typeOf.number("options.x",e.x),r["a"].typeOf.number("options.y",e.y),r["a"].typeOf.number("options.level",e.level);const t=e.tilingScheme,n=e.x,c=e.y,h=e.level,u=Object(o["a"])(e.exaggeration,1),d=Object(o["a"])(e.exaggerationRelativeHeight,0),p=Object(o["a"])(e.throttle,!0),m=t.ellipsoid,_=t.tileXYToNativeRectangle(n,c,h),O=t.tileXYToRectangle(n,c,h),j=m.cartographicToCartesian(f["a"].center(O)),v=this._structure,S=w["a"].getEstimatedLevelZeroGeometricErrorForAHeightmap(m,this._width,t.getNumberOfXTilesAtLevel(0)),P=S/(1<<h);this._skirtHeight=Math.min(4*P,1e3);const I=p?T:E,A=I.scheduleTask({heightmap:this._buffer,structure:v,includeWebMercatorT:!0,width:this._width,height:this._height,nativeRectangle:_,rectangle:O,relativeToCenter:j,ellipsoid:m,skirtHeight:this._skirtHeight,isGeographic:t.projection instanceof l["a"],exaggeration:u,exaggerationRelativeHeight:d,encoding:this._encoding});if(!Object(s["a"])(A))return;const x=this;return Promise.resolve(A).then((function(e){let t;t=x._skirtHeight>0?w["a"].getRegularGridAndSkirtIndicesAndEdgeIndices(e.gridWidth,e.gridHeight):w["a"].getRegularGridIndicesAndEdgeIndices(e.gridWidth,e.gridHeight);const n=e.gridWidth*e.gridHeight;return x._mesh=new y["a"](j,new Float32Array(e.vertices),t.indices,t.indexCountWithoutSkirts,n,e.minimumHeight,e.maximumHeight,i["a"].clone(e.boundingSphere3D),a["a"].clone(e.occludeePointInScaledSpace),e.numberOfAttributes,g["a"].clone(e.orientedBoundingBox),b["a"].clone(e.encoding),t.westIndicesSouthToNorth,t.southIndicesEastToWest,t.eastIndicesNorthToSouth,t.northIndicesWestToEast),x._buffer=void 0,x._mesh}))},_.prototype._createMeshSync=function(e){r["a"].typeOf.object("options.tilingScheme",e.tilingScheme),r["a"].typeOf.number("options.x",e.x),r["a"].typeOf.number("options.y",e.y),r["a"].typeOf.number("options.level",e.level);const t=e.tilingScheme,n=e.x,i=e.y,a=e.level,s=Object(o["a"])(e.exaggeration,1),c=Object(o["a"])(e.exaggerationRelativeHeight,0),h=t.ellipsoid,d=t.tileXYToNativeRectangle(n,i,a),g=t.tileXYToRectangle(n,i,a),p=h.cartographicToCartesian(f["a"].center(g)),m=this._structure,b=w["a"].getEstimatedLevelZeroGeometricErrorForAHeightmap(h,this._width,t.getNumberOfXTilesAtLevel(0)),_=b/(1<<a);this._skirtHeight=Math.min(4*_,1e3);const O=u["a"].computeVertices({heightmap:this._buffer,structure:m,includeWebMercatorT:!0,width:this._width,height:this._height,nativeRectangle:d,rectangle:g,relativeToCenter:p,ellipsoid:h,skirtHeight:this._skirtHeight,isGeographic:t.projection instanceof l["a"],exaggeration:s,exaggerationRelativeHeight:c});let E;this._buffer=void 0,E=this._skirtHeight>0?w["a"].getRegularGridAndSkirtIndicesAndEdgeIndices(this._width,this._height):w["a"].getRegularGridIndicesAndEdgeIndices(this._width,this._height);const T=O.gridWidth*O.gridHeight;return this._mesh=new y["a"](p,O.vertices,E.indices,E.indexCountWithoutSkirts,T,O.minimumHeight,O.maximumHeight,O.boundingSphere3D,O.occludeePointInScaledSpace,O.encoding.stride,O.orientedBoundingBox,O.encoding,E.westIndicesSouthToNorth,E.southIndicesEastToWest,E.eastIndicesNorthToSouth,E.northIndicesWestToEast),this._mesh},_.prototype.interpolateHeight=function(e,t,n){const i=this._width,a=this._height,r=this._structure,o=r.stride,c=r.elementsPerHeight,l=r.elementMultiplier,u=r.isBigEndian,d=r.heightOffset,g=r.heightScale,f=Object(s["a"])(this._mesh),p=this._encoding===h["a"].LERC,m=!f&&p;if(m)return;let b;if(f){const r=this._mesh.vertices,o=this._mesh.encoding;b=v(r,o,d,g,e,i,a,t,n)}else b=j(this._buffer,c,l,o,u,e,i,a,t,n),b=b*g+d;return b},_.prototype.upsample=function(e,t,n,i,a,r,o){if(!Object(s["a"])(e))throw new c["a"]("tilingScheme is required.");if(!Object(s["a"])(t))throw new c["a"]("thisX is required.");if(!Object(s["a"])(n))throw new c["a"]("thisY is required.");if(!Object(s["a"])(i))throw new c["a"]("thisLevel is required.");if(!Object(s["a"])(a))throw new c["a"]("descendantX is required.");if(!Object(s["a"])(r))throw new c["a"]("descendantY is required.");if(!Object(s["a"])(o))throw new c["a"]("descendantLevel is required.");const l=o-i;if(l>1)throw new c["a"]("Upsampling through more than one level at a time is not currently supported.");const h=this._mesh;if(!Object(s["a"])(h))return;const u=this._width,g=this._height,f=this._structure,p=f.stride,m=new this._bufferType(u*g*p),b=h.vertices,y=h.encoding,w=e.tileXYToRectangle(t,n,i),O=e.tileXYToRectangle(a,r,o),E=f.heightOffset,T=f.heightScale,j=f.elementsPerHeight,S=f.elementMultiplier,P=f.isBigEndian,A=Math.pow(S,j-1);for(let s=0;s<g;++s){const e=d["a"].lerp(O.north,O.south,s/(g-1));for(let t=0;t<u;++t){const n=d["a"].lerp(O.west,O.east,t/(u-1));let i=v(b,y,E,T,w,u,g,n,e);i=i<f.lowestEncodedHeight?f.lowestEncodedHeight:i,i=i>f.highestEncodedHeight?f.highestEncodedHeight:i,I(m,j,S,A,p,P,s*u+t,i)}}return new _({buffer:m,width:u,height:g,childTileMask:0,structure:this._structure,createdByUpsampling:!0})},_.prototype.isChildAvailable=function(e,t,n,i){if(!Object(s["a"])(e))throw new c["a"]("thisX is required.");if(!Object(s["a"])(t))throw new c["a"]("thisY is required.");if(!Object(s["a"])(n))throw new c["a"]("childX is required.");if(!Object(s["a"])(i))throw new c["a"]("childY is required.");let a=2;return n!==2*e&&++a,i!==2*t&&(a-=2),0!==(this._childTileMask&1<<a)},_.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling},t["a"]=_},bf0c:function(e,t,n){"use strict";const i={NONE:0,LERC:1};t["a"]=Object.freeze(i)},d0db:function(e,t,n){"use strict";var i=n("1a5d"),a=n("c937"),r=n("e2a6"),o=n("b8b5");function s(e,t,n){this.heading=Object(i["a"])(e,0),this.pitch=Object(i["a"])(t,0),this.roll=Object(i["a"])(n,0)}s.fromQuaternion=function(e,t){if(!Object(a["a"])(e))throw new r["a"]("quaternion is required");Object(a["a"])(t)||(t=new s);const n=2*(e.w*e.y-e.z*e.x),i=1-2*(e.x*e.x+e.y*e.y),c=2*(e.w*e.x+e.y*e.z),l=1-2*(e.y*e.y+e.z*e.z),h=2*(e.w*e.z+e.x*e.y);return t.heading=-Math.atan2(h,l),t.roll=Math.atan2(c,i),t.pitch=-o["a"].asinClamped(n),t},s.fromDegrees=function(e,t,n,i){if(!Object(a["a"])(e))throw new r["a"]("heading is required");if(!Object(a["a"])(t))throw new r["a"]("pitch is required");if(!Object(a["a"])(n))throw new r["a"]("roll is required");return Object(a["a"])(i)||(i=new s),i.heading=e*o["a"].RADIANS_PER_DEGREE,i.pitch=t*o["a"].RADIANS_PER_DEGREE,i.roll=n*o["a"].RADIANS_PER_DEGREE,i},s.clone=function(e,t){if(Object(a["a"])(e))return Object(a["a"])(t)?(t.heading=e.heading,t.pitch=e.pitch,t.roll=e.roll,t):new s(e.heading,e.pitch,e.roll)},s.equals=function(e,t){return e===t||Object(a["a"])(e)&&Object(a["a"])(t)&&e.heading===t.heading&&e.pitch===t.pitch&&e.roll===t.roll},s.equalsEpsilon=function(e,t,n,i){return e===t||Object(a["a"])(e)&&Object(a["a"])(t)&&o["a"].equalsEpsilon(e.heading,t.heading,n,i)&&o["a"].equalsEpsilon(e.pitch,t.pitch,n,i)&&o["a"].equalsEpsilon(e.roll,t.roll,n,i)},s.prototype.clone=function(e){return s.clone(this,e)},s.prototype.equals=function(e){return s.equals(this,e)},s.prototype.equalsEpsilon=function(e,t,n){return s.equalsEpsilon(this,e,t,n)},s.prototype.toString=function(){return`(${this.heading}, ${this.pitch}, ${this.roll})`},t["a"]=s},d4a6:function(e,t,n){"use strict";var i=n("877b"),a=n("1924"),r=n("ae9b"),o=n("3736"),s=n("1a5d"),c=n("c937"),l=n("eeae"),h=n("4e0d"),u=n("241a"),d=n("b8b5"),g=n("035e"),f=n("9f38"),p=n("e2aa"),m=n("86a0");function b(e){const t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n);for(let a=0;a<t;++a)i[a]=e.charCodeAt(a);return n}const y=b('Eô½\vyâjE",ÍqøIFgQ\0B%Æèa,f)\bÆ4Üjb%y\nwmiÖðk¡½NuàA[ß@V\fÙ»r|3SîOlÔq°{ÀEVZ­wUe\v3*¬l5Å0sø3>mF8J´Ýð.ÝuÚDt"úa"\f3"So¯9D\v9Ù9L¹¿«\\P_"uxéqh;ÁÄð<VqH\'UfYNeu£aF}a?A\0×´4MÎF°Õ¸\'{Ü+»Mg0ÈÑö\\Pú[/Fn5/\'C.ë\n\f^¥se4ål.jC\'c#U©?q{gC}:¯ÍâTUýKÆâ/(íË\\Æ-f§;/*"N°k.Ý\r}}GºC²²+>Mª>}æÎIÆæx\fa1-¤O¥~q ì\r1èN\v\0nPh}=\b\r¦n£h$[kó#ó¶s³\r\v@ÀØQ]ú".jßI\0¹ wUÆïj¿{GLîÜÜF©­S+S4ÿYä8è1N¹XFkË-#p\x005"Ï1²&/çÃu-6,rt°#G·ÓÑ&7râ\0DÏÚ3-Þ`i#i*|ÍKQ\rT9w.)ê¦P¢joP\\>TûïP[\vEm(w7ÛJfJo åpâ¹q~\fmI-zþrÇòY0»]såÉ êxì ðB|G`°½&·q¶ÇÑ3=Ó«îcÈ+S D\\qÆÌD2O<ÊÀ)=RÓaX©}e´ÜÏ\rô=ñ\b©BÚ#\tØ¿^PIøMÀËGLO÷{+ØÅ1;µoÜl\rÑÛ?âéÚ_ÔâFaZÞUÏ¤\0¾ýÎgñJiæ HØ]~®q N®ÀV©<rçvì)IÖ]-ãÛ6©;fjÕ¶=P^R¹KÇsWxÉô.YoÐKW>\'\'Ç`Û;íSD>?mw¢\në?R¨ÆU^1I7ôÅ&-©¿\'TÚÃj å*x°Öprªh½÷_H±~ÀXL?fù>áeÀp§Ï8i¯ðVldI\'­xtOÂÞV9\0Úw\vË-û5Oõ\bQ`Á\nZGM&30xÚÀFGâ[y`In7gS\n>éìF9²ñ4\rÆSuná\fYÙÞ){II¥wy¾IV.6ç\v:»Ob{ÒM1/½8{¨O!áìFpv})"x\nÝ\\ÚÞQÏðüYRe|3ßóHÚ»*uÛ`²Ôüíì5¨ÿ(1-ÈÜF|["');function w(e){r["a"].defined("resourceOrUrl",e);let t=e;"string"===typeof t||t instanceof f["a"]||(r["a"].typeOf.string("resourceOrUrl.url",e.url),t=e.url);const n=f["a"].createIfNeeded(t);n.appendForwardSlash(),this._resource=n,this.imageryPresent=!0,this.protoImagery=void 0,this.terrainPresent=!0,this.negativeAltitudeExponentBias=32,this.negativeAltitudeThreshold=d["a"].EPSILON12,this.providers={},this.key=void 0,this._quadPacketVersion=1,this._tileInfo={},this._subtreePromises={};const i=this;this._readyPromise=v(this).then((function(){return i.getQuadTreePacket("",i._quadPacketVersion)})).then((function(){return!0})).catch((function(e){const t=`An error occurred while accessing ${E(i,"",1).url}.`;return Promise.reject(new p["a"](t))}))}Object.defineProperties(w.prototype,{url:{get:function(){return this._resource.url}},proxy:{get:function(){return this._resource.proxy}},resource:{get:function(){return this._resource}},readyPromise:{get:function(){return this._readyPromise}}}),w.tileXYToQuadKey=function(e,t,n){let i="";for(let a=n;a>=0;--a){const n=1<<a;let r=0;Object(h["a"])(t,n)?Object(h["a"])(e,n)&&(r|=1):(r|=2,Object(h["a"])(e,n)||(r|=1)),i+=r}return i},w.quadKeyToTileXY=function(e){let t=0,n=0;const i=e.length-1;for(let a=i;a>=0;--a){const r=1<<a,o=+e[i-a];Object(h["a"])(o,2)?Object(h["a"])(o,1)||(t|=r):(n|=r,Object(h["a"])(o,1)&&(t|=r))}return{x:t,y:n,level:i}},w.prototype.isValid=function(e){let t=this.getTileInformationFromQuadKey(e);if(Object(c["a"])(t))return null!==t;let n,i=!0,a=e;while(a.length>1){if(n=a.substring(a.length-1),a=a.substring(0,a.length-1),t=this.getTileInformationFromQuadKey(a),Object(c["a"])(t)){t.hasSubtree()||t.hasChild(parseInt(n))||(i=!1);break}if(null===t){i=!1;break}}return i};const _=new m["a"]("decodeGoogleEarthEnterprisePacket");function O(e,t,n){const i=e._tileInfo;let a,r=t,o=i[r];if(Object(c["a"])(o)&&(!o.hasSubtree()||o.hasChildren()))return o;while(void 0===o&&r.length>1)r=r.substring(0,r.length-1),o=i[r];const s=e._subtreePromises;let l=s[r];return Object(c["a"])(l)?l.then((function(){return a=new g["a"]({throttle:n.throttle,throttleByServer:n.throttleByServer,type:n.type,priorityFunction:n.priorityFunction}),O(e,t,a)})):Object(c["a"])(o)&&o.hasSubtree()?(l=e.getQuadTreePacket(r,o.cnodeVersion,n),Object(c["a"])(l)?(s[r]=l,l.then((function(){return a=new g["a"]({throttle:n.throttle,throttleByServer:n.throttleByServer,type:n.type,priorityFunction:n.priorityFunction}),O(e,t,a)})).finally((function(){delete s[r]}))):void 0):Promise.reject(new p["a"]("Couldn't load metadata for tile "+t))}function E(e,t,n,i){return e._resource.getDerivedResource({url:`flatfile?q2-0${t}-q.${n.toString()}`,request:i})}let T,j;function v(e){const t=e._resource.getDerivedResource({url:"dbRoot.v5",queryParameters:{output:"proto"}});if(!Object(c["a"])(j)){const e=Object(a["a"])("ThirdParty/google-earth-dbroot-parser.js"),t=window.cesiumGoogleEarthDbRootParser;j=Object(u["a"])(e).then((function(){T=window.cesiumGoogleEarthDbRootParser(i["a"]),Object(c["a"])(t)?window.cesiumGoogleEarthDbRootParser=t:delete window.cesiumGoogleEarthDbRootParser}))}return j.then((function(){return t.fetchArrayBuffer()})).then((function(t){const n=T.EncryptedDbRootProto.decode(new Uint8Array(t));let i=n.encryptionData,a=i.byteOffset,r=a+i.byteLength;const o=e.key=i.buffer.slice(a,r);i=n.dbrootData,a=i.byteOffset,r=a+i.byteLength;const s=i.buffer.slice(a,r);return _.scheduleTask({buffer:s,type:"DbRoot",key:o},[s])})).then((function(t){const n=T.DbRootProto.decode(new Uint8Array(t.buffer));if(e.imageryPresent=Object(s["a"])(n.imageryPresent,e.imageryPresent),e.protoImagery=n.protoImagery,e.terrainPresent=Object(s["a"])(n.terrainPresent,e.terrainPresent),Object(c["a"])(n.endSnippet)&&Object(c["a"])(n.endSnippet.model)){const t=n.endSnippet.model;e.negativeAltitudeExponentBias=Object(s["a"])(t.negativeAltitudeExponentBias,e.negativeAltitudeExponentBias),e.negativeAltitudeThreshold=Object(s["a"])(t.compressedNegativeAltitudeThreshold,e.negativeAltitudeThreshold)}Object(c["a"])(n.databaseVersion)&&(e._quadPacketVersion=Object(s["a"])(n.databaseVersion.quadtreeVersion,e._quadPacketVersion));const i=e.providers,a=Object(s["a"])(n.providerInfo,[]),r=a.length;for(let e=0;e<r;++e){const t=a[e],n=t.copyrightString;Object(c["a"])(n)&&(i[t.providerId]=new o["a"](n.value))}})).catch((function(){console.log(`Failed to retrieve ${t.url}. Using defaults.`),e.key=y}))}w.prototype.getQuadTreePacket=function(e,t,n){t=Object(s["a"])(t,1),e=Object(s["a"])(e,"");const i=E(this,e,t,n),a=i.fetchArrayBuffer();if(!Object(c["a"])(a))return;const r=this._tileInfo,o=this.key;return a.then((function(t){const n=_.scheduleTask({buffer:t,quadKey:e,type:"Metadata",key:o},[t]);return n.then((function(t){let n,i=-1;if(""!==e){i=e.length+1;const a=t[e];n=r[e],n._bits|=a._bits,delete t[e]}const a=Object.keys(t);a.sort((function(e,t){return e.length-t.length}));const o=a.length;for(let e=0;e<o;++e){const o=a[e],s=t[o];if(null!==s){const e=l["a"].clone(t[o]),a=o.length;if(a===i)e.setParent(n);else if(a>1){const t=r[o.substring(0,o.length-1)];e.setParent(t)}r[o]=e}else r[o]=null}}))}))},w.prototype.populateSubtree=function(e,t,n,i){const a=w.tileXYToQuadKey(e,t,n);return O(this,a,i)},w.prototype.getTileInformation=function(e,t,n){const i=w.tileXYToQuadKey(e,t,n);return this._tileInfo[i]},w.prototype.getTileInformationFromQuadKey=function(e){return this._tileInfo[e]},t["a"]=w},d9fe:function(e,t,n){"use strict";function i(e,t,n,i){this.rightAscension=e,this.declination=t,this.rotation=n,this.rotationRate=i}t["a"]=i},de6f:function(e,t,n){"use strict";var i=n("dde0"),a=n("c937"),r=n("3f9f"),o=n("6247"),s=n("b8b5"),c=n("d767"),l=n("1b9c");function h(e){Object(a["a"])(e)&&"function"===typeof e||(e=r["a"].ComputeMoon),this._computeFunction=e}const u=new i["a"],d=new i["a"],g=new i["a"];function f(e,t,n){const r=u;r.x=Math.cos(e+s["a"].PI_OVER_TWO),r.y=Math.sin(e+s["a"].PI_OVER_TWO),r.z=0;const o=Math.cos(t),l=g;l.x=o*Math.cos(e),l.y=o*Math.sin(e),l.z=Math.sin(t);const h=i["a"].cross(l,r,d);return Object(a["a"])(n)||(n=new c["a"]),n[0]=r.x,n[1]=h.x,n[2]=l.x,n[3]=r.y,n[4]=h.y,n[5]=l.y,n[6]=r.z,n[7]=h.z,n[8]=l.z,n}const p=new c["a"],m=new l["a"];h.prototype.evaluate=function(e,t){Object(a["a"])(e)||(e=o["a"].now());const n=this._computeFunction(e),r=f(n.rightAscension,n.declination,t),h=s["a"].zeroToTwoPi(n.rotation),u=l["a"].fromAxisAngle(i["a"].UNIT_Z,h,m),d=c["a"].fromQuaternion(l["a"].conjugate(u,u),p),g=c["a"].multiply(d,r,r);return g},t["a"]=h},df9d:function(e,t,n){"use strict";var i=n("ae9b"),a=n("1a5d"),r=n("c937");function o(e){i["a"].typeOf.object("options",e),i["a"].defined("options.comparator",e.comparator),this._comparator=e.comparator,this._array=[],this._length=0,this._maximumLength=void 0}function s(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}Object.defineProperties(o.prototype,{length:{get:function(){return this._length}},internalArray:{get:function(){return this._array}},maximumLength:{get:function(){return this._maximumLength},set:function(e){i["a"].typeOf.number.greaterThanOrEquals("maximumLength",e,0);const t=this._length;if(e<t){const n=this._array;for(let i=e;i<t;++i)n[i]=void 0;this._length=e,n.length=e}this._maximumLength=e}},comparator:{get:function(){return this._comparator}}}),o.prototype.reserve=function(e){e=Object(a["a"])(e,this._length),this._array.length=e},o.prototype.heapify=function(e){e=Object(a["a"])(e,0);const t=this._length,n=this._comparator,i=this._array;let r=-1,o=!0;while(o){const a=2*(e+1),c=a-1;r=c<t&&n(i[c],i[e])<0?c:e,a<t&&n(i[a],i[r])<0&&(r=a),r!==e?(s(i,r,e),e=r):o=!1}},o.prototype.resort=function(){const e=this._length;for(let t=Math.ceil(e/2);t>=0;--t)this.heapify(t)},o.prototype.insert=function(e){i["a"].defined("element",e);const t=this._array,n=this._comparator,a=this._maximumLength;let o,c=this._length++;c<t.length?t[c]=e:t.push(e);while(0!==c){const e=Math.floor((c-1)/2);if(!(n(t[c],t[e])<0))break;s(t,c,e),c=e}return Object(r["a"])(a)&&this._length>a&&(o=t[a],this._length=a),o},o.prototype.pop=function(e){if(e=Object(a["a"])(e,0),0===this._length)return;i["a"].typeOf.number.lessThan("index",e,this._length);const t=this._array,n=t[e];return s(t,e,--this._length),this.heapify(e),t[this._length]=void 0,n},t["a"]=o},dff6:function(e,t,n){"use strict";var i=n("ae9b"),a=n("e2a6");const r={};function o(e,t,n,i){if(0!==i)return;1===n&&(t.x=e-1-t.x,t.y=e-1-t.y);const a=t.x;t.x=t.y,t.y=a}r.encode2D=function(e,t,n){const r=Math.pow(2,e);if(i["a"].typeOf.number("level",e),i["a"].typeOf.number("x",t),i["a"].typeOf.number("y",n),e<1)throw new a["a"]("Hilbert level cannot be less than 1.");if(t<0||t>=r||n<0||n>=r)throw new a["a"]("Invalid coordinates for given level.");const s={x:t,y:n};let c,l,h,u=BigInt(0);for(h=r/2;h>0;h/=2)c=(s.x&h)>0?1:0,l=(s.y&h)>0?1:0,u+=BigInt((3*c^l)*h*h),o(r,s,c,l);return u},r.decode2D=function(e,t){if(i["a"].typeOf.number("level",e),i["a"].typeOf.bigint("index",t),e<1)throw new a["a"]("Hilbert level cannot be less than 1.");if(t<BigInt(0)||t>=BigInt(Math.pow(4,e)))throw new a["a"]("Hilbert index exceeds valid maximum for given level.");const n=Math.pow(2,e),r={x:0,y:0};let s,c,l,h;for(l=1,h=t;l<n;l*=2)s=1&Number(h/BigInt(2)),c=1&Number(h^BigInt(s)),o(l,r,s,c),r.x+=l*s,r.y+=l*c,h/=BigInt(4);return[r.x,r.y]},t["a"]=r},eeae:function(e,t,n){"use strict";var i=n("c937"),a=n("4e0d");const r=[1,2,4,8],o=15,s=16,c=64,l=128;function h(e,t,n,i,a,r){this._bits=e,this.cnodeVersion=t,this.imageryVersion=n,this.terrainVersion=i,this.imageryProvider=a,this.terrainProvider=r,this.ancestorHasTerrain=!1,this.terrainState=void 0}h.clone=function(e,t){return Object(i["a"])(t)?(t._bits=e._bits,t.cnodeVersion=e.cnodeVersion,t.imageryVersion=e.imageryVersion,t.terrainVersion=e.terrainVersion,t.imageryProvider=e.imageryProvider,t.terrainProvider=e.terrainProvider):t=new h(e._bits,e.cnodeVersion,e.imageryVersion,e.terrainVersion,e.imageryProvider,e.terrainProvider),t.ancestorHasTerrain=e.ancestorHasTerrain,t.terrainState=e.terrainState,t},h.prototype.setParent=function(e){this.ancestorHasTerrain=e.ancestorHasTerrain||this.hasTerrain()},h.prototype.hasSubtree=function(){return Object(a["a"])(this._bits,s)},h.prototype.hasImagery=function(){return Object(a["a"])(this._bits,c)},h.prototype.hasTerrain=function(){return Object(a["a"])(this._bits,l)},h.prototype.hasChildren=function(){return Object(a["a"])(this._bits,o)},h.prototype.hasChild=function(e){return Object(a["a"])(this._bits,r[e])},h.prototype.getChildBitmask=function(){return this._bits&o},t["a"]=h},f187:function(e,t,n){"use strict";var i=n("3736"),a=n("1a5d"),r=n("c937"),o=n("e2a6"),s=n("f7b5"),c=n("2dd3"),l=n("d4a6"),h=n("2e15"),u=n("b869"),d=n("6247"),g=n("b8b5"),f=n("4a63"),p=n("035e"),m=n("06d8"),b=n("bb9e"),y=n("9f38"),w=n("e2aa"),_=n("86a0"),O=n("3242");const E={UNKNOWN:0,NONE:1,SELF:2,PARENT:3},T=new d["a"];function j(){this._terrainCache={},this._lastTidy=d["a"].now()}function v(e){if(e=Object(a["a"])(e,a["a"].EMPTY_OBJECT),!Object(r["a"])(e.url)&&!Object(r["a"])(e.metadata))throw new o["a"]("options.url or options.metadata is required.");let t;if(Object(r["a"])(e.metadata))t=e.metadata;else{const n=y["a"].createIfNeeded(e.url);t=new l["a"](n)}this._metadata=t,this._tilingScheme=new c["a"]({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,rectangle:new f["a"](-g["a"].PI,-g["a"].PI,g["a"].PI,g["a"].PI),ellipsoid:e.ellipsoid});let n=e.credit;"string"===typeof n&&(n=new i["a"](n)),this._credit=n,this._levelZeroMaximumGeometricError=40075.16,this._terrainCache=new j,this._terrainPromises={},this._terrainRequests={},this._errorEvent=new s["a"],this._ready=!1;const h=this;let u;this._readyPromise=t.readyPromise.then((function(e){if(!t.terrainPresent){const e=new w["a"](`The server ${t.url} doesn't have terrain`);return u=O["a"].handleError(u,h,h._errorEvent,e.message,void 0,void 0,void 0,e),Promise.reject(e)}return O["a"].handleSuccess(u),h._ready=e,e})).catch((function(e){return u=O["a"].handleError(u,h,h._errorEvent,e.message,void 0,void 0,void 0,e),Promise.reject(e)}))}j.prototype.add=function(e,t){this._terrainCache[e]={buffer:t,timestamp:d["a"].now()}},j.prototype.get=function(e){const t=this._terrainCache,n=t[e];if(Object(r["a"])(n))return delete this._terrainCache[e],n.buffer},j.prototype.tidy=function(){if(d["a"].now(T),d["a"].secondsDifference(T,this._lastTidy)>10){const e=this._terrainCache,t=Object.keys(e),n=t.length;for(let i=0;i<n;++i){const n=t[i],a=e[n];d["a"].secondsDifference(T,a.timestamp)>10&&delete e[n]}d["a"].clone(T,this._lastTidy)}},Object.defineProperties(v.prototype,{url:{get:function(){return this._metadata.url}},proxy:{get:function(){return this._metadata.proxy}},tilingScheme:{get:function(){if(!this._ready)throw new o["a"]("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){return this._credit}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}},availability:{get:function(){}}});const S=new _["a"]("decodeGoogleEarthEnterprisePacket");function P(e,t,n){let i=t.getChildBitmask();if(t.terrainState===E.PARENT){i=0;for(let t=0;t<4;++t){const a=n.getTileInformationFromQuadKey(e+t.toString());Object(r["a"])(a)&&a.hasTerrain()&&(i|=1<<t)}}return i}function I(e,t,n,i){return n=Object(r["a"])(n)&&n>0?n:1,e._metadata.resource.getDerivedResource({url:`flatfile?f1c-0${t}-t.${n.toString()}`,request:i})}v.prototype.requestTileGeometry=function(e,t,n,i){if(!this._ready)throw new o["a"]("requestTileGeometry must not be called before the terrain provider is ready.");const a=l["a"].tileXYToQuadKey(e,t,n),s=this._terrainCache,c=this._metadata,d=c.getTileInformationFromQuadKey(a);if(!Object(r["a"])(d))return Promise.reject(new w["a"]("Terrain tile doesn't exist"));let g=d.terrainState;Object(r["a"])(g)||(g=d.terrainState=E.UNKNOWN);const f=s.get(a);if(Object(r["a"])(f)){const e=c.providers[d.terrainProvider];return Promise.resolve(new h["a"]({buffer:f,childTileMask:P(a,d,c),credits:Object(r["a"])(e)?[e]:void 0,negativeAltitudeExponentBias:c.negativeAltitudeExponentBias,negativeElevationThreshold:c.negativeAltitudeThreshold}))}if(s.tidy(),!d.ancestorHasTerrain)return Promise.resolve(new u["a"]({buffer:new Uint8Array(256),width:16,height:16}));if(g===E.NONE)return Promise.reject(new w["a"]("Terrain tile doesn't exist"));let p,b=a,y=-1;switch(g){case E.SELF:y=d.terrainVersion;break;case E.PARENT:b=b.substring(0,b.length-1),p=c.getTileInformationFromQuadKey(b),y=p.terrainVersion;break;case E.UNKNOWN:d.hasTerrain()?y=d.terrainVersion:(b=b.substring(0,b.length-1),p=c.getTileInformationFromQuadKey(b),Object(r["a"])(p)&&p.hasTerrain()&&(y=p.terrainVersion));break}if(y<0)return Promise.reject(new w["a"]("Terrain tile doesn't exist"));const _=this._terrainPromises,O=this._terrainRequests;let T,j;if(Object(r["a"])(_[b]))T=_[b],j=O[b];else{j=i;const e=I(this,b,y,j).fetchArrayBuffer();if(!Object(r["a"])(e))return;T=e.then((function(e){return Object(r["a"])(e)?S.scheduleTask({buffer:e,type:"Terrain",key:c.key},[e]).then((function(e){const t=c.getTileInformationFromQuadKey(b);t.terrainState=E.SELF,s.add(b,e[0]);const n=t.terrainProvider,i=e.length-1;for(let a=0;a<i;++a){const t=b+a.toString(),i=c.getTileInformationFromQuadKey(t);Object(r["a"])(i)&&(s.add(t,e[a+1]),i.terrainState=E.PARENT,0===i.terrainProvider&&(i.terrainProvider=n))}})):Promise.reject(new w["a"]("Failed to load terrain."))})),_[b]=T,O[b]=j,T=T.finally((function(){delete _[b],delete O[b]}))}return T.then((function(){const e=s.get(a);if(Object(r["a"])(e)){const t=c.providers[d.terrainProvider];return new h["a"]({buffer:e,childTileMask:P(a,d,c),credits:Object(r["a"])(t)?[t]:void 0,negativeAltitudeExponentBias:c.negativeAltitudeExponentBias,negativeElevationThreshold:c.negativeAltitudeThreshold})}return Promise.reject(new w["a"]("Failed to load terrain."))})).catch((function(e){return j.state===m["a"].CANCELLED?(i.state=j.state,Promise.reject(e)):(d.terrainState=E.NONE,Promise.reject(e))}))},v.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},v.prototype.getTileDataAvailable=function(e,t,n){const i=this._metadata;let a=l["a"].tileXYToQuadKey(e,t,n);const o=i.getTileInformation(e,t,n);if(null===o)return!1;if(Object(r["a"])(o)){if(!o.ancestorHasTerrain)return!0;const e=o.terrainState;if(e===E.NONE)return!1;if((!Object(r["a"])(e)||e===E.UNKNOWN)&&(o.terrainState=E.UNKNOWN,!o.hasTerrain())){a=a.substring(0,a.length-1);const e=i.getTileInformationFromQuadKey(a);if(!Object(r["a"])(e)||!e.hasTerrain())return!1}return!0}if(i.isValid(a)){const a=new p["a"]({throttle:!1,throttleByServer:!0,type:b["a"].TERRAIN});i.populateSubtree(e,t,n,a)}return!1},v.prototype.loadTileDataAvailability=function(e,t,n){}}}]);