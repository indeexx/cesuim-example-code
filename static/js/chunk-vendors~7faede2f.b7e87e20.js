(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~7faede2f"],{bdab:function(e,t,a){"use strict";var s=a("77df"),o=a("8c64"),r=a("dde0"),n=a("666e"),i=a("ae9b"),c=a("cbf0"),f=a("1a5d"),d=a("61ad"),h=a("c937"),l=a("2323"),p=a("f729"),u=a("722e"),b=a("aac0"),_=a("afe9"),A=a("7c8c"),y=a("1901"),O=a("13e9"),m=a("dc50"),T=a("5f79");const L={UNLOADED:0,LOADING:1,PROCESSING:2,READY:3,FAILED:4},E=_["a"].FeatureIdAttribute;function j(e){e=Object(f["a"])(e,f["a"].EMPTY_OBJECT);const t=e.b3dmResource;let a=e.baseResource;const o=e.arrayBuffer,r=Object(f["a"])(e.byteOffset,0),n=Object(f["a"])(e.releaseGltfJson,!1),c=Object(f["a"])(e.asynchronous,!0),l=Object(f["a"])(e.incrementallyLoadTextures,!0),p=Object(f["a"])(e.upAxis,s["a"].Y),b=Object(f["a"])(e.forwardAxis,s["a"].X),_=Object(f["a"])(e.loadAsTypedArray,!1);i["a"].typeOf.object("options.b3dmResource",t),i["a"].typeOf.object("options.arrayBuffer",o),a=Object(h["a"])(a)?a:t.clone(),this._b3dmResource=t,this._baseResource=a,this._arrayBuffer=o,this._byteOffset=r,this._releaseGltfJson=n,this._asynchronous=c,this._incrementallyLoadTextures=l,this._upAxis=p,this._forwardAxis=b,this._loadAsTypedArray=_,this._state=L.UNLOADED,this._promise=Object(d["a"])(),this._gltfLoader=void 0,this._batchLength=0,this._propertyTable=void 0,this._batchTable=void 0,this._components=void 0,this._transform=u["a"].IDENTITY}function g(e,t){e.unload(),e._state=L.FAILED;const a="Failed to load b3dm";t=e.getError(a,t),e._promise.reject(t)}function D(e,t){const a=e._batchTable,s=e._batchLength;if(0===s)return;let o;if(Object(h["a"])(a.json))o=Object(y["a"])({count:s,batchTable:a.json,binaryBody:a.binary});else{const e=new O["a"]({name:b["a"].BATCH_TABLE_CLASS_NAME,count:s});o=new l["a"]({schema:{},propertyTables:[e]})}const r=t.scene.nodes;for(let n=0;n<r.length;n++)R(r[n]);t.structuralMetadata=o}function R(e){if(!Object(h["a"])(e.children)&&!Object(h["a"])(e.primitives))return;let t;if(Object(h["a"])(e.children))for(t=0;t<e.children.length;t++)R(e.children[t]);if(Object(h["a"])(e.primitives))for(t=0;t<e.primitives.length;t++){const a=e.primitives[t],s=A["a"].getAttributeBySemantic(a,T["a"].FEATURE_ID);if(Object(h["a"])(s)){s.setIndex=0;const e=new E;e.propertyTableId=0,e.setIndex=0,e.positionalLabel="featureId_0",a.featureIds.push(e)}}}Object(h["a"])(Object.create)&&(j.prototype=Object.create(m["a"].prototype),j.prototype.constructor=j),Object.defineProperties(j.prototype,{promise:{get:function(){return this._promise.promise}},texturesLoadedPromise:{get:function(){return this._gltfLoader.texturesLoadedPromise}},cacheKey:{get:function(){}},components:{get:function(){return this._components}}}),j.prototype.load=function(){const e=o["a"].parse(this._arrayBuffer,this._byteOffset);let t=e.batchLength;const a=e.featureTableJson,s=e.featureTableBinary,i=e.batchTableJson,f=e.batchTableBinary,d=new n["a"](a,s);t=d.getGlobalProperty("BATCH_LENGTH"),this._batchLength=t;const l=d.getGlobalProperty("RTC_CENTER",c["a"].FLOAT,3);Object(h["a"])(l)&&(this._transform=u["a"].fromTranslation(r["a"].fromArray(l))),this._batchTable={json:i,binary:f};const b=new p["a"]({typedArray:e.gltf,upAxis:this._upAxis,forwardAxis:this._forwardAxis,gltfResource:this._b3dmResource,baseResource:this._baseResource,releaseGltfJson:this._releaseGltfJson,incrementallyLoadTextures:this._incrementallyLoadTextures,loadAsTypedArray:this._loadAsTypedArray,renameBatchIdSemantic:!0});this._gltfLoader=b,this._state=L.LOADING;const _=this;b.load(),b.promise.then((function(){if(_.isDestroyed())return;const e=b.components;e.transform=_._transform,D(_,e),_._components=e,_._state=L.READY,_._promise.resolve(_)})).catch((function(e){_.isDestroyed()||g(_,e)}))},j.prototype.process=function(e){i["a"].typeOf.object("frameState",e),this._state===L.LOADING&&(this._state=L.PROCESSING),this._state===L.PROCESSING&&this._gltfLoader.process(e)},j.prototype.unload=function(){Object(h["a"])(this._gltfLoader)&&this._gltfLoader.unload(),this._components=void 0},t["a"]=j},fa44:function(e,t,a){"use strict";var s=a("1a5d"),o=a("1197"),r=a("8574"),n=a("da23"),i=a("51f2");const c={name:"AlphaPipelineStage",process:function(e,t,a){const c=e.alphaOptions,f=e.model;c.pass=Object(s["a"])(c.pass,f.opaquePass);const d=e.renderStateOptions;c.pass===i["a"].TRANSLUCENT?d.blending=n["a"].ALPHA_BLEND:d.blending=n["a"].DISABLED;const h=e.shaderBuilder,l=e.uniformMap,p=c.alphaMode;p===r["a"].MASK?(h.addDefine("ALPHA_MODE_MASK",void 0,o["a"].FRAGMENT),h.addUniform("float","u_alphaCutoff",o["a"].FRAGMENT),l.u_alphaCutoff=function(){return c.alphaCutoff}):p===r["a"].BLEND?h.addDefine("ALPHA_MODE_BLEND",void 0,o["a"].FRAGMENT):h.addDefine("ALPHA_MODE_OPAQUE",void 0,o["a"].FRAGMENT)}};t["a"]=c}}]);